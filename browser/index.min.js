var FloBezier;(()=>{"use strict";var t={d:(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{areBeziersInSameKFamily:()=>Vg,areBoxesIntersecting:()=>ea,area:()=>sr,bezier3Intersection:()=>ta,bezierBezierIntersection:()=>Cl,bezierSelfIntersection:()=>Il,circleBezierIntersection:()=>dd,clone:()=>to,closestPointOnBezier:()=>_h,closestPointOnBezierCertified:()=>Og,controlPointLinesLength:()=>Dg,cubicThroughPointGiven013:()=>av,curvature:()=>Mv,equal:()=>io,evalDeCasteljau:()=>Vr,evalDeCasteljauError:()=>kf,evalDeCasteljauWithErr:()=>ua,evalDeCasteljauWithErrDd:()=>pa,evaluate:()=>pd,evaluateDdxy:()=>bd,evaluateDxy:()=>md,evaluateExact:()=>Yg,fitQuadsToCubic:()=>Ih,flatness:()=>Gr,fromPowerBasis:()=>sv,fromTo:()=>Rr,fromToPrecise:()=>kr,generateCuspAtHalf3:()=>lv,generateSelfIntersecting:()=>hv,getBoundingBox:()=>Kg,getBoundingBoxTight:()=>Jg,getBoundingHull:()=>Ed,getBounds:()=>Ug,getCoeffsBez1Bez1Dd:()=>Xi,getCoeffsBez1Bez1Exact:()=>Bc,getCoeffsBez1Bez2Dd:()=>Pu,getCoeffsBez1Bez2Exact:()=>Ks,getCoeffsBez1Bez3Dd:()=>tc,getCoeffsBez1Bez3Exact:()=>bf,getCoeffsBez2Bez1Dd:()=>fu,getCoeffsBez2Bez1Exact:()=>Rc,getCoeffsBez2Bez2Dd:()=>Vu,getCoeffsBez2Bez2Exact:()=>of,getCoeffsBez2Bez3Dd:()=>sc,getCoeffsBez2Bez3Exact:()=>xf,getCoeffsBez3Bez1Dd:()=>Tu,getCoeffsBez3Bez1Exact:()=>js,getCoeffsBez3Bez2Dd:()=>Xu,getCoeffsBez3Bez2Exact:()=>af,getCoeffsBez3Bez3Dd:()=>pc,getCoeffsBez3Bez3Exact:()=>Of,getCoeffsBez3Exact:()=>$o,getCoeffsBez3WithRunningError:()=>Ho,getCoeffsBezBez:()=>Ff,getControlPointBox:()=>Nh,getCurvatureExtrema:()=>qg,getDddxy:()=>mv,getDdxy:()=>vv,getDdxyAt0:()=>bv,getDdxyAt1:()=>dv,getDxy:()=>cr,getDxyAt0:()=>pv,getDxyAt1:()=>gv,getHodograph:()=>fv,getImplicitForm1:()=>Ja,getImplicitForm1Dd:()=>ev,getImplicitForm1DdWithRunningError:()=>ki,getImplicitForm1ErrorCounters:()=>ov,getImplicitForm1Exact:()=>Nc,getImplicitForm2:()=>cs,getImplicitForm2Dd:()=>Ka,getImplicitForm2DdWithRunningError:()=>nu,getImplicitForm2ErrorCounters:()=>vs,getImplicitForm2Exact:()=>Dc,getImplicitForm3:()=>Ts,getImplicitForm3Dd:()=>Wa,getImplicitForm3DdWithRunningError:()=>mu,getImplicitForm3ErrorCounters:()=>ys,getImplicitForm3Exact:()=>Uc,getInflections:()=>xa,getInterfaceRotation:()=>Ma,getIntervalBox:()=>Hf,getIntervalBoxDd:()=>Kv,getTAtLength:()=>oo,getV:()=>_v,getXY:()=>rr,getXY3DdWithRunningError:()=>Ci,hausdorffDistance:()=>Lg,hausdorffDistanceCandidates:()=>Cg,intersectBoxes:()=>Uf,isCollinear:()=>So,isCubicReallyQuad:()=>Mo,isHorizontal:()=>To,isPointOnBezierExtension:()=>Ys,isQuadObtuse:()=>Sv,isQuadReallyLine:()=>po,isReallyPoint:()=>lo,isSelfOverlapping:()=>Rg,isVertical:()=>Bo,length:()=>Jr,lineToCubic:()=>no,normal:()=>Iv,quadToPolyline:()=>Bv,quadraticToCubic:()=>eo,reverse:()=>wa,splitAt:()=>Pr,splitAtPrecise:()=>Dr,splitByCurvatureAndLength:()=>Ag,splitByMaxCurvature:()=>Wr,splitByMaxCurveLength:()=>Fg,tFromXY3:()=>Yf,tangent:()=>Ev,toCubic:()=>ro,toEstimation:()=>cv,toExpansion:()=>iv,toHybridQuadratic:()=>Zg,toQuadraticFromCubic:()=>wi,toString:()=>Id,totalAbsoluteCurvature:()=>Ba,totalCurvature:()=>ya,totalLength:()=>Zr,κ:()=>xv});var e={};t.r(e);var r={};function o(t){return t[t.length-1]}function i(t){var n=new ArrayBuffer(8);return new DataView(n).setFloat64(0,t,!1),Array.from(new Uint8Array(n))}function u(t){return i(t).map(c).join("")}function c(t){let n=t.toString(2);for(;n.length<8;n="0"+n);return n}function s(t){let n=i(t),e=n[0],r=n[1],o=e>>7,u=((127&e)<<4)+((240&r)>>4),c=0===u?0:16,s=0===u?u-1022:u-1023,f=n.slice(1);return f[0]=(15&r)+c,{sign:o,exponent:s,significand:f}}function f(t){return s(t).significand}function l(t){return Math.log2(t&-t)}function h(t){if(0===t||!Number.isFinite(t))return NaN;let n=f(t),e=n.length;for(let t=e-1;t>=0;t--){if(0===n[t])continue;let r=l(n[t]);if(Number.isFinite(r))return 8*(e-t-1)+r}return NaN}function a(t){return t>=128?7:t>=64?6:t>=32?5:t>=16?4:t>=8?3:t>=4?2:t>=2?1:t>=1?0:NaN}function v(t){if(0===t||!Number.isFinite(t))return NaN;let n=f(t),e=n.length;for(let t=0;t<e;t++){let r=a(n[t]);if(Number.isFinite(r))return 8*(e-t-1)+r}return NaN}function g(t){return s(t).exponent}function d(t){if(0===t||!Number.isFinite(t))return NaN;let n=g(t);return v(t)-52+n}function p(t){const n=t.slice(),e=n.length;if(1===e)return n;let r=n[e-1],o=e;for(let t=e-2;t>=0;--t){const e=r,i=n[t];r=e+i;const u=i-(r-e);u&&(n[--o]=r,r=u)}let i=0;for(let t=o;t<e;++t){const e=n[t],o=r;r=e+o;const u=o-(r-e);u&&(n[i++]=u)}return n[i++]=r,n.length=i,n}function b(t,n){const e=(2**(53-n)+1)*t;return e-(e-t)}t.r(r);const m=o,E=p;function I(t,n){if(t=E(t),0===m(t))return[0];let e=d(t[t.length-1]),r=e,o=t.length-1;for(;o>0;){let i=d(t[o-1]);if(e-i>n)break;r=i,o--}let i=Math.min(n-(e-r),53),u=t[o];u=b(u,i);let c=t.slice(o);return c[0]=u,c}function N(t){let n=t[0];for(let e=1;e<t.length;e++)n+=t[e];return n}function _(t,n){const e=t.length,r=n.length;let o=0,i=0;const u=[];for(;o<e&&i<r;)0!==t[o]?0!==n[i]?Math.abs(t[o])<=Math.abs(n[i])?(u.push(t[o]),o++):(u.push(n[i]),i++):i++:o++;for(;o<e;)u.push(t[o]),o++;for(;i<r;)u.push(n[i]),i++;if(0===u.length)return[0];const c=u.length;if(1===c)return u;const s=[],f=u[1],l=u[0];let h=f+l;const a=l-(h-f);0!==a&&s.push(a),i=0;for(let t=2;t<c;t++){const n=u[t],e=h+n,r=e-h,o=h-(e-r)+(n-r);0!==o&&s.push(o),h=e}return 0===h&&0!==s.length||s.push(h),s}const M=134217729;function x(t,n){const e=t.length;let r;const o=t[0];let i=o*n;const u=M*o,c=u-(u-o),s=o-c,f=M*n,l=f-(f-n),h=n-l,a=[],v=s*h-(i-c*l-s*l-c*h);0!==v&&a.push(v);for(let o=1;o<e;o++){const e=t[o],u=e*n,c=M*e,s=c-(c-e),f=e-s,l=M*n,h=l-(l-n),v=n-h,g=f*v-(u-s*h-f*h-s*v),d=i+g,p=d-i,b=i-(d-p)+(g-p);0!==b&&a.push(b),r=d;const m=u+r,E=r-(m-u);0!==E&&a.push(E),i=m}return 0===i&&0!==a.length||a.push(i),a}function S(t,n){const e=n.length;let r;const o=n[0];let i=o*t;const u=M*o,c=u-(u-o),s=o-c,f=M*t,l=f-(f-t),h=t-l,a=[],v=s*h-(i-c*l-s*l-c*h);0!==v&&a.push(v);for(let o=1;o<e;o++){const e=n[o],u=e*t,c=M*e,s=c-(c-e),f=e-s,l=M*t,h=l-(l-t),v=t-h,g=f*v-(u-s*h-f*h-s*v),d=i+g,p=d-i,b=i-(d-p)+(g-p);0!==b&&a.push(b),r=d;const m=u+r,E=r-(m-u);0!==E&&a.push(E),i=m}return 0===i&&0!==a.length||a.push(i),a}const T=x,B=_;function y(t,n){let e=[0];for(let r=0;r<t.length;r++)e=B(e,T(n,t[r]));return e}function w(t){const n=t.length,e=new Array(n);for(let r=0;r<n;r++)e[r]=-t[r];return e}const z=w,O=_;function P(t,n){const e=z(n);return O(t,e)}function D(t){let n=p(t);if(0===o(n))return 0;let e=n[n.length-1],r=n[0];return g(e)-g(r)+(53-h(r))}const F=y,C=I,L=D,q=P,A=N;function Y(t,n){const e=t.length;let r=n;const o=[];for(let n=0;n<e;n++){const e=t[n],i=r+e,u=i-r;let c=r-(i-u)+(e-u);0!==c&&o.push(c),r=i}return 0===r&&0!==o.length||o.push(r),o}function V(t,n){const e=t+n,r=e-t;return[t-(e-r)+(n-r),e]}const R=V,k=Y,$=_;function G(t){let n=[0];for(let e=0;e<t.length;e++){const r=t[e];n=1===r.length?1===n.length?R(n[0],r[0]):k(n,r[0]):1===n.length?k(r,n[0]):$(n,r)}return n}const W=w,j=_,H=p,X=Y,Q=G,U=x,K=P,J=Math.sign;function Z(t,n){t=H(t);let e=(n=H(n))[n.length-1];if(1===n.length){if(0===e)throw new Error("division by zero");if(1===e)return{div:t,rem:[0]};if(-1===e)return{div:W(t),rem:[0]}}const r=J(t[t.length-1]);if(0===r)return{div:[0],rem:[0]};let o=J(e),i=[],u=0;for(;;){let r=[];for(let o=t.length-1;o>=0;o--){const u=t[o];let c=Math.round((u-u%e)/e);if(r.push(U(n,c)),0===c)break;i.push(c)}if(t=H(K(t,Q(r))),u===i.length)break;u=i.length}let c=t,s=[0];for(let t=0;t<i.length;t++)s=X(s,i[t]);s=H(s);const f=J(c[c.length-1]);return 0!==f&&f!==r&&(r>0?o>0?(s=X(s,-1),c=j(c,n)):(s=X(s,1),c=j(c,W(n))):r<0&&(o>0?(s=X(s,1),c=j(c,W(n))):(s=X(s,-1),c=j(c,n)))),{div:s,rem:c}}const tt=Z;const nt=Z;const et=w;function rt(t){const n=[];for(let e=0;e<t.length;e++)n.push(2*t[e]);return n}function ot(t){const n=[];for(let e=0;e<t.length;e++)n.push(-2*t[e]);return n}function it(t){const n=[];for(let e=0;e<t.length;e++)n.push(.5*t[e]);return n}function ut(t,n){const e=t-n,r=t-e;return[t-(e+r)+(r-n),e]}const ct=134217729;function st(t,n){const e=t*n,r=ct*t,o=r-(r-t),i=t-o,u=ct*n,c=u-(u-n),s=n-c;return[i*s-(e-o*c-i*c-o*s),e]}const ft=y,lt=st,ht=x,at=V,vt=Y,gt=_;function dt(t){let n=[0];for(let e=0;e<t.length;e++){const r=t[e];let o=r[0];for(let t=1;t<r.length;t++){const n=r[t];o=1==n.length?1===o.length?lt(o[0],n[0]):ht(o,n[0]):1===o.length?ht(n,o[0]):ft(n,o)}n=1===o.length?1===n.length?at(n[0],o[0]):vt(n,o[0]):1===n.length?vt(o,n[0]):gt(n,o)}return n}const pt=y,bt=st,mt=x,Et=p;function It(t){let n=t[0];for(let e=1;e<t.length;e++){const r=t[e];n=1==r.length?1===n.length?bt(n[0],r[0]):mt(n,r[0]):1===n.length?mt(r,n[0]):pt(r,n)}return Et(n)}const Nt=y,_t=It;const Mt=p;function xt(t){const n=(t=Mt(t)).length;return 2===n?t:1===n?[0,t[0]]:[t[n-2],t[n-1]]}function St(t,n,e){let r,o=(t[0]-e[0])*(n[1]-e[1]),i=(t[1]-e[1])*(n[0]-e[0]),u=o-i;if(o>0){if(i<=0)return u;r=o+i}else{if(!(o<0))return u;if(i>=0)return u;r=-o-i}return Math.abs(u)>=3330669073875472e-31*r?u:function(t,n,e,r){let o=t[0]-e[0],i=n[0]-e[0],u=t[1]-e[1],c=n[1]-e[1],s=P(st(o,c),st(u,i)),f=N(s);if(Math.abs(f)>=2220446049250315e-31*r)return f;let l=ut(t[0],e[0])[0],h=ut(n[0],e[0])[0],a=ut(t[1],e[1])[0],v=ut(n[1],e[1])[0];if(0===l&&0===a&&0===h&&0===v)return f;let g=1109335647967049e-46*r+3330669073875471e-31*Math.abs(f);if(f+=o*v+c*l-(u*h+i*a),Math.abs(f)>=g)return f;let d=_(s,P(st(l,c),st(a,i))),b=_(d,P(st(o,v),st(u,h))),m=_(b,P(st(l,v),st(a,h)));return m=p(m),m[m.length-1]}(t,n,e,r)}function Tt(t,n){return!function(t,n){if(0===t||0===n)return!0;Math.abs(n)>Math.abs(t)&&([t,n]=[n,t]);let e=h(t),r=v(n);return e+(g(t)-g(n))>r}(t,n)}const Bt=_,yt=y,wt={fastTwoDiff:function(t,n){const e=t-n;return[t-e-n,e]},fastTwoSum:function(t,n){const e=t+n;return[n-(e-t),e]},split:function(t){const n=134217729*t,e=n-(n-t);return[e,t-e]},twoDiff:ut,twoProduct:st,twoSum:V,reduceSignificand:b,fastExpansionSum:_,eAdd:Bt,growExpansion:Y,eAddDouble:Y,expansionProduct:y,eMult:yt,scaleExpansion:x,eMultDouble1:x,scaleExpansion2:S,eMultDouble2:S,eDiv:function(t,n,e){let r=n,o=t,i=!1,u=0;e||(u=L(o)-L(r)+1,e=u/53+1,i=!0);let c=[1/A(r)],s=1;for(;;){if(o=F(o,c),s>e)return i?(o=C(o,u),o):o.slice(o.length-e,o.length);r=F(r,c),c=q([2],r),s*=2}},eLongDivide:Z,eIntDiv:function(t,n){return tt(t,n).div},eRem:function(t,n){return nt(t,n).rem},eCompress:p,eEstimate:N,eDiff:P,eNegativeOf:w,eMultBy2:rt,eMultByNeg2:ot,eDivBy2:it,eSign:o,eCompare:function(t,n){return o(P(t,n))},eAbs:function(t){return t[t.length-1]<0?et(t):t},eToBitlength:I,eIntPow:function(t,n){if(0===n)return[1];if(1===n)return t;if(2===n)return Nt(t,t);const e=[];for(let r=0;r<n;r++)e.push(t);return _t(e)},eCalculate:dt,eSum:G,eProduct:It,eToDd:xt,parseDouble:s,parseDoubleDetailed:function(t){let n=u(t),[,e,r,o]=n.match(/^(.)(.{11})(.{52})$/),i=0===parseInt(r,2)?"0":"1";return{full:e+r+i+o,sign:e,exponent:r,hidden:i,significand:o}},isBitAligned:function(t,n,e){if(0===t)return!0;let r=g(t),o=v(t)-52+r;return h(t)-52+r>=e&&o<=n-1+e},msbExponent:d,lsbExponent:function(t){if(0===t||!Number.isFinite(t))return NaN;let n=g(t);return h(t)-52+n},bitLength:function(t){return 0===t?0:v(t)-h(t)+1},expBitLength:D,doubleToBinaryString:u,doubleToOctets:i,getHighestSetBit:v,getLowestSetBit:h,exponent:g,significand:f,orient2d:St,isAdjacent:function(t,n){return Tt(t,n)||Tt(t,2*n)||Tt(2*t,n)},isNonOverlappingAll:function(t){for(let n=1;n<t.length;n++)if(Tt(t[n-1],t[n]))return!1;return!0},eIsInteger:function(t){t=p(t);for(let n=0;n<t.length;n++)if(t[n]%1!=0)return!1;return!0}};function zt(t,n,e){if(n===e)return;let r=t[n];t[n]=t[e],t[e]=r}function Ot(t){let n=0;for(let e=0;e<=t.length-1&&0===t[e];e++)n++;return 0!==n&&(t=t.slice(n)),t}const Pt=Ot;function Dt(t,n){const e=t.length-1,r=n.length-1;if(e<0||r<0)return[];const o=e+r,i=new Array(o+1).fill(0);for(let u=0;u<e+1;u++)for(let c=0;c<r+1;c++)i[o-(u+c)]+=t[e-u]*n[r-c];return Pt(i)}const Ft=Ot;function Ct(t){const n=[],e=t.length-1;for(let r=0;r<e;r++)n.push((e-r)*t[r]);return n}function Lt(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],u=r-i,c=u-r,s=e-o,f=s-e,l=r-(u-c)+(-i-c)+s,h=u+l,a=e-(s-f)+(-o-f)+(l-(h-u)),v=h+a;return[a-(v-h),v]}const qt=Lt,At=Lt;function Yt(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],u=r+i,c=u-r,s=e+o,f=s-e,l=r-(u-c)+(i-c)+s,h=u+l,a=e-(s-f)+(o-f)+(l-(h-u)),v=h+a;return[a-(v-h),v]}Number.EPSILON;const Vt=2**27+1;function Rt(t,n){const e=t[1],r=n[1],o=e*r,i=Vt*e,u=i-(i-e),c=e-u,s=Vt*r,f=s-(s-r),l=r-f,h=c*l-(o-u*f-c*f-u*l)+(e*n[0]+t[0]*r),a=o+h;return[h-(a-o),a]}const kt=134217729,$t=134217729,Gt=134217729;function Wt(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],u=r/i,c=i*u,s=Gt*i,f=s-(s-i),l=i-f,h=Gt*u,a=h-(h-u),v=u-a,g=o*u,d=c+g,p=g-(d-c)+(l*v-(c-f*a-l*a-f*v)),b=d+p,m=(r-b+(e-(p-(b-d))))/i,E=u+m;return[m-(E-u),E]}const jt=134217729,Ht=134217729;function Xt(t){var n=new ArrayBuffer(8);return new DataView(n).setFloat64(0,t,!1),Array.from(new Uint8Array(n))}function Qt(t){return Xt(t).map(Ut).join("")}function Ut(t){let n=t.toString(2);for(;n.length<8;n="0"+n);return n}function Kt(t){let n=Xt(t),e=n[0],r=n[1],o=e>>7,i=((127&e)<<4)+((240&r)>>4),u=0===i?0:16,c=0===i?i-1022:i-1023,s=n.slice(1);return s[0]=(15&r)+u,{sign:o,exponent:c,significand:s}}function Jt(t){return Kt(t).significand}function Zt(t){return Math.log2(t&-t)}function tn(t){if(0===t||!Number.isFinite(t))return NaN;let n=Jt(t),e=n.length;for(let t=e-1;t>=0;t--){if(0===n[t])continue;let r=Zt(n[t]);if(Number.isFinite(r))return 8*(e-t-1)+r}return NaN}function nn(t){return t>=128?7:t>=64?6:t>=32?5:t>=16?4:t>=8?3:t>=4?2:t>=2?1:t>=1?0:NaN}function en(t){if(0===t||!Number.isFinite(t))return NaN;let n=Jt(t),e=n.length;for(let t=0;t<e;t++){let r=nn(n[t]);if(Number.isFinite(r))return 8*(e-t-1)+r}return NaN}function rn(t){return Kt(t).exponent}const on=Wt,un=Number.EPSILON/2,cn=un*un,sn=Number.EPSILON/2,fn=function(t,n){const e=n[0],r=n[1],o=r*t,i=kt*r,u=i-(i-r),c=r-u,s=kt*t,f=s-(s-t),l=t-f,h=c*l-(o-u*f-c*f-u*l)+e*t,a=o+h;return[h-(a-o),a]},ln=function(t,n){return qt(t,n)[1]>0?n:t},hn=function(t,n){return At(t,n)[1]>0?t:n},an=function(t,n){const e=t[0],r=t[1],o=r+n,i=o-r,u=e+(r-(o-i)+(n-i)),c=o+u;return[u-(c-o),c]},vn=Yt,gn=Lt,dn=function(t){return[2*t[0],2*t[1]]},pn=function(t){return[4*t[0],4*t[1]]},bn=function(t){return[t[0]/2,t[1]/2]},mn=function(t){return[-2*t[0],-2*t[1]]},En=Rt,In=Wt,Nn=function(t){return[-t[0],-t[1]]},_n=function(t,n){const e=t-n,r=t-e;return[t-(e+r)+(r-n),e]},Mn=function(t,n){const e=t*n,r=jt*t,o=r-(r-t),i=t-o,u=jt*n,c=u-(u-n),s=n-c;return[i*s-(e-o*c-i*c-o*s),e]},xn=function(t,n){const e=t+n,r=e-t;return[t-(e-r)+(n-r),e]},Sn=function(t,n,e,r){const o=t[0],i=t[1],u=n[0],c=n[1],s=on(t,n),f=Math.abs(o+i),l=Math.abs(u+c),h=l-un*l-r;return h<=0?{est:s,err:Number.POSITIVE_INFINITY}:{est:s,err:(l*e+f*r)/h**2+9*cn*Math.abs(f/l)}},Tn={fastTwoDiff:function(t,n){const e=t-n;return[t-e-n,e]},fastTwoSum:function(t,n){const e=t+n;return[n-(e-t),e]},split:function(t){const n=134217729*t,e=n-(n-t);return[e,t-e]},twoDiff:_n,twoProduct:Mn,doubleDivDouble:function(t,n){const e=t/n,r=e*n,o=Ht*e,i=o-(o-e),u=e-i,c=Ht*n,s=c-(c-n),f=n-s,l=(t-r-(u*f-(r-i*s-u*s-i*f)))/n,h=e+l;return[l-(h-e),h]},twoSum:xn,reduceSignificand:function(t,n){const e=(2**(53-n)+1)*t;return e-(e-t)},doubleSqrt:function(t){if(0===t)return[0,0];const n=Math.sqrt(t),e=n*n,r=134217729*n,o=r-(r-n),i=n-o,u=.5*(t-e-(i*i-(e-o*o-o*i*2)))/n;return[u-((t=n+u)-n),t]},ddSqrt:function(t){const n=t[0],e=t[1];if(0===e)return[0,0];const r=Math.sqrt(e),o=r*r,i=134217729*r,u=i-(i-r),c=r-u,s=.5*(e-o-(c*c-(o-u*u-u*c*2))+n)/r;return[s-(r+s-r),r+s]},ddAbs:function(t){const n=t[1];return n<0?[-t[0],-n]:t},ddAddDouble:an,ddAddDd:vn,ddProduct:function(t){let n=t[0];for(let e=1;e<t.length;e++)n=Rt(n,t[e]);return n},ddSum:function(t){let n=t[0];for(let e=1;e<t.length;e++)n=Yt(n,t[e]);return n},ddCompare:function(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],u=r-i,c=u-r,s=e-o,f=s-e,l=r-(u-c)+(-i-c)+s,h=u+l;return h+(e-(s-f)+(-o-f)+(l-(h-u)))},ddDiffDd:gn,ddMultDouble1:function(t,n){const e=n[0],r=n[1],o=r*t,i=kt*r,u=i-(i-r),c=r-u,s=kt*t,f=s-(s-t),l=t-f,h=e*t,a=o+h,v=h-(a-o)+(c*l-(o-u*f-c*f-u*l)),g=a+v;return[v-(g-a),g]},ddMultDouble2:fn,ddMultDd:En,ddDivDouble:function(t,n){const e=t[0],r=t[1],o=r/n,i=o*n,u=$t*o,c=u-(u-o),s=o-c,f=$t*n,l=f-(f-n),h=n-l,a=(r-i-(s*h-(i-c*l-s*l-c*h))+e)/n,v=o+a;return[a-(v-o),v]},ddDivDd:In,ddNegativeOf:Nn,ddSign:function(t){return t[1]},ddMultBy2:dn,ddMultBy4:pn,ddDivBy2:bn,ddMultByNeg2:mn,ddMultByNeg4:function(t){return[-4*t[0],-4*t[1]]},ddMin:ln,ddMax:hn,ddDivDdWithError:Sn,divWithErr:function(t,n,e,r){const o=t/n,i=Math.abs(t),u=Math.abs(n),c=u-r;return c<=0?{est:o,err:Number.POSITIVE_INFINITY}:{est:o,err:(u*e+i*r)/c**2+sn*Math.abs(i/u)}},sqrtWithErr:function(t,n){if(t-n<=0){const e=t>0?Math.sqrt(t):0;return{est:e,err:Math.max(Math.sqrt(t+n)-e,e)}}const e=Math.sqrt(t),r=Math.sqrt(t-n),o=Math.sqrt(t+n);return{est:e,err:Math.max(Math.abs(r-e),Math.abs(o-e))}},parseDouble:Kt,parseDoubleDetailed:function(t){let n=Qt(t),[,e,r,o]=n.match(/^(.)(.{11})(.{52})$/),i=0===parseInt(r,2)?"0":"1";return{full:e+r+i+o,sign:e,exponent:r,hidden:i,significand:o}},isBitAligned:function(t,n,e){if(0===t)return!0;let r=rn(t),o=en(t)-52+r;return tn(t)-52+r>=e&&o<=n-1+e},msbExponent:function(t){if(0===t||!Number.isFinite(t))return NaN;let n=rn(t);return en(t)-52+n},lsbExponent:function(t){if(0===t||!Number.isFinite(t))return NaN;let n=rn(t);return tn(t)-52+n},bitLength:function(t){return 0===t?0:en(t)-tn(t)+1},doubleToBinaryString:Qt,doubleToOctets:Xt,getHighestSetBit:en,getLowestSetBit:tn,exponent:rn,significand:Jt},Bn=Number.EPSILON/2,yn=Bn*Bn;function wn(t){const n=t*Bn;return n/(1-n)}const zn=fn,On=N,Pn=function(t){const n=t*yn;return n/(1-n)}(3);const Dn=x;const Fn=V,Cn=st;function Ln(t,n){let e=0;for(let r=0;r<t.length;r++)e=e*n+t[r];return e}const qn=Math.abs;Number.EPSILON,Number.EPSILON,Number.EPSILON;const An=Math.abs,Yn=Number.EPSILON/2;function Vn(t,n){let e=t[0],r=.5*An(e);for(let o=1;o<t.length;o++)e=e*n+t[o],r=r*An(n)+An(e);return r=Yn*(2*r-An(e)),[e,r]}const Rn=wn,kn=function(t,n){const e=[],r=[];let o,i=t[0];for(let u=1;u<t.length;u++){const[c,s]=Cn(i,n);[o,i]=Fn(s,t[u]),e.push(c),r.push(o)}return{r̂:i,pπ:e,pσ:r}},$n=Vn,Gn=Ln,Wn=function(t,n){let e=0;for(let r=0;r<t.length;r++)e=e*n+qn(t[r]);return e},jn=Rn(1),Hn=Rn(2);function Xn(t,n,e,r=1){const o=Math.abs(n),i=t[0],[u,c]=$n(i,n),s=Hn*Wn(i,o),f=void 0!==e?Gn(e,o):0;if((c+s+f)*r<Math.abs(u))return u;let{r̂:l,pπ:h,pσ:a}=kn(i,n);const[v,g]=$n(h,n),[d,p]=$n(a,n),[b,m]=$n(t[1],n);let E=g+p+m+f;return l=v+d+b+l,E+=jn*l,E*r<Math.abs(l)?l:0}const Qn=wn;Qn(1),Qn(2);const Un=_,Kn=x;function Jn(t,n){let e=[0];for(let r=0;r<t.length;r++)e=Un(t[r],Kn(e,n));return e}const Zn=Dt;function te(t){let n=[1];for(let e=0;e<t.length;e++)n=Zn(n,[1,-t[e]]);return n}const ne=123456789,ee=4294967296;function re(t){return function(n,e,r,o,i=ne,u=0){const c=[];for(let s=0;s<n;s++){const n=t(e,r,o,i,u),s=n.p;i=n.seed,c.push(s)}return c}}function oe(t){return(134775813*t+1)%ee}function ie(t,n,e,r,o=0){let i=[];for(let u=0;u<t;u++)r=ue(r=oe(r),i,r/ee*(e-n)+n,o);return i=i.slice(0,t),{vs:i,seed:r}}function ue(t,n,e,r){return t=oe(t),n.push(e),t/ee<r&&(t=ue(t,n,e,r)),t}re((function(t,n=0,e=1,r=ne,o=0){const i=ie(t,n,e,r,o);return r=i.seed,{p:te(i.vs),seed:r}})),re((function(t,n=-1,e=1,r=ne){const o=ie(t,n,e,r);return r=o.seed,{p:o.vs,seed:r}}));const ce=Xn,se=Jn,fe=N,le=Xn,he=Jn,ae=N,ve=Number.EPSILON,ge=Math.abs,de=Math.max,pe=function(t){return t.slice().reverse()},be=function(t){const n=t.length-1;if(n<0)return[];const e=t.slice();for(let t=0;t<n+1;t++)t%2&&(e[t]=-e[t]);return e},me=function(t){const n=[];for(let e=0;e<t.length;e++)n.push(-t[e]);return n},Ee=function(t){return n=>1/t(pe(n))};function Ie(t){const n=t.length-1;if(n<1)return 0;t[0]<0&&(t=me(t));const e=[];for(let t=0;t<n;t++)e.push(1);let r=0;for(let o=0;o<=n;o++){if(t[o]>=0)continue;let n=Number.POSITIVE_INFINITY,i=!1;for(let r=0;r<o;r++){if(t[r]<=0)continue;const u=(-t[o]/(t[r]/2**e[r]))**(1/(o-r));e[r]++,n>u&&(n=u),i=!0}i&&r<n&&(r=n)}return r}Ee(Ie);const Ne=(Ae=Ie,t=>-Ae(be(t))),_e=(Ee(Ne),function(t){const{p:n,pE:e}=t,r=[],o=[],i=n.length-1;for(let t=0;t<i;t++){const u=i-t,c=zn(u,n[t]);r.push(c);const s=0==(u&u-1)?0:Pn,f=On(c);o.push(u*e[t]+Math.abs(f)*s)}return{p:r,pE:o}}),Me=Xn,xe=Jn,Se=function(t){const n=t[0].length,e=[];for(let r=0;r<n;r++){const o=[];for(let e=0;e<t.length;e++)o.push(t[e][n-(r+1)]);e.push(o)}return e},Te=function(t,n,e,r){const o=ce(t,e,n,4);return 0!==o?o:fe(se(r(),e))},Be=function(t,n,e,r,o,i,u,c){let s=e,f=r,l=s,h=o,a=f-s,v=a;for(;;){let g;ge(h)<ge(i)&&(s=f,f=l,l=s,o=i,i=h,h=o);const d=de(ge(s),ge(f));g=d<=1?ve:ve*2**Math.ceil(Math.log2(d));const p=.5*(l-f);if(ge(p)<=g)return f<l?[f,l]:[l,f];if(ge(a)<g||ge(o)<=ge(i))a=p,v=a;else{let t,n,e=i/o;if(s===l)t=2*p*e,n=1-e;else{n=o/h;const r=i/h;t=e*(2*p*n*(n-r)-(f-s)*(r-1)),n=(n-1)*(r-1)*(e-1)}0<t?n=-n:t=-t,e=a,a=v,2*t<3*p*n-ge(g*n)&&t<ge(.5*e*n)?v=t/n:(a=p,v=a)}if(s=f,o=i,g<ge(v)?f+=v:0<p?f+=g:f-=g,0===(i=c?ae(he(u(),f)):le(t,f,n))){if(c)return[f,f];const o=Math.max(e,f-g),s=Math.min(r,f+g);if(le(t,o,n)*le(t,s,n)!=0)return[o,s];if(c=!0,0===(i=ae(he(u(),f))))return[f,f]}(0<i&&0<h||i<=0&&h<=0)&&(l=s,h=o,a=f-s,v=a)}},ye=Ne,we=Ie,ze=function(t){const n=[],e=t.length-1;for(let r=0;r<e;r++)n.push(Dn(t[r],e-r));return n},Oe=N,Pe=Vn,De=o,Fe=Math.max,Ce=Math.min,Le=Math.abs,qe=1+Number.EPSILON;var Ae;function Ye(t,n=0,e=1,r,o,i){o||(o=()=>t),r=r||new Array(t.length).fill(0);let u,c,s=0;for(;t.length>0&&Le(t[0][1])<=r[0]&&(c=c||o(),0===De(c[0]));)(t=t.slice()).shift(),(r=r.slice()).shift(),c.shift();if(0===t.length)return i?void 0:[];if(1===t.length)return[];if(n===Number.NEGATIVE_INFINITY||e===Number.POSITIVE_INFINITY){const r=t.map((t=>t[1]));n===Number.NEGATIVE_INFINITY&&(n=ye(r)),e===Number.POSITIVE_INFINITY&&(e=we(r))}const f=Se(t);let l,h;const a=t.length-1;let v,g;l=0,h=!1;do{if(v=h?Oe(xe(I(),n)):Me(f,n,r),0===v){if(l++,l>=3&&!h){h=!0;continue}n-=2*Number.EPSILON*Fe(1,Le(n))}}while(0===v);l=0,h=!1;do{if(g=h?Oe(xe(I(),e)):Me(f,e,r),0===g){if(l++,l>=3&&!h){h=!0;continue}e+=2*Number.EPSILON*Fe(1,Le(e))}}while(0===g);const d=[{p:t,pE:r}],p=[Se(t)];for(let t=1;t<=a;t++){const n=_e(d[t-1]);d.push(n),p.push(Se(n.p))}let b,m,E=[];for(s=a-1;s>=0;s--)b=d[s].pE,m=p[s],E=N();function I(){if(void 0!==u)return u[s];let t=c||o();for(u=[t];t.length>1;)t=ze(t),u.push(t);return u[s]}return E;function N(){const t=[],r=Te(m,b,n,I);if(!E.length){const t=Te(m,b,e,I);if(r*t>=0)return[];const[o,i]=Be(m,b,n,e,r,t,I);return[{tS:o,tE:i,multiplicity:1}]}let o=E[0].tS,i=Te(m,b,o,I);if(r*i>0);else if(r*i<0){const[e,u]=Be(m,b,n,o,r,i,I);t.push({tS:e,tE:u,multiplicity:1})}let u,c=n,f=r,l=o,h=i;for(let n=0;n<E.length;n++){const r=E[n+1];u=E[n],o=l,c=E[n].tE,l=r?r.tS:e;const s=f;if(i=h,f=Te(m,b,c,I),h=Te(m,b,l,I),i*f>0)if(f*h>0)c!==o&&u.multiplicity%2==1&&v();else if(f*h<0){c!==o&&u.multiplicity%2==1&&v();const[n,e]=Be(m,b,c,l,f,h,I);t.push({tS:n,tE:e,multiplicity:1})}else c!==o&&u.multiplicity%2==1&&v();else if(i*f<0){if(t.push({tS:u.tS,tE:u.tE,multiplicity:3}),f*h<0){const[n,e]=Be(m,b,c,l,f,h,I);t.push({tS:n,tE:e,multiplicity:1})}}else if(0===f)0===i?t.push({tS:u.tS,tE:u.tE,multiplicity:u.multiplicity+1}):i*h>0?t.push({tS:u.tS,tE:u.tE,multiplicity:2}):t.push({tS:u.tS,tE:u.tE,multiplicity:3});else{if(f*h<0){const[n,e]=Be(m,b,c,l,f,h,I);t.push({tS:n,tE:e,multiplicity:1})}s*f>0?t.push({tS:u.tS,tE:u.tE,multiplicity:2}):t.push({tS:u.tS,tE:u.tE,multiplicity:3})}}for(let n=0;n<t.length-1;n++){const e=t[n],r=t[n+1];if(e.tE>=r.tS)return Ve(t)}return t;function v(){const n=(c-o)*qe;let e=1,r=0;for(let t=s+2;t<=a;t++){const i=p[t][0],u=Pe(i,o);r+=(Le(u[0])+u[1])*e,e*=n*qe}const l=f>0?Ce(i,f):Fe(i,f),h=2*Number.EPSILON*Fe(1,Le(c)),v=r*(2*h);(l+(f>0?2*-v*h:2*v*h))*f<0&&t.push({tS:u.tS,tE:u.tE,multiplicity:2})}}}function Ve(t){const n=[],e=t[0];let r={tS:e.tS,tE:e.tE,multiplicity:e.multiplicity};for(let e=0;e<t.length-1;e++){const o=t[e],i=t[e+1];o.tE<i.tS?(n.push(r),r={tS:i.tS,tE:i.tE,multiplicity:i.multiplicity}):(r.tE=i.tE,r.multiplicity=o.multiplicity+i.multiplicity)}return n.push(r),n}function Re(t){return{tS:t,tE:t,multiplicity:1}}function ke(t){return(t.tS+t.tE)/2}Number.EPSILON;const $e=Ln,Ge=Number.EPSILON/2,We=Math.abs,je=Math.max;const He=Ct,Xe=Ln,Qe=function(t,n,e,r=$e(t,n),o=$e(t,e)){let i=n,u=e,c=i,s=r,f=u-i,l=f;for(;;){We(s)<We(o)&&(i=u,u=c,c=i,r=o,o=s,s=r);const n=2*Ge*je(1,We(i),We(u)),e=.5*(c-u);if(We(e)<=n)return u;if(We(f)<n||We(r)<=We(o))f=e,l=f;else{let t,h,a=o/r;if(i===c)t=2*e*a,h=1-a;else{h=r/s;const n=o/s;t=a*(2*e*h*(h-n)-(u-i)*(n-1)),h=(h-1)*(n-1)*(a-1)}0<t?h=-h:t=-t,a=f,f=l,2*t<3*e*h-We(n*h)&&t<We(.5*a*h)?l=t/h:(f=e,l=f)}if(i=u,r=o,n<We(l)?u+=l:0<e?u+=n:u-=n,0===(o=$e(t,u)))return u;o*s>0&&(c=i,s=r,f=u-i,l=f)}},Ue=Ne,Ke=Ie,Je=Ot;function Ze(t,n=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY){if(t.length<=1)return[];n===Number.NEGATIVE_INFINITY&&(n=Ue(t)),e===Number.POSITIVE_INFINITY&&(e=Ke(t)),t=Je(t);let r=0;for(;0===t[t.length-1];)t=t.slice(0,-1),r++;const o=[t];for(let n=1;n<=t.length-1;n++)o.push(He(o[n-1]));let i=[];for(let r=t.length-2;r>=0;r--){const t=o[r],u=[];let c=n,s=Xe(t,c);0===s&&0===r&&u.push(n);for(let n=0;n<i.length;n++){const e=i[n],r=Xe(t,e);0===r?u.push(e):s*r<0&&u.push(Qe(t,c,e,s,r)),c=e,s=r}const f=Xe(t,e);s*f<0&&u.push(Qe(t,c,e,s,f)),0===f&&0===r&&u.push(e),i=u}if(r>0&&n<=0&&e>=0){let t=[],n=!1;for(let e=0;e<i.length;e++){if(!n&&i[e]>=0){for(let n=0;n<r;n++)t.push(0);n=!0}t.push(i[e])}return t}return i}Math.abs,Math.max;const tr=Number.EPSILON,nr=Math.abs,er=Math.max;function rr(t){if(4===t.length)return or(t);if(3===t.length)return ir(t);if(2===t.length)return ur(t);if(1===t.length)return function(t){const[[n,e]]=t;return[[n],[e]]}(t);throw new Error("The given bezier curve is invalid.")}function or(t){const[[n,e],[r,o],[i,u],[c,s]]=t;return[[c-n+3*(r-i),3*(i+n-2*r),3*(r-n),n],[s-e+3*(o-u),3*(u+e-2*o),3*(o-e),e]]}function ir(t){const[[n,e],[r,o],[i,u]]=t;return[[i+n-2*r,2*(r-n),n],[u+e-2*o,2*(o-e),e]]}function ur(t){const[[n,e],[r,o]]=t;return[[r-n,n],[o-e,e]]}function cr(t){if(4===t.length)return function(t){const[[n,e],[r,o],[i,u],[c,s]]=t;return[[3*(c-n+3*(r-i)),6*(i+n-2*r),3*(r-n)],[3*(s-e+3*(o-u)),6*(u+e-2*o),3*(o-e)]]}(t);if(3===t.length)return function(t){const[[n,e],[r,o],[i,u]]=t;return[[2*(i+n-2*r),2*(r-n)],[2*(u+e-2*o),2*(o-e)]]}(t);if(2===t.length)return function(t){const[[n,e],[r,o]]=t;return[[r-n],[o-e]]}(t);if(1===t.length)return function(t){const[[n,e]]=t;return[[0],[0]]}(t);throw new Error("The bezier curve must be of order 0, 1, 2 or 3.")}function sr(t){let[n,e]=rr(t),[r,o]=cr(t);const i=function(t,n){const e=[],r=t.length-1;for(let n=0;n<r+1;n++)e.push(t[n]/(r+1-n));return e.push(n),e}(function(t,n){const e=t.length-1,r=n.length-1,o=e-r,i=o<0?+o:0,u=o>0?-o:0,c=Math.max(e,r),s=[];for(let e=0;e<c+1;e++){const r=t[e+i]||0,o=n[e+u]||0;s.push(r-o)}return Ft(s)}(Dt(n,o),Dt(e,r)),0);let u=0;for(let t=0;t<i.length;t++)u+=i[t];return u/2}function fr(t,n){return t[0]*n[0]+t[1]*n[1]}function lr(t,n){function e(n){return[t[0]+n[0],t[1]+n[1]]}return void 0===n?e:e(n)}function hr(t,n,e){function r(e){return[e[0]*n-e[1]*t,e[0]*t+e[1]*n]}return void 0===e?r:r(e)}function ar(t){let n=1/Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[t[0]*n,t[1]*n]}function vr(t,n){let e=n[0]-t[0],r=n[1]-t[1];return Math.sqrt(e*e+r*r)}function gr(t,n){let e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r}function dr(t,n){return[n[0]-t[0],n[1]-t[1]]}function pr(t,n){let[e,r]=t;if(e===r)return 0;let[[o,i],[u,c]]=n;return o===u&&i===c?0:vr([o+e*(u-o),i+e*(c-i)],[o+r*(u-o),i+r*(c-i)])}function br(t,n){const[e,r]=cr(t);function o(t){const n=Ln(e,t),o=Ln(r,t);return Math.sqrt(n*n+o*o)}return void 0===n?o:o(n)}function mr(t,n,e=16){if(n[0]===n[1])return 0;let{weights:r,abscissas:o}=Er[e],[i,u]=n,c=0,s=(u-i)/2,f=(u+i)/2;for(let n=0;n<=e-1;n++)c+=r[n]*t(s*o[n]+f);return s*c}const Er={2:{weights:[1,1],abscissas:[-.5773502691896257,.5773502691896257]},4:{weights:[.6521451548625461,.6521451548625461,.3478548451374538,.3478548451374538],abscissas:[-.3399810435848563,.3399810435848563,-.8611363115940526,.8611363115940526]},8:{weights:[.362683783378362,.362683783378362,.3137066458778873,.3137066458778873,.2223810344533745,.2223810344533745,.1012285362903763,.1012285362903763],abscissas:[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363]},16:{weights:[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685,.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096],abscissas:[-.9894009349916499,-.9445750230732326,-.8656312023878318,-.755404408355003,-.6178762444026438,-.45801677765722737,-.2816035507792589,-.09501250983763744,.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]},64:{weights:[.048690957009139724,.048690957009139724,.04857546744150343,.04857546744150343,.048344762234802954,.048344762234802954,.04799938859645831,.04799938859645831,.04754016571483031,.04754016571483031,.04696818281621002,.04696818281621002,.046284796581314416,.046284796581314416,.04549162792741814,.04549162792741814,.044590558163756566,.044590558163756566,.04358372452932345,.04358372452932345,.04247351512365359,.04247351512365359,.04126256324262353,.04126256324262353,.03995374113272034,.03995374113272034,.038550153178615626,.038550153178615626,.03705512854024005,.03705512854024005,.035472213256882386,.035472213256882386,.033805161837141606,.033805161837141606,.03205792835485155,.03205792835485155,.030234657072402478,.030234657072402478,.028339672614259483,.028339672614259483,.02637746971505466,.02637746971505466,.024352702568710874,.024352702568710874,.022270173808383253,.022270173808383253,.02013482315353021,.02013482315353021,.017951715775697343,.017951715775697343,.015726030476024718,.015726030476024718,.013463047896718643,.013463047896718643,.011168139460131128,.011168139460131128,.008846759826363947,.008846759826363947,.006504457968978363,.006504457968978363,.004147033260562468,.004147033260562468,.001783280721696433,.001783280721696433],abscissas:[-.024350292663424433,.024350292663424433,-.07299312178779904,.07299312178779904,-.12146281929612056,.12146281929612056,-.16964442042399283,.16964442042399283,-.21742364374000708,.21742364374000708,-.2646871622087674,.2646871622087674,-.31132287199021097,.31132287199021097,-.3572201583376681,.3572201583376681,-.4022701579639916,.4022701579639916,-.4463660172534641,.4463660172534641,-.48940314570705296,.48940314570705296,-.5312794640198946,.5312794640198946,-.571895646202634,.571895646202634,-.6111553551723933,.6111553551723933,-.6489654712546573,.6489654712546573,-.6852363130542333,.6852363130542333,-.7198818501716109,.7198818501716109,-.7528199072605319,.7528199072605319,-.7839723589433414,.7839723589433414,-.8132653151227975,.8132653151227975,-.8406292962525803,.8406292962525803,-.8659993981540928,.8659993981540928,-.8893154459951141,.8893154459951141,-.9105221370785028,.9105221370785028,-.9295691721319396,.9295691721319396,-.9464113748584028,.9464113748584028,-.9610087996520538,.9610087996520538,-.973326827789911,.973326827789911,-.983336253884626,.983336253884626,-.9910133714767443,.9910133714767443,-.9963401167719553,.9963401167719553,-.9993050417357722,.9993050417357722]}},Ir=Number.EPSILON/2,Nr=Math.abs,_r=[[0,0],[0,0],[0,0]];function Mr(t,n,e){return 0===n?1===e?{ps:t,_ps:_r}:function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],u=e[1],c=r[0],s=r[1],f=o[0],l=o[1],h=1-n,a=n*n,v=h*h,g=n*h,d=[[i,u],[c*n+i*h,s*n+u*h],[f*a+i*v+2*c*g,l*a+u*v+2*s*g]],p=Nr(i),b=Nr(u),m=Nr(c),E=Nr(s);return{ps:d,_ps:[[0,0],[m*n+p*h,E*n+b*h],[Nr(f)*a+p*v+2*m*g,Nr(l)*a+b*v+2*E*g]]}}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],u=e[1],c=r[0],s=r[1],f=o[0],l=o[1],h=1-n,a=n*n,v=h*h,g=n*h,d=[[i*v+f*a+2*c*g,u*v+l*a+2*s*g],[c*h+f*n,s*h+l*n],[f,l]],p=Nr(i),b=Nr(u),m=Nr(c),E=Nr(s),I=Nr(f),N=Nr(l);return{ps:d,_ps:[[p*v+I*a+2*m*g,b*v+N*a+2*E*g],[m*h+I*n,E*h+N*n],[0,0]]}}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],u=r[0],c=r[1],s=o[0],f=o[1],l=i[0],h=i[1],a=1-n,v=n*n,g=a*a,d=n*a,p=(e-n)/a,b=p+p*Ir,m=b+.5-.5,E=m>=b?m:m+Ir,I=1-E,N=E*E,_=I*I,M=E*I,x=a*s+n*l,S=g*u+v*l+2*d*s,T=I*S+E*x,B=_*S+(2*M*x+N*l),y=a*f+n*h,w=g*c+v*h+2*d*f,z=I*w+E*y,O=_*w+(2*M*y+N*h),P=Nr(u),D=Nr(c),F=Nr(s),C=Nr(f),L=Nr(l),q=Nr(h),A=a*F+n*L,Y=g*P+v*L+2*d*F,V=a*C+n*q,R=g*D+v*q+2*d*C;return{ps:[[S,w],[T,z],[B,O]],_ps:[[Y,R],[I*Y+E*A,I*R+E*V],[_*Y+(2*M*A+N*L),_*R+(2*M*V+N*q)]]}}(t,n,e)}exports.__esModule=!0,exports.splitByMaxCurvature=void 0;var xr=require("./from-to.js"),Sr=require("../../global-properties/flatness.js");function Tr(t,n,r=1.01,o=16){const i=t[0],u=t[1];if(i===u)return 0;const[[c,s],[f,l],[h,a]]=n;if(c===f&&f===h&&s===l&&l===a)return 0;const v=Mr(n,i,u).ps,g=(0,e.splitByMaxCurvature)(v,r);let d=0;for(let t=0;t<g.length-1;t++){const n=g[t],e=g[t+1];d+=mr(br(v),[n,e],o)}return d}exports.splitByMaxCurvature=function(t,n){void 0===n&&(n=1.1);for(var e=[0,1],r=[[0,1]],o=(0,xr.fromTo)(t);r.length;){var i=r.pop(),u=o(i[0],i[1]);if((0,Sr.flatness)(u)>n){var c=(i[0]+i[1])/2;r.push([i[0],c]),r.push([c,i[1]]),e.push(c)}}return e.sort((function(t,n){return t-n})),e};const Br=st,yr=G,wr=N,zr=_,Or=x;function Pr(t,n){return[t=>[t,t],Ar,Lr,Fr][t.length-1](t,n)}function Dr(t,n){return[t=>[t,t],Yr,qr,Cr][t.length-1](t,n)}function Fr(t,n){const[[e,r],[o,i],[u,c],[s,f]]=t,l=1-n,h=[s*n**3+3*u*l*n**2+3*o*l**2*n+e*l**3,f*n**3+3*c*l*n**2+3*i*l**2*n+r*l**3];return[[[e,r],[o*n+e*l,i*n+r*l],[u*n**2+2*o*l*n+e*l**2,c*n**2+2*i*l*n+r*l**2],h],[h,[s*n**2+2*u*n*l+o*l**2,f*n**2+2*c*n*l+i*l**2],[s*n+u*l,f*n+c*l],[s,f]]]}function Cr(t,n){const[[e,r],[o,i],[u,c],[s,f]]=t,l=1-n,h=Br(l,l),a=Or(h,l),v=Br(n,n),g=Or(v,n),d=Br(l,n),p=Or(v,l),b=Or(h,n),m=[wr(yr([Or(g,s),Or(p,3*u),Or(b,3*o),Or(a,e)])),wr(yr([Or(g,f),Or(p,3*c),Or(b,3*i),Or(a,r)]))];return[[[e,r],[wr(zr(Br(o,n),Br(e,l))),wr(zr(Br(i,n),Br(r,l)))],[wr(yr([Or(v,u),Or(d,2*o),Or(h,e)])),wr(yr([Or(v,c),Or(d,2*i),Or(h,r)]))],m],[m,[wr(yr([Or(v,s),Or(d,2*u),Or(h,o)])),wr(yr([Or(v,f),Or(d,2*c),Or(h,i)]))],[wr(zr(Br(s,n),Br(u,l))),wr(zr(Br(f,n),Br(c,l)))],[s,f]]]}function Lr(t,n){const[[e,r],[o,i],[u,c]]=t,s=1-n,f=[e*s**2+2*o*s*n+u*n**2,r*s**2+2*i*s*n+c*n**2];return[[[e,r],[e*s+o*n,r*s+i*n],f],[f,[o*s+u*n,i*s+c*n],[u,c]]]}function qr(t,n){const[[e,r],[o,i],[u,c]]=t,s=1-n,f=Br(n,n),l=Br(s,s),h=Br(s,n),a=[wr(yr([Or(l,e),Or(h,2*o),Or(f,u)])),wr(yr([Or(l,r),Or(h,2*i),Or(f,c)]))];return[[[e,r],[wr(zr(Br(e,s),Br(o,n))),wr(zr(Br(r,s),Br(i,n)))],a],[a,[wr(zr(Br(o,s),Br(u,n))),wr(zr(Br(i,s),Br(c,n)))],[u,c]]]}function Ar(t,n){const[[e,r],[o,i]]=t,u=1-n,c=[u*e+n*o,u*r+n*i];return[[[e,r],c],[c,[o,i]]]}function Yr(t,n){const[[e,r],[o,i]]=t,u=1-n,c=[wr(zr(Br(u,e),Br(n,o))),wr(zr(Br(u,r),Br(n,i)))];return[[[e,r],c],[c,[o,i]]]}function Vr(t,n){if(0===n)return t[0];if(1===n)return t[t.length-1];if(4===t.length){const[[e,r],[o,i],[u,c],[s,f]]=t,l=e+(o-e)*n,h=o+(u-o)*n,a=l+(h-l)*n,v=r+(i-r)*n,g=i+(c-i)*n,d=v+(g-v)*n;return[a+(h+(u+(s-u)*n-h)*n-a)*n,d+(g+(c+(f-c)*n-g)*n-d)*n]}if(3===t.length){const[[e,r],[o,i],[u,c]]=t,s=e+(o-e)*n,f=r+(i-r)*n;return[s+(o+(u-o)*n-s)*n,f+(i+(c-i)*n-f)*n]}if(2===t.length){const[[e,r],[o,i]]=t;return[e+(o-e)*n,r+(i-r)*n]}if(1===t.length)return t[0];throw new Error("The given bezier curve is invalid.")}function Rr(t){return(n,e)=>{const r=n>e;let o;if(n>e&&([n,e]=[e,n]),0===n&&1===e)o=t;else if(0===n)o=Pr(t,e)[0];else if(1===e)o=Pr(t,n)[1];else{if(n===e){const e=Vr(t,n);if(1===t.length)return[e];if(2===t.length)return[e,e];if(3===t.length)return[e,e,e];if(4===t.length)return[e,e,e,e];throw new Error("The given bezier curve is invalid.")}o=Pr(Pr(t,n)[1],(e-n)/(1-n))[0]}return r?o.slice().reverse():o}}function kr(t){return function(n,e){const r=n>e;let o;if(n>e&&([n,e]=[e,n]),0===n&&1===e)o=t;else if(0===n)o=Dr(t,e)[0];else if(1===e)o=Dr(t,n)[1];else{if(n===e){const e=Vr(t,n);if(1===t.length)return[e];if(2===t.length)return[e,e];if(3===t.length)return[e,e,e];if(4===t.length)return[e,e,e,e];throw new Error("The given bezier curve is invalid.")}o=Dr(Dr(t,n)[1],(e-n)/(1-n))[0]}return r?o.slice().reverse():o}}const $r=Math.abs;function Gr(t){const n=[];for(let e=0;e<t.length-1;e++){const r=[t[e+1][0]-t[e][0],t[e+1][1]-t[e][1]];0!==(0!==r[0]||r[1])&&n.push(r)}const e=n.length;if(e<=1)return 1;let r=0;for(let t=0;t<e-1;t++){const e=ar(n[t]),o=ar(n[t+1]);r+=e[0]*o[0]+e[1]*o[1]}return r=$r((r/(e-1)+1)/2),1/r}function Wr(t,n=1.01,e=2**-20){const r=[0,1],o=[[0,1]],i=Rr(t);for(;o.length;){const t=o.pop();if(!(t[1]-t[0]<=e)&&Gr(i(t[0],t[1]))>n){const n=(t[0]+t[1])/2;o.push([t[0],n]),o.push([n,t[1]]),r.push(n)}}return r.sort(((t,n)=>t-n)),r}const jr=Number.EPSILON,Hr=jr/2,Xr=Math.abs,Qr=[[0,0],[0,0],[0,0],[0,0]];function Ur(t,n,e){return 0===n?1===e?{ps:t,_ps:Qr}:function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=e[0],c=e[1],s=r[0],f=r[1],l=o[0],h=o[1],a=i[0],v=i[1],g=1-n,d=n*n,p=n*d,b=g*g,m=g*b,E=n*g,I=n*b,N=g*d,_=[[u,c],[s*n+u*g,f*n+c*g],[l*d+u*b+2*s*E,h*d+c*b+2*f*E],[a*p+u*m+3*(l*N+s*I),v*p+c*m+3*(h*N+f*I)]],M=Xr(u),x=Xr(c),S=Xr(s),T=Xr(f),B=Xr(l),y=Xr(h);return{ps:_,_ps:[[0,0],[S*n+M*g,T*n+x*g],[B*d+M*b+2*S*E,y*d+x*b+2*T*E],[Xr(a)*p+M*m+3*(B*N+S*I),Xr(v)*p+x*m+3*(y*N+T*I)]]}}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=e[0],c=e[1],s=r[0],f=r[1],l=o[0],h=o[1],a=i[0],v=i[1],g=1-n,d=n*n,p=n*g,b=g*g,m=g*b,E=n*d,I=g*d,N=n*b,_=[[a*E+u*m+3*(l*I+s*N),v*E+c*m+3*(h*I+f*N)],[a*d+s*b+2*l*p,v*d+f*b+2*h*p],[a*n+l*g,v*n+h*g],[a,v]],M=Xr(u),x=Xr(c),S=Xr(s),T=Xr(f),B=Xr(l),y=Xr(h),w=Xr(a),z=Xr(v);return{ps:_,_ps:[[w*E+M*m+3*(B*I+S*N),z*E+x*m+3*(y*I+T*N)],[w*d+S*b+2*B*p,z*d+T*b+2*y*p],[w*n+B*g,z*n+y*g],[0,0]]}}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],u=t[3],c=r[0],s=r[1],f=o[0],l=o[1],h=i[0],a=i[1],v=u[0],g=u[1],d=1-n,p=(e-n)/d,b=p+(p*Hr+p*Hr*jr),m=b+.5-.5,E=m>=b?m:m+Hr,I=n*n,N=n*I,_=d*d,M=d*_,x=n*d,S=_*n,T=I*d,B=1-E,y=E*E,w=E*y,z=B*B,O=B*z,P=E*B,D=z*E,F=_*f+I*v+2*x*h,C=y*(d*h+n*v),L=3*(T*h+S*f)+(M*c+N*v),q=B*L+E*F,A=z*L+C+2*P*F,Y=3*(D*F+B*C)+(O*L+w*v),V=_*l+I*g+2*x*a,R=y*(d*a+n*g),k=3*(T*a+S*l)+(M*s+N*g),$=B*k+E*V,G=z*k+R+2*P*V,W=3*(D*V+B*R)+(O*k+w*g),j=Xr(c),H=Xr(s),X=Xr(f),Q=Xr(l),U=Xr(h),K=Xr(a),J=Xr(v),Z=Xr(g),tt=_*X+I*J+2*x*U,nt=y*(d*U+n*J),et=3*(T*U+S*X)+(M*j+N*J),rt=_*Q+I*Z+2*x*K,ot=y*(d*K+n*Z),it=3*(T*K+S*Q)+(M*H+N*Z);return{ps:[[L,k],[q,$],[A,G],[Y,W]],_ps:[[et,it],[B*et+E*tt,B*it+E*rt],[z*et+nt+2*P*tt,z*it+ot+2*P*rt],[3*(D*tt+B*nt)+(O*et+w*J),3*(D*rt+B*ot)+(O*it+w*Z)]]}}(t,n,e)}function Kr(t,n,e=1.01,r=16){const o=t[0],i=t[1];if(o===i)return 0;const[[u,c],[s,f],[l,h],[a,v]]=n;if(u===s&&s===l&&l===a&&c===f&&f===h&&h===v)return 0;const g=Ur(n,o,i).ps,d=Wr(g,e);let p=0;for(let t=0;t<d.length-1;t++){const n=d[t],e=d[t+1];p+=mr(br(g),[n,e],r)}return p}function Jr(t,n,e=1.01,r=16){if(4===n.length)return Kr(t,n,e,r);if(3===n.length)return Tr(t,n,e,r);if(2===n.length)return pr(t,n);if(1===n.length)return 0;throw new Error("The given bezier curve is invalid")}function Zr(t,n=1.01,e=16){if(4===t.length)return Kr([0,1],t,n,e);if(3===t.length)return Tr([0,1],t,n,e);if(2===t.length)return pr([0,1],t);if(1===t.length)return 0;throw new Error("The given bezier curve is invalid.")}function to(t){if(4===t.length){const[[n,e],[r,o],[i,u],[c,s]]=t;return[[n,e],[r,o],[i,u],[c,s]]}if(3===t.length){const[[n,e],[r,o],[i,u]]=t;return[[n,e],[r,o],[i,u]]}if(2===t.length){const[[n,e],[r,o]]=t;return[[n,e],[r,o]]}}function no(t){const[[n,e],[r,o]]=t,i=(r-n)/3,u=(o-e)/3;return[[n,e],[n+i,e+u],[n+2*i,e+2*u],[r,o]]}function eo(t){const[[n,e],[r,o],[i,u]]=t;return[[n,e],[1/3*n+2/3*r,1/3*e+2/3*o],[2/3*r+1/3*i,2/3*o+1/3*u],[i,u]]}function ro(t){if(4===t.length)return t;if(3===t.length)return eo(t);if(2===t.length)return no(t);if(1===t.length){const n=t[0];return[n,n,n,n]}throw new Error("The given bezier curve is invalid.")}function oo(t,n){let e=ro(t);function r(t){return 0===t?0:function(t,n,e){let r=n,o=e,i=t(r),u=t(o),c=r,s=i,f=o-r,l=f;for(;;){nr(s)<nr(u)&&(r=o,o=c,c=r,i=u,u=s,s=i);const n=2*tr*er(1,nr(r),nr(o)),e=.5*(c-o);if(nr(e)<=n)return o;if(nr(f)<n||nr(i)<=nr(u))f=e,l=f;else{let t,h,a=u/i;if(r===c)t=2*e*a,h=1-a;else{h=i/s;const n=u/s;t=a*(2*e*h*(h-n)-(o-r)*(n-1)),h=(h-1)*(n-1)*(a-1)}0<t?h=-h:t=-t,a=f,f=l,2*t<3*e*h-nr(n*h)&&t<nr(.5*a*h)?l=t/h:(f=e,l=f)}if(r=o,i=u,n<nr(l)?o+=l:0<e?o+=n:o-=n,u=t(o),0===u)return o;u*s>0&&(c=r,s=i,f=o-r,l=f)}}((n=>(t=>Jr([0,t],e))(n)-t),0,1.125)}return void 0===n?r:r(n)}function io(t,n){if(t===n)return!0;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e][0]!==n[e][0]||t[e][1]!==n[e][1])return!1;return!0}const uo=Number.EPSILON/2,co=uo*uo;function so(t){const n=t*uo;return n/(1-n)}function fo(t){const n=t*co;return n/(1-n)}function lo(t){const n=t[0][0],e=t[0][1];for(let r=1;r<t.length;r++)if(n!==t[r][0]||e!==t[r][1])return!1;return!0}const ho=P,ao=o,vo=V,go=(Number.EPSILON,Math.abs);function po(t){const[[n,e],[r,o],[i,u]]=t,c=n+i,s=c-2*r,f=go(c)+go(s);if(go(s)-f>0)return!1;const l=e+u,h=l-2*o,a=go(l)+go(h);return!(go(h)-a>0)&&0===ao(ho(vo(n,i),[2*r]))&&0===ao(ho(vo(e,u),[2*o]))}const bo=st,mo=_,Eo=o,Io=P,No=Number.EPSILON/2,_o=Math.abs;function Mo(t){const[[n,e],[r,o],[i,u],[c,s]]=t,f=c+3*r,l=n+3*i,h=f-l,a=_o(3*r)+_o(f)+(_o(3*i)+_o(l))+_o(h);if(_o(h)-No*a>0)return!1;const v=s+3*o,g=e+3*u,d=v-g,p=_o(3*o)+_o(v)+(_o(3*u)+_o(g))+_o(d);return!(_o(d)-No*p>0)&&0===Eo(Io(mo([c],bo(3,r)),mo([n],bo(3,i))))&&0===Eo(Io(mo([s],bo(3,o)),mo([e],bo(3,u))))}const{orient2d:xo}=wt;function So(t){if(4===t.length)return 0===xo(t[0],t[1],t[2])&&0===xo(t[1],t[2],t[3])&&0===xo(t[0],t[2],t[3]);if(3===t.length)return 0===xo(t[0],t[1],t[2]);if(t.length<=2)return!0;throw new Error("The given bezier curve must be of order <= 3.")}function To(t){const n=t[0][1];for(let e=1;e<t.length;e++)if(t[e][1]!==n)return!1;return!0}function Bo(t){const n=t[0][0];for(let e=1;e<t.length;e++)if(t[e][0]!==n)return!1;return!0}const yo=x,wo=P,zo=V,Oo=o,Po=ut,Do=V,Fo=S,Co=Y,Lo=Bt;function qo(t){const[[n,e],[r,o],[i,u],[c,s]]=t;return[[Lo(Po(c,n),Fo(3,Po(r,i))),Fo(3,Co(Do(i,n),-2*r)),Fo(3,Po(r,n)),n],[Lo(Po(s,e),Fo(3,Po(o,u))),Fo(3,Co(Do(u,e),-2*o)),Fo(3,Po(o,e)),e]]}function Ao(t){const[[n,e],[r,o],[i,u]]=t;return[[Co(Do(i,n),-2*r),Po(2*r,2*n),n],[Co(Do(u,e),-2*o),Po(2*o,2*e),e]]}function Yo(t){const[[n,e],[r,o]]=t;return[[Po(r,n),n],[Po(o,e),e]]}const Vo=y,Ro=_,ko=P;function $o(t){const[[n,e,r],[o,i,u]]=qo(t),c=Vo(e,o),s=Vo(n,i),f=Vo(n,u),l=Vo(r,o),h=Vo(e,u),a=Vo(r,i),v=ko(c,s),g=ko(l,f),d=ko(h,a),p=Vo(v,v),b=Vo(v,g),m=Vo(v,d),E=Vo(g,g);return[p,b,Ro(m,E)]}const Go=Math.abs,Wo=Math.abs,jo=so(1);function Ho(t){const{coeffs:[[n,e,r],[o,i,u]],errorBound:[[c,s],[f,l]]}=function(t){const[[n,e],[r,o],[i,u],[c,s]]=t,f=c-n,l=r-i,h=f+3*l,a=i+n,v=a-2*r,g=r-n,d=s-e,p=o-u,b=d+3*p,m=u+e,E=m-2*o,I=o-e;return{coeffs:[[h,3*v,3*g,n],[b,3*E,3*I,e]],errorBound:[[Go(f)+6*Go(l)+Go(h),6*(Go(a)+Go(v)),6*Go(g),0],[Go(d)+6*Go(p)+Go(b),6*(Go(m)+Go(E)),6*Go(I),0]]}}(t),h=Wo(n),a=Wo(e),v=Wo(r),g=Wo(o),d=Wo(i),p=Wo(u),b=e*o,m=n*i,E=n*u,I=r*o,N=e*u,_=r*i,M=s*g+a*f+Wo(b),x=c*d+h*l+Wo(m),S=c*p+Wo(E),T=v*f+Wo(I),B=s*p+Wo(N),y=v*l+Wo(_),w=b-m,z=Wo(w),O=M+x+z,P=I-E,D=Wo(P),F=T+S+D,C=N-_,L=Wo(C),q=B+y+L,A=w*w,Y=w*P,V=C*w,R=P*P,k=V+R;return{coeffs:[A,Y,k],errBound:[2*O*z+Wo(A),O*D+z*F+Wo(Y),q*z+L*O+Wo(V)+(2*D*F+Wo(R))+Wo(k)].map((t=>jo*t))}}const{eSign:Xo,eCompare:Qo}=wt,Uo=P,Ko=y,Jo=S,Zo=_n,ti=xn,ni=_,ei=Y,ri=Math.abs,oi=so(1),ii={order:0,realOrder:0,collinear:!0,nodeType:"n/a"},ui={order:1,realOrder:1,collinear:!0,nodeType:"n/a"},ci={order:1,realOrder:0,collinear:!0,nodeType:"n/a"},si={order:2,realOrder:2,collinear:!1,nodeType:"n/a"},fi={order:2,realOrder:2,collinear:!0,nodeType:"n/a"},li={order:2,realOrder:1,collinear:!0,nodeType:"n/a"},hi={order:2,realOrder:0,collinear:!0,nodeType:"n/a"},ai={order:3,realOrder:3,collinear:!1,nodeType:"crunode"},vi={order:3,realOrder:3,collinear:!1,nodeType:"acnode"},gi={order:3,realOrder:3,collinear:!1,nodeType:"cusp"},di={order:3,realOrder:3,collinear:!1,nodeType:"explicit"},pi={order:3,realOrder:3,collinear:!0,nodeType:"n/a"},bi={order:3,realOrder:2,collinear:!1,nodeType:"n/a"},mi={order:3,realOrder:2,collinear:!0,nodeType:"n/a"},Ei={order:3,realOrder:1,collinear:!0,nodeType:"n/a"},Ii={order:3,realOrder:0,collinear:!0,nodeType:"n/a"};function Ni(t){if(4===t.length)return Mo(t)?function(t){if(!So(t))return!1;const[n,e,r,o]=t,[i,u]=n,[c,s]=e,[f,l]=r,[h,a]=o,v=wo(yo(zo(c/4,f/4),3),zo(i/4,h/4)),g=wo(yo(zo(s/4,l/4),3),zo(u/4,a/4));return 0===Oo(wo(zo(i/2,h/2),v))&&0===Oo(wo(zo(u/2,a/2),g))}(t)?lo(t)?Ii:Ei:So(t)?mi:bi:So(t)?pi:function(t){const{coeffs:[n,e,r],errBound:[o,i,u]}=Ho(t);if(ri(n)<=o){const[[n,e],[r,o],[i,u],[c,s]]=t,f=ni(Zo(c,n),Jo(3,Zo(r,i))),l=ei(ti(i,n),-2*r),h=ni(Zo(s,e),Jo(3,Zo(o,u))),a=ei(ti(u,e),-2*o),v=Ko(l,h),g=Ko(f,a);if(0===Qo(v,g))return di}const c=e*e,s=4*n*r,f=c-s,l=2*i*ri(e)+oi*c+(4*(o*ri(r)+ri(n)*u)+oi*ri(s))+oi*ri(f);if(f<-l)return vi;if(f>l)return ai;let[h,a,v]=$o(t);const g=Uo(Ko(a,a),Jo(4,Ko(h,v))),d=Xo(g);return d<0?vi:d>0?ai:gi}(t);if(3===t.length)return So(t)?po(t)?lo(t)?hi:li:fi:si;if(2===t.length)return lo(t)?ci:ui;if(1===t.length)return ii;throw new Error("The given bezier curve must be of order <= 3")}const _i=y,Mi=ut,xi=P,Si=o,Ti=N,Bi=x,yi=V;function wi(t,n=!1){if(!n){const[[n,e],[r,o],[i,u],[c,s]]=t;return[[n,e],[Ti(xi(Bi(yi(r/4,i/4),3),yi(n/4,c/4))),Ti(xi(Bi(yi(o/4,u/4),3),yi(e/4,s/4)))],[c,s]]}const[e,r,o,i]=t,u=function(t,n){const[[e,r],[o,i]]=t,[[u,c],[s,f]]=n,l=Mi(o,e),h=Mi(i,r),a=Mi(s,u),v=Mi(f,c),g=xi(_i(a,h),_i(v,l));if(0===Si(g))return;const d=Mi(u,e),p=Mi(c,r),b=xi(_i(p,l),_i(d,h)),m=Ti(b)/Ti(g);return[u+m*Ti(a),c+m*Ti(v)]}([e,r],[i,o]);if(void 0!==u)return[e,u,i]}const zi=_n,Oi=fn,Pi=vn,Di=an,Fi=Math.abs;function Ci(t){const[[n,e],[r,o],[i,u],[c,s]]=t,f=zi(c,n),l=zi(r,i),h=3*(r-i),a=Oi(3,l),v=Fi(h),g=Pi(f,a),d=v+Fi(c-n+h),p=zi(i,2*r),b=Di(p,n),m=Fi(i-2*r+n),E=Oi(3,b),I=6*m,N=zi(r,n),_=Oi(3,N),M=Fi(3*(r-n)),x=zi(s,e),S=zi(o,u),T=3*(o-u),B=Oi(3,S),y=Fi(T),w=Pi(x,B),z=y+Fi(s-e+T),O=zi(u,2*o),P=Di(O,e),D=Fi(u-2*o+e),F=Oi(3,P),C=6*D,L=zi(o,e);return{coeffs:[[g,E,_,n],[w,F,Oi(3,L),e]],errorBound:[[d,I,M,0],[z,C,Fi(3*(o-e)),0]]}}function Li(t){const[[n,e],[r,o],[i,u]]=t,c=i-2*r,s=zi(i,2*r),f=Di(s,n),l=Fi(c+n),h=zi(2*r,2*n),a=u-2*o,v=zi(u,2*o),g=Di(v,e),d=Fi(a+e);return{coeffs:[[f,h,n],[g,zi(2*o,2*e),e]],errorBound:[[l,0,0],[d,0,0]]}}function qi(t){const[[n,e],[r,o]]=t;return[[zi(r,n),n],[zi(o,e),e]]}const Ai=gn,Yi=fn,Vi=w,Ri=Math.abs;function ki(t){const[[n,e],[r,o]]=qi(t),i=Vi(r),u=n,c=Yi(o,n),s=Ri(c[1]),f=Yi(e,r),l=Ri(f[1]),h=Ai(f,c);return{coeffs:{vₓ:i,vᵧ:u,v:h},errorBound:{v_:s+l+Ri(h[1])}}}const $i=vn,Gi=fn,Wi=En,ji=Math.abs,Hi=fo(3);function Xi(t,n){const{coeffs:{vₓ:e,vᵧ:r,v:o},errorBound:{v_:i}}=ki(t),[[u,c],[s,f]]=qi(n),l=u[1],h=s[1],a=e[1],v=r[1],g=o[1],d=l*a,p=2*ji(d),b=Wi(u,e),m=h*v,E=2*ji(m),I=Wi(s,r),N=d+m,_=$i(b,I),M=p+E+ji(N),x=c*a,S=Gi(c,e),T=ji(x),B=f*v,y=Gi(f,r),w=ji(B),z=x+B,O=$i(S,y),P=T+w+ji(z),D=$i(O,o),F=P+i+ji(z+g);return{coeffs:[_,D],errBound:[Hi*M,Hi*F]}}const Qi=Nn,Ui=dn,Ki=fn,Ji=En,Zi=gn,tu=Math.abs;function nu(t){const{coeffs:[[n,e,r],[o,i,u]],errorBound:[[c],[s]]}=Li(t),f=n[1],l=e[1],h=o[1],a=i[1],v=tu(r),g=tu(l),d=tu(f),p=tu(u),b=tu(a),m=tu(h),E=Ji(n,i),I=c*b+2*tu(f*a),N=Ji(e,o),_=g*s+2*tu(l*h),M=Ki(u,n),x=p*c+tu(u*f),S=Ki(r,o),T=v*s+tu(r*h),B=Ki(u,e),y=tu(u*l),w=Ki(r,i),z=tu(r*a),O=Ji(n,n),P=2*(c*d+tu(f*f)),D=Ji(n,o),F=c*m+d*s+2*tu(f*h),C=Ji(o,o),L=2*(s*m+tu(h*h)),q=f*a-l*h,A=f*u-r*h,Y=l*u-r*a,V=Zi(E,N),R=tu(q),k=I+_+tu(q),$=Zi(M,S),G=tu(A),W=x+T+tu(A),j=Zi(B,w),H=tu(Y),X=y+z+tu(Y),Q=Qi(C),U=L,K=Ui(D),J=F,Z=Qi(O),tt=P,nt=a*q,et=Ji(i,V),rt=b*k+2*tu(nt),ot=2*A*h,it=Ui(Ji(o,$)),ut=2*(s*G+m*W+2*tu(ot)),ct=nt-ot,st=Zi(et,it),ft=rt+ut+tu(ct),lt=2*f*A,ht=Ui(Ji(n,$)),at=2*(c*G+d*W+2*tu(lt)),vt=l*q,gt=Ji(e,V),dt=g*k+2*tu(vt),pt=lt-vt,bt=Zi(ht,gt),mt=at+dt+tu(pt),Et=q*Y,It=Ji(V,j),Nt=k*H+R*X+2*tu(Et),_t=A*A,Mt=Ji($,$),xt=2*(W*G+tu(_t)),St=Et-_t;return{coeffs:{vₓₓ:Q,vₓᵧ:K,vᵧᵧ:Z,vₓ:st,vᵧ:bt,v:Zi(It,Mt)},errorBound:{vₓₓ_:U,vₓᵧ_:J,vᵧᵧ_:tt,vₓ_:ft,vᵧ_:mt,v_:Nt+xt+tu(St)}}}const eu=Mn,ru=dn,ou=fn,iu=En,uu=vn,cu=Math.abs,su=fo(3);function fu(t,n){const{coeffs:{vₓₓ:e,vₓᵧ:r,vᵧᵧ:o,vₓ:i,vᵧ:u,v:c},errorBound:{vₓₓ_:s,vₓᵧ_:f,vᵧᵧ_:l,vₓ_:h,vᵧ_:a,v_:v}}=nu(t),[[g,d],[p,b]]=qi(n),m=e[1],E=r[1],I=o[1],N=i[1],_=u[1],M=c[1],x=cu(m),S=cu(E),T=cu(I),B=g[1],y=p[1],w=cu(d),z=cu(B),O=cu(b),P=cu(y),D=d*d,F=d*B,C=d*b,L=d*y,q=B*B,A=B*b,Y=B*y,V=b*b,R=b*y,k=y*y,$=eu(d,d),G=ou(d,g),W=cu(F),j=eu(d,b),H=ou(d,p),X=cu(L),Q=cu(q),U=iu(g,g),K=2*Q,J=ou(b,g),Z=cu(A),tt=cu(Y),nt=iu(g,p),et=2*tt,rt=eu(b,b),ot=ou(b,p),it=cu(R),ut=cu(k),ct=iu(p,p),st=2*ut,ft=q*m,lt=iu(U,e),ht=K*x*Q*s+2*cu(ft),at=k*I,vt=iu(ct,o),gt=st*T*ut*l+2*cu(at),dt=Y*E,pt=iu(nt,r),bt=et*S*tt*f+2*cu(dt),mt=ft+at,Et=uu(lt,vt),It=ht+gt+cu(mt),Nt=mt+dt,_t=uu(Et,pt),Mt=It+bt+cu(Nt),xt=F*m,St=iu(G,e),Tt=W*(x+s)+2*cu(xt),Bt=R*I,yt=iu(ot,o),wt=it*(T+l)+2*cu(Bt),zt=L+A,Ot=uu(H,J),Pt=X+Z+cu(zt),Dt=zt*E,Ft=iu(Ot,r),Ct=Pt*S+cu(zt)*f+2*cu(Dt),Lt=2*(xt+Bt),qt=ru(uu(St,yt)),At=2*(Tt+wt)+cu(Lt),Yt=Lt+Dt,Vt=uu(qt,Ft),Rt=At+Ct+cu(Yt),kt=B*N,$t=iu(g,i),Gt=z*h+2*cu(kt),Wt=y*_,jt=iu(p,u),Ht=P*a+2*cu(Wt),Xt=kt+Wt,Qt=uu($t,jt),Ut=Gt+Ht+cu(Xt),Kt=Yt+Xt,Jt=uu(Vt,Qt),Zt=Rt+Ut+cu(Kt),tn=D*m,nn=iu($,e),en=2*cu(tn),rn=C*E,on=iu(j,r),un=2*cu(rn),cn=V*I,sn=iu(rt,o),fn=2*cu(cn),ln=tn+rn,hn=uu(nn,on),an=en+un+cu(ln),vn=ln+cn,gn=uu(hn,sn),dn=an+fn+cu(vn),pn=d*N,bn=ou(d,i),mn=w*h+cu(pn),En=b*_,In=ou(b,u),Nn=O*a+cu(En),_n=pn+En,Mn=uu(bn,In),xn=mn+Nn+cu(_n),Sn=vn+_n,Tn=uu(gn,Mn),Bn=dn+xn+cu(Sn),yn=Sn+M,wn=uu(Tn,c),zn=Bn+v+cu(yn);return{coeffs:[_t,Jt,wn],errBound:[su*Mt,su*Zt,su*zn]}}const lu=Math.abs,hu=Nn,au=dn,vu=bn,gu=fn,du=En,pu=gn,bu=vn;function mu(t){const{coeffs:[[n,e,r,o],[i,u,c,s]],errorBound:[[f,l,h],[a,v,g]]}=Ci(t),d=r[1],p=e[1],b=n[1],m=c[1],E=u[1],I=i[1],N=lu(o),_=lu(d),M=lu(p),x=lu(b),S=lu(s),T=lu(m),B=lu(E),y=lu(I),w=du(n,c),z=b*m,O=f*T+x*g+2*lu(z),P=du(r,i),D=d*I,F=h*y+_*a+2*lu(D),C=du(n,u),L=b*E,q=f*B+x*v+2*lu(L),A=du(e,u),Y=p*E,V=l*B+M*v+2*lu(Y),R=du(e,i),k=p*I,$=l*y+M*a+2*lu(k),G=du(n,n),W=b*b,j=lu(W),H=f*x+x*f+2*lu(W),X=du(u,u),Q=E*E,U=v*B+B*v+2*lu(Q),K=du(i,i),J=I*I,Z=lu(J),tt=a*y+y*a+2*lu(J),nt=du(r,n),et=d*b,rt=h*x+_*f+2*lu(et),ot=du(e,e),it=p*p,ut=l*M+M*l+2*lu(it),ct=du(c,i),st=m*I,ft=g*y+T*a+2*lu(st),lt=du(u,i),ht=lu(E*I),at=v*y+B*a+2*ht,vt=du(e,n),gt=lu(p*b),dt=l*x+M*f+2*gt,pt=du(n,i),bt=lu(b*I),mt=f*y+x*a+2*bt,Et=gu(s,n),It=b*s,Nt=f*S+lu(It),_t=gu(o,i),Mt=o*I,xt=N*a+lu(Mt),St=gu(s,e),Tt=p*s,Bt=l*S+lu(Tt),yt=gu(o,u),wt=o*E,zt=N*v+lu(wt),Ot=du(e,c),Pt=p*m,Dt=l*T+M*g+2*lu(Pt),Ft=du(r,u),Ct=d*E,Lt=h*B+_*v+2*lu(Ct),qt=gu(s,r),At=d*s,Yt=h*S+lu(At),Vt=gu(o,c),Rt=o*m,kt=N*g+lu(Rt),$t=pu(Et,_t),Gt=Nt+xt+lu(It-Mt),Wt=pu(w,P),jt=O+F+lu(z-D),Ht=pu(C,R),Xt=q+$+lu(L-k),Qt=pu(St,yt),Ut=Bt+zt+lu(Tt-wt),Kt=pu(Ot,Ft),Jt=Dt+Lt+lu(Pt-Ct),Zt=pu(qt,Vt),tn=Yt+kt+lu(At-Rt),nn=lu(st-Q),en=pu(ct,X),rn=ft+U+nn,on=lu(et-it),un=pu(nt,ot),cn=rt+ut+lu(et-it),sn=lu(k+L),fn=bu(R,C),ln=$+q+lu(k+L),hn=D+z,an=lu(hn),vn=bu(P,w),gn=F+O+an,dn=au(Wt),pn=2*jt,bn=It-Mt,mn=z-D,En=L-k,In=Tt-wt,Nn=Pt-Ct,_n=At-Rt,Mn=lu(bn),xn=lu(mn),Sn=lu(En),Tn=lu(In),Bn=lu(Nn),yn=lu(_n),wn=2*xn,zn=du($t,$t),On=du($t,Wt),Pn=du($t,Ht),Dn=du($t,Kt),Fn=du(Wt,Wt),Cn=du(dn,Qt),Ln=du(Ht,Qt),qn=du(Ht,Kt),An=du(Ht,Zt),Yn=Gt*Mn+Mn*Gt+2*lu(zn[1]),Vn=Gt*xn+Mn*jt+2*lu(On[1]),Rn=Gt*Sn+Mn*Xt+2*lu(Pn[1]),kn=Gt*Bn+Mn*Jt+2*lu(Dn[1]),$n=jt*xn+xn*jt+2*lu(Fn[1]),Gn=pn*Tn+wn*Ut+2*lu(Cn[1]),Wn=Xt*Tn+Sn*Ut+2*lu(Ln[1]),jn=Xt*Bn+Sn*Jt+2*lu(qn[1]),Hn=Xt*yn+Sn*tn+2*lu(Ln[1]),Xn=du(hu(i),K),Qn=a*Z+y*tt+2*lu(Xn[1]),Un=3*x,Kn=gu(3,n),Jn=3*f+Un,Zn=du(Kn,K),te=Jn*Z+Un*tt+2*lu(Zn[1]),ne=3*y,ee=gu(-3,i),re=3*a+ne,oe=du(ee,G),ie=re*j+ne*H+2*lu(oe[1]),ue=du(n,G),ce=f*j+x*H+2*lu(ue[1]),se=-3*bn,fe=3*Mn,le=gu(-3,$t),he=3*Gt+fe,ae=pu(le,Kt),ve=lu(se-Nn),ge=he+Jt+ve,de=du(ae,K),pe=ge*Z+ve*tt+2*lu(de[1]),be=du(Ht,en),me=Xt*nn+Sn*rn+2*lu(be[1]),Ee=bu(de,be),Ie=pe+me+lu(Ee[1]),Ne=du(dn,lt),_e=pn*ht+wn*at+2*lu(Ne[1]),Me=bu(Ee,Ne),xe=Ie+_e+lu(Me[1]),Se=du(ae,G),Te=ge*j+ve*H+2*lu(Se[1]),Be=du(Ht,un),ye=Xt*on+Sn*cn+2*lu(Be[1]),we=bu(Se,Be),ze=Te+ye+lu(we[1]),Oe=du(dn,vt),Pe=pn*gt+wn*dt+2*lu(Oe[1]),De=bu(we,Oe),Fe=ze+Pe+lu(De[1]),Ce=lu(Y-hn/2),Le=pu(A,vu(vn)),qe=V+gn/2+lu(Le[1]),Ae=du(ae,pt),Ye=ge*bt+ve*mt+2*lu(Ae[1]),Ve=du(Wt,fn),Re=jt*sn+xn*ln+2*lu(Ve[1]),ke=bu(Ae,Ve),$e=Ye+Re+lu(ke[1]),Ge=du(Ht,Le),We=Xt*Ce+Sn*qe+2*lu(Ge[1]),je=au(pu(Ge,ke)),He=2*(We+$e)+lu(je[1]),Xe=gu(-3,zn),Qe=3*Yn+lu(Xe[1]),Ue=pu(Xe,au(Dn)),Ke=Qe+2*kn+lu(Ue[1]),Je=bu(Cn,An),Ze=Gn+Hn+lu(Je[1]),tr=bu(Ue,Je),nr=lu(tr[1]),er=Ke+Ze+nr,rr=au(pu(On,Ln)),or=lu(rr[1]),ir=2*(Vn+Wn)+or,ur=pu(Pn,Fn),cr=Rn+$n+lu(ur[1]),sr=bu(ur,qn),fr=lu(sr[1]),lr=cr+jn+fr,hr=du(i,tr),ar=a*nr+y*er+2*lu(hr[1]),vr=du(u,rr),gr=v*or+B*ir+2*lu(vr[1]),dr=du(c,sr),pr=g*fr+T*lr+2*lu(dr[1]),br=bu(vr,dr),mr=gr+pr+lu(br[1]),Er=bu(hr,br),Ir=ar+mr+lu(Er[1]),Nr=du(n,tr),_r=f*nr+x*er+2*lu(Nr[1]),Mr=du(e,rr),xr=l*or+M*ir+2*lu(Mr[1]),Sr=du(r,sr),Tr=h*fr+_*lr+2*lu(Sr[1]),Br=bu(Mr,Sr),yr=xr+Tr+lu(Br[1]),wr=hu(bu(Nr,Br)),zr=_r+yr+lu(wr[1]),Or=pu(Cn,zn),Pr=pu(Or,Dn),Dr=lu(Pr[1]),Fr=du(sr,Zt),Cr=du(Ln,Qt),Lr=pu(Fr,Cr),qr=lr*lu(Zt[1])+2*lu(Fr[1])+Wn*lu(Qt[1])+2*lu(Cr[1])+lu(Lr[1]),Ar=du($t,Pr),Yr=Gt*Dr+Mn*Gn+Yn+lu(Or[1])+kn+Dr+2*lu(Ar[1]),Vr=bu(Ar,Lr);return{coeffs:{vₓₓₓ:Xn,vₓₓᵧ:Zn,vₓᵧᵧ:oe,vᵧᵧᵧ:ue,vₓₓ:Me,vₓᵧ:je,vᵧᵧ:De,vₓ:Er,vᵧ:wr,v:Vr},errorBound:{vₓₓₓ_:Qn,vₓₓᵧ_:te,vₓᵧᵧ_:ie,vᵧᵧᵧ_:ce,vₓₓ_:xe,vₓᵧ_:He,vᵧᵧ_:Fe,vₓ_:Ir,vᵧ_:zr,v_:Yr+qr+lu(Vr[1])}}}const Eu=Mn,Iu=dn,Nu=fn,_u=En,Mu=vn,xu=Math.abs,Su=fo(3);function Tu(t,n){const{coeffs:{vₓₓₓ:e,vₓₓᵧ:r,vₓᵧᵧ:o,vᵧᵧᵧ:i,vₓₓ:u,vₓᵧ:c,vᵧᵧ:s,vₓ:f,vᵧ:l,v:h},errorBound:{vₓₓₓ_:a,vₓₓᵧ_:v,vₓᵧᵧ_:g,vᵧᵧᵧ_:d,vₓₓ_:p,vₓᵧ_:b,vᵧᵧ_:m,vₓ_:E,vᵧ_:I,v_:N}}=mu(t),[[_,M],[x,S]]=qi(n),T=e[1],B=r[1],y=o[1],w=i[1],z=u[1],O=c[1],P=s[1],D=f[1],F=l[1],C=h[1],L=_[1],q=x[1],A=xu(M),Y=xu(L),V=xu(S),R=xu(q),k=M*M,$=M*L,G=M*S,W=M*q,j=L*L,H=L*S,X=L*q,Q=S*S,U=S*q,K=q*q,J=Eu(M,M),Z=Nu(M,_),tt=xu($),nt=Eu(M,S),et=Nu(M,x),rt=xu(W),ot=_u(_,_),it=2*xu(j),ut=Nu(S,_),ct=xu(H),st=_u(_,x),ft=2*xu(X),lt=Eu(S,S),ht=Nu(S,x),at=xu(U),vt=_u(x,x),gt=2*xu(K),dt=xu(k),pt=xu($),bt=xu(G),mt=xu(W),Et=xu(j),It=xu(H),Nt=xu(X),_t=xu(Q),Mt=xu(U),xt=xu(K),St=M*T,Tt=Nu(M,e),Bt=A*a+xu(St),yt=3*M,wt=Eu(3,M),zt=xu(yt),Ot=yt*T,Pt=_u(wt,e),Dt=zt*a+2*xu(Ot),Ft=M*B,Ct=Nu(M,r),Lt=A*v+xu(Ft),qt=S*B,At=Nu(S,r),Yt=V*v+xu(qt),Vt=M*y,Rt=Nu(M,o),kt=A*g+xu(Vt),$t=S*y,Gt=Nu(S,o),Wt=V*g+xu($t),jt=S*w,Ht=Nu(S,i),Xt=V*d+xu(jt),Qt=3*S,Ut=Eu(3,S),Kt=xu(Qt),Jt=Qt*w,Zt=_u(Ut,i),tn=Kt*d+2*xu(Jt),nn=L*T,en=_u(_,e),rn=Y*a+2*xu(nn),on=L*y,un=_u(_,o),cn=Y*g+2*xu(on),sn=q*B,fn=_u(x,r),ln=R*v+2*xu(sn),hn=q*w,an=_u(x,i),vn=R*d+2*xu(hn),gn=nn+sn,dn=Mu(en,fn),pn=xu(gn),bn=rn+ln+pn,mn=on+hn,En=Mu(un,an),In=xu(mn),Nn=cn+vn+In,_n=j*gn,Mn=_u(ot,dn),xn=it*pn+Et*bn+2*xu(_n),Sn=K*mn,Tn=_u(vt,En),Bn=gt*In+xt*Nn+2*xu(Sn),yn=_n+Sn,wn=Mu(Mn,Tn),zn=xn+Bn+xu(yn),On=Ot+qt,Pn=Mu(Pt,At),Dn=Dt+Yt+xu(On),Fn=2*(Ft+$t),Cn=Iu(Mu(Ct,Gt)),Ln=2*(Lt+Wt)+xu(Fn),qn=Vt+Jt,An=Mu(Rt,Zt),Yn=kt+tn+xu(qn),Vn=On+z,Rn=Mu(Pn,u),kn=xu(Vn),$n=Dn+p+kn,Gn=Fn+O,Wn=Mu(Cn,c),jn=xu(Gn),Hn=Ln+b+jn,Xn=qn+P,Qn=Mu(An,s),Un=xu(Xn),Kn=Yn+m+Un,Jn=j*Vn,Zn=_u(ot,Rn),te=it*kn+Et*$n+2*xu(Jn),ne=X*Gn,ee=_u(st,Wn),re=ft*jn+Nt*Hn+2*xu(ne),oe=K*Xn,ie=_u(vt,Qn),ue=gt*Un+xt*Kn+2*xu(oe),ce=Jn+ne,se=Mu(Zn,ee),fe=te+re+xu(ce),le=ce+oe,he=Mu(se,ie),ae=fe+ue+xu(le),ve=2*(qt+z),ge=Iu(Mu(At,u)),de=2*(Yt+p)+xu(ve),pe=2*(Vt+P),be=Iu(Mu(Rt,s)),me=2*(kt+m)+xu(pe),Ee=Ot+ve,Ie=Mu(Pt,ge),Ne=xu(Ee),_e=Dt+de+Ne,Me=Jt+pe,xe=Mu(Zt,be),Se=xu(Me),Te=tn+me+Se,Be=Ft+O,ye=Mu(Ct,c),we=xu(Be),ze=Lt+b+we,Oe=$t+O,Pe=Mu(Gt,c),De=xu(Oe),Fe=Wt+b+De,Ce=$*Ee,Le=_u(Z,Ie),qe=tt*Ne+pt*_e+2*xu(Ce),Ae=U*Me,Ye=_u(ht,xe),Ve=at*Se+Mt*Te+2*xu(Ae),Re=W*Be,ke=_u(et,ye),$e=rt*we+mt*ze+2*xu(Re),Ge=H*Oe,We=_u(ut,Pe),je=ct*De+It*Fe+2*xu(Ge),He=L*D,Xe=_u(_,f),Qe=Y*E+2*xu(He),Ue=q*F,Ke=_u(x,l),Je=R*I+2*xu(Ue),Ze=Ce+Ae,tr=Mu(Le,Ye),nr=qe+Ve+xu(Ze),er=Re+Ge,rr=Mu(ke,We),or=$e+je+xu(er),ir=Ze+er,ur=Mu(tr,rr),cr=nr+or+xu(ir),sr=He+Ue,fr=Mu(Xe,Ke),lr=Qe+Je+xu(sr),hr=ir+sr,ar=Mu(ur,fr),vr=cr+lr+xu(hr),gr=St+qt,dr=Mu(Tt,At),pr=Bt+Yt+xu(gr),br=jt+Vt,mr=Mu(Ht,Rt),Er=Xt+kt+xu(br),Ir=gr+z,Nr=Mu(dr,u),_r=pr+p+xu(Ir),Mr=br+P,xr=Mu(mr,s),Sr=Er+m+xu(Mr),Tr=k*Ir,Br=_u(J,Nr),yr=dt*_r+2*xu(Tr),wr=Q*Mr,zr=_u(lt,xr),Or=_t*Sr+2*xu(wr),Pr=G*O,Dr=_u(nt,c),Fr=bt*b+2*xu(Pr),Cr=Tr+wr,Lr=Mu(Br,zr),qr=yr+Or+xu(Cr),Ar=Cr+Pr,Yr=Mu(Lr,Dr),Vr=qr+Fr+xu(Ar),Rr=M*D,kr=Nu(M,f),$r=A*E+xu(Rr),Gr=S*F,Wr=Nu(S,l),jr=V*I+xu(Gr),Hr=Rr+Gr,Xr=Mu(kr,Wr),Qr=$r+jr+xu(Hr),Ur=Ar+Hr,Kr=Mu(Yr,Xr),Jr=Vr+Qr+xu(Ur),Zr=Ur+C,to=Mu(Kr,h),no=Jr+N+xu(Zr);return{coeffs:[wn,he,ar,to],errBound:[Su*zn,Su*ae,Su*vr,Su*no]}}const Bu=vn,yu=fn,wu=En,zu=Math.abs,Ou=fo(3);function Pu(t,n){const{coeffs:{vₓ:e,vᵧ:r,v:o},errorBound:{v_:i}}=ki(t),{coeffs:[[u,c,s],[f,l,h]],errorBound:[[a],[v]]}=Li(n),g=e[1],d=r[1],p=o[1],b=zu(g),m=zu(d),E=(zu(p),c[1]),I=u[1],N=l[1],_=f[1],M=I*g,x=wu(u,e),S=a*b+2*zu(M),T=_*d,B=wu(f,r),y=v*m+2*zu(T),w=M+T,z=Bu(x,B),O=S+y+zu(w),P=E*g,D=wu(c,e),F=2*zu(P),C=N*d,L=wu(l,r),q=2*zu(C),A=P+C,Y=Bu(D,L),V=F+q+zu(A),R=yu(s,e),k=s*g,$=zu(k),G=yu(h,r),W=h*d,j=zu(W),H=k+W,X=Bu(R,G),Q=$+j+zu(H),U=H+p,K=Bu(X,o),J=Q+i+zu(U);return{coeffs:[z,Y,K],errBound:[Ou*O,Ou*V,Ou*J]}}const Du=Mn,Fu=dn,Cu=fn,Lu=En,qu=vn,Au=Math.abs,Yu=fo(3);function Vu(t,n){const{coeffs:{vₓₓ:e,vₓᵧ:r,vᵧᵧ:o,vₓ:i,vᵧ:u,v:c},errorBound:{vₓₓ_:s,vₓᵧ_:f,vᵧᵧ_:l,vₓ_:h,vᵧ_:a,v_:v}}=nu(t),{coeffs:[[g,d,p],[b,m,E]],errorBound:[[I],[N]]}=Li(n),_=e[1],M=r[1],x=o[1],S=i[1],T=u[1],B=c[1],y=Au(_),w=Au(M),z=Au(x),O=Au(S),P=Au(T),D=d[1],F=g[1],C=m[1],L=b[1],q=Au(p),A=Au(D),Y=Au(F),V=Au(E),R=Au(C),k=Au(L),$=p*p,G=p*D,W=p*F,j=p*E,H=p*C,X=p*L,Q=D*D,U=D*F,K=D*E,J=D*C,Z=D*L,tt=F*C,nt=F*F,et=F*E,rt=F*L,ot=E*E,it=E*C,ut=E*L,ct=C*C,st=C*L,ft=L*L,lt=Au($),ht=Au(j),at=Au(ot),vt=Du(p,p),gt=Cu(p,d),dt=Au(G),pt=Cu(p,g),bt=Au(W),mt=Du(p,E),Et=Cu(p,m),It=Au(H),Nt=Cu(p,b),_t=Au(X),Mt=Lu(d,d),xt=2*Au(Q),St=Lu(d,g),Tt=Au(U),Bt=A*I+2*Tt,yt=Cu(E,d),wt=Au(K),zt=Lu(d,m),Ot=2*Au(J),Pt=Lu(d,b),Dt=A*N+2*Au(Z),Ft=Lu(g,m),Ct=I*R+2*Au(tt),Lt=Lu(g,g),qt=Au(nt),At=2*(I*Y+qt),Yt=Cu(E,g),Vt=Au(et),Rt=Lu(g,b),kt=Au(rt),$t=I*k+Y*N+2*kt,Gt=Du(E,E),Wt=Cu(E,m),jt=Au(it),Ht=Cu(E,b),Xt=Au(ut),Qt=Lu(m,m),Ut=2*Au(ct),Kt=Lu(m,b),Jt=Au(st),Zt=R*N+2*Jt,tn=Lu(b,b),nn=Au(ft),en=2*(N*k+nn),rn=nt*_,on=Lu(Lt,e),un=At*y+qt*s+2*Au(rn),cn=rt*M,sn=Lu(Rt,r),fn=$t*w+kt*f+2*Au(cn),ln=ft*x,hn=Lu(tn,o),an=en*z+nn*l+2*Au(ln),vn=rn+cn,gn=qu(on,sn),dn=un+fn+Au(vn),pn=vn+ln,bn=qu(gn,hn),mn=dn+an+Au(pn),En=U*_,In=Lu(St,e),Nn=Bt*y+Tt*s+2*Au(En),_n=st*x,Mn=Lu(Kt,o),xn=Zt*z+Jt*l+2*Au(_n),Sn=Z+tt,Tn=qu(Pt,Ft),Bn=Au(Sn),yn=Dt+Ct+Bn,wn=Sn*M,zn=Lu(Tn,r),On=yn*w+Bn*f+2*Au(wn),Pn=2*(En+_n),Dn=Fu(qu(In,Mn)),Fn=2*(Nn+xn)+Au(Pn),Cn=Pn+wn,Ln=qu(Dn,zn),qn=Fn+On+Au(Cn),An=2*W+Q,Yn=Au(An),Vn=qu(Fu(pt),Mt),Rn=2*bt+xt+Au(An),kn=2*ut+ct,$n=Au(kn),Gn=qu(Fu(Ht),Qt),Wn=2*Xt+Ut+Au(kn),jn=X+J,Hn=(Au(jn),qu(Nt,zt)),Xn=_t+Ot+Au(jn),Qn=jn+et,Un=qu(Hn,Yt),Kn=Au(Qn),Jn=Xn+Vt+Kn,Zn=An*_,te=Lu(Vn,e),ne=Rn*y+Yn*s+2*Au(Zn),ee=kn*x,re=Lu(Gn,o),oe=Wn*z+$n*l+2*Au(ee),ie=Qn*M,ue=Lu(Un,r),ce=Jn*w+Kn*f+2*Au(ie),se=F*S,fe=Lu(g,i),le=I*O+Y*h+Au(se),he=L*T,ae=Lu(b,u),ve=N*P+k*a+Au(he),ge=Zn+ee,de=qu(te,re),pe=ne+oe+Au(ge),be=ge+ie,me=qu(de,ue),Ee=pe+ce+Au(be),Ie=se+he,Ne=qu(fe,ae),_e=le+ve+Au(Ie),Me=be+Ie,xe=qu(me,Ne),Se=Ee+_e+Au(Me),Te=G*_,Be=Lu(gt,e),ye=dt*(y+s)+2*Au(Te),we=it*x,ze=Lu(Wt,o),Oe=jt*(z+l)+2*Au(we),Pe=H+K,De=qu(Et,yt),Fe=Au(Pe),Ce=It+wt+Fe,Le=Pe*M,qe=Lu(De,r),Ae=Ce*w+Fe*f+2*Au(Le),Ye=2*(Te+we),Ve=Fu(qu(Be,ze)),Re=2*(ye+Oe)+Au(Ye),ke=D*S,$e=Lu(d,i),Ge=A*h+2*Au(ke),We=C*T,je=Lu(m,u),He=R*a+2*Au(We),Xe=Ye+Le,Qe=qu(Ve,qe),Ue=Re+Ae+Au(Xe),Ke=ke+We,Je=qu($e,je),Ze=Ge+He+Au(Ke),tr=Xe+Ke,nr=qu(Qe,Je),er=Ue+Ze+Au(tr),rr=$*_,or=Lu(vt,e),ir=lt*s+2*Au(rr),ur=j*M,cr=Lu(mt,r),sr=ht*f+2*Au(ur),fr=ot*x,lr=Lu(Gt,o),hr=at*l+2*Au(fr),ar=p*S,vr=Cu(p,i),gr=q*h+Au(ar),dr=E*T,pr=Cu(E,u),br=V*a+Au(dr),mr=rr+ur,Er=qu(or,cr),Ir=ir+sr+Au(mr),Nr=mr+fr,_r=qu(Er,lr),Mr=Ir+hr+Au(Nr),xr=ar+dr,Sr=qu(vr,pr),Tr=gr+br+Au(xr),Br=Nr+xr,yr=qu(_r,Sr),wr=Mr+Tr+Au(Br),zr=Br+B,Or=qu(yr,c),Pr=wr+v+Au(zr);return{coeffs:[bn,Ln,xe,nr,Or],errBound:[Yu*mn,Yu*qn,Yu*Se,Yu*er,Yu*Pr]}}const Ru=Mn,ku=dn,$u=fn,Gu=En,Wu=vn,ju=Math.abs,Hu=fo(3);function Xu(t,n){const{coeffs:{vₓₓₓ:e,vₓₓᵧ:r,vₓᵧᵧ:o,vᵧᵧᵧ:i,vₓₓ:u,vₓᵧ:c,vᵧᵧ:s,vₓ:f,vᵧ:l,v:h},errorBound:{vₓₓₓ_:a,vₓₓᵧ_:v,vₓᵧᵧ_:g,vᵧᵧᵧ_:d,vₓₓ_:p,vₓᵧ_:b,vᵧᵧ_:m,vₓ_:E,vᵧ_:I,v_:N}}=mu(t),{coeffs:[[_,M,x],[S,T,B]],errorBound:[[y],[w]]}=Li(n),z=e[1],O=r[1],P=o[1],D=i[1],F=u[1],C=c[1],L=s[1],q=f[1],A=l[1],Y=h[1],V=ju(z),R=ju(O),k=ju(P),$=ju(D),G=ju(F),W=ju(L),j=ju(C),H=ju(q),X=ju(A),Q=M[1],U=_[1],K=T[1],J=S[1],Z=ju(x),tt=ju(Q),nt=ju(U),et=ju(B),rt=ju(K),ot=ju(J),it=x*x,ut=x*Q,ct=x*U,st=x*B,ft=x*K,lt=x*J,ht=Q*Q,at=Q*U,vt=Q*B,gt=Q*K,dt=Q*J,pt=U*K,bt=U*U,mt=U*B,Et=U*J,It=B*B,Nt=B*K,_t=B*J,Mt=K*K,xt=K*J,St=J*J,Tt=Ru(x,x),Bt=$u(x,M),yt=ju(ut),wt=$u(x,_),zt=Z*y+ju(ct),Ot=Ru(x,B),Pt=$u(x,T),Dt=ju(ft),Ft=$u(x,S),Ct=Z*w+ju(lt),Lt=Gu(M,M),qt=2*ju(ht),At=Gu(M,_),Yt=tt*y+2*ju(at),Vt=$u(B,M),Rt=ju(vt),kt=Gu(M,T),$t=2*ju(gt),Gt=Gu(M,S),Wt=tt*w+2*ju(dt),jt=Gu(_,T),Ht=y*rt+2*ju(pt),Xt=Gu(_,_),Qt=2*(y*nt+ju(bt)),Ut=$u(B,_),Kt=et*y+ju(mt),Jt=Gu(_,S),Zt=y*ot+nt*w+2*ju(Et),tn=Ru(B,B),nn=$u(B,T),en=ju(Nt),rn=$u(B,S),on=et*w+ju(_t),un=Gu(T,T),cn=2*ju(Mt),sn=Gu(T,S),fn=rt*w+2*ju(xt),ln=Gu(S,S),hn=2*(w*ot+ju(St)),an=ju(it),vn=ju(ut),gn=ju(st),dn=ju(ft),pn=ju(at),bn=ju(bt),mn=ju(Et),En=ju(vt),In=ju(It),Nn=ju(Nt),_n=ju(xt),Mn=ju(St),xn=Gu(_,e),Sn=U*z,Tn=y*V+nt*a+2*ju(Sn),Bn=Gu(_,o),yn=U*P,wn=y*k+nt*g+2*ju(yn),zn=Gu(S,r),On=J*O,Pn=w*R+ot*v+2*ju(On),Dn=Gu(S,i),Fn=J*D,Cn=w*$+ot*d+2*ju(Fn),Ln=Sn+On,qn=Wu(xn,zn),An=ju(Ln),Yn=Tn+Pn+An,Vn=yn+Fn,Rn=Wu(Bn,Dn),kn=ju(Vn),$n=wn+Cn+kn,Gn=bt*Ln,Wn=Gu(Xt,qn),jn=Qt*An+bn*Yn+2*ju(Gn),Hn=St*Vn,Xn=Gu(ln,Rn),Qn=hn*kn+Mn*$n+2*ju(Hn),Un=Gn+Hn,Kn=Wu(Wn,Xn),Jn=jn+Qn+ju(Un),Zn=ct+ht,te=Wu(wt,Lt),ne=ju(Zn),ee=zt+qt+ne,re=_t+Mt,oe=Wu(rn,un),ie=ju(re),ue=on+cn+ie,ce=2*ct+ht,se=ju(ce),fe=Wu(ku(wt),Lt),le=2*zt+qt+se,he=2*_t+Mt,ae=Wu(ku(rn),un),ve=ju(he),ge=2*on+cn+ve,de=2*gt+mt,pe=Wu(ku(kt),Ut),be=ju(de),me=2*$t+Kt+be,Ee=2*gt+lt,Ie=Wu(ku(kt),Ft),Ne=ju(Ee),_e=2*$t+Ct+Ne,Me=2*mt+gt,xe=Wu(ku(Ut),kt),Se=2*Kt+$t+ju(Me),Te=6*ct+ht,Be=6*ct,ye=$u(6,wt),we=6*zt+ju(Be),ze=Wu(ye,Lt),Oe=we+qt+ju(Be+ht),Pe=6*_t+Mt,De=6*_t,Fe=$u(6,rn),Ce=6*on+ju(De),Le=Wu(Fe,un),qe=Ce+cn+ju(De+Mt),Ae=dt+pt,Ye=Wu(Gt,jt),Ve=ju(Ae),Re=Wt+Ht+Ve,ke=lt+mt,$e=Wu(Ft,Ut),Ge=Ct+Kt+ju(ke),We=2*vt+ft,je=Wu(ku(Vt),Pt),He=2*Rt+Dt+ju(We),Xe=2*ft+vt,Qe=Wu(ku(Pt),Vt),Ue=2*Dt+Rt+ju(Xe),Ke=lt+gt,Je=Wu(Ft,kt),Ze=Ct+$t+ju(Ke),tr=Ke+mt,nr=Wu(Je,Ut),er=ju(tr),rr=Ze+Kt+er,or=3*bt,ir=$u(3,Xt),ur=3*Qt+ju(or),cr=ju(or),sr=3*St,fr=$u(3,ln),lr=3*hn+ju(sr),hr=ju(sr),ar=or*z,vr=Gu(ir,e),gr=ur*V+cr*a+2*ju(ar),dr=bt*O,pr=Gu(Xt,r),br=Qt*R+bn*v+2*ju(dr),mr=2*Et*O,Er=ku(Gu(Jt,r)),Ir=2*(Zt*R+mn*v+ju(mr)),Nr=2*Et*P,_r=ku(Gu(Jt,o)),Mr=2*(Zt*k+mn*g+ju(Nr)),xr=St*P,Sr=Gu(ln,o),Tr=hn*k+Mn*g+2*ju(xr),Br=sr*D,yr=Gu(fr,i),wr=lr*$+hr*d+2*ju(Br),zr=ar+mr,Or=Wu(vr,Er),Pr=gr+Ir+ju(zr),Dr=dr+Nr,Fr=Wu(pr,_r),Cr=br+Mr+ju(Dr),Lr=zr+xr,qr=Wu(Or,Sr),Ar=Pr+Tr+ju(Lr),Yr=Dr+Br,Vr=Wu(Fr,yr),Rr=Cr+wr+ju(Yr),kr=Q*Lr,$r=Gu(M,qr),Gr=tt*Ar+ju(kr),Wr=K*Yr,jr=Gu(T,Vr),Hr=rt*Rr+ju(Wr),Xr=kr+Wr,Qr=Wu($r,jr),Ur=Gr+Hr+ju(Xr),Kr=J*ce,Jr=Gu(S,fe),Zr=w*se+ot*le+2*ju(Kr),to=J*Ee,no=Gu(S,Ie),eo=w*Ne+ot*_e+2*ju(to),ro=U*de,oo=Gu(_,pe),io=y*be+nt*me+2*ju(ro),uo=U*he,co=Gu(_,ae),so=y*ve+nt*ge+2*ju(uo),fo=3*U,lo=$u(3,_),ho=ju(fo),ao=3*y+ho,vo=fo*Zn,go=Gu(lo,te),po=ju(vo),bo=ao*ne+ho*ee+po,mo=3*J,Eo=$u(3,S),Io=ju(mo),No=3*w+Io,_o=mo*re,Mo=Gu(Eo,oe),xo=ju(_o),So=No*ie+Io*ue+xo,To=Kr+ro,Bo=Wu(Jr,oo),yo=ju(To),wo=Zr+io+yo,zo=to+uo,Oo=Wu(no,co),Po=ju(zo),Do=eo+so+Po,Fo=vo*z,Co=Gu(go,e),Lo=bo*V+po*a+2*ju(Fo),qo=_o*D,Ao=Gu(Mo,i),Yo=So*$+xo*d+2*ju(qo),Vo=To*O,Ro=Gu(Bo,r),ko=wo*R+yo*v+2*ju(Vo),$o=zo*P,Go=Gu(Oo,o),Wo=Do*k+Po*g+2*ju($o),jo=Fo+qo,Ho=Wu(Co,Ao),Xo=Lo+Yo+ju(jo),Qo=Vo+$o,Uo=Wu(Ro,Go),Ko=ko+Wo+ju(Qo),Jo=bt*F,Zo=Gu(Xt,u),ti=Qt*G+bn*p+2*ju(Jo),ni=St*L,ei=Gu(ln,s),ri=hn*W+Mn*m+2*ju(ni),oi=Et*C,ii=Gu(Jt,c),ui=Zt*j+mn*b+2*ju(oi),ci=Jo+ni,si=Wu(Zo,ei),fi=ti+ri+ju(ci),li=jo+Qo,hi=Wu(Ho,Uo),ai=Xo+Ko+ju(li),vi=ci+oi,gi=Wu(si,ii),di=fi+ui+ju(vi),pi=li+vi,bi=Wu(hi,gi),mi=ai+di+ju(pi),Ei=Q*Te,Ii=Gu(M,ze),Ni=tt*Oe+2*ju(Ei),_i=2*Ni,Mi=K*Pe,xi=Gu(T,Le),Si=rt*qe+2*ju(Mi),Ti=2*Si,Bi=2*x*Ae,yi=$u(2*x,Ye),wi=2*Z*Re+ju(Bi),zi=2*K*ke,Oi=Gu(ku(T),$e),Pi=2*rt*Ge+2*ju(zi),Di=Q*Me,Fi=Gu(M,xe),Ci=tt*Se+2*ju(Di),qi=Q*he,Ai=Gu(M,ae),Yi=tt*ge+2*ju(qi),Vi=Bi+Di,Ri=Wu(yi,Fi),ki=wi+Ci+ju(Vi),$i=wi+Ci+ki,Gi=zi+qi,Wi=Wu(Oi,Ai),ji=Pi+Yi+ju(Gi),Hi=Pi+Yi+ji,Xi=xt*L,Qi=Gu(sn,s),Ui=fn*W+_n*m+2*ju(Xi),Ki=at*F,Ji=Gu(At,u),Zi=Yt*G+pn*p+2*ju(Ki),tu=Ae*C,nu=Gu(Ye,c),eu=Re*j+Ve*b+2*ju(tu),ru=Xi+Ki,ou=Wu(Qi,Ji),iu=Ui+Zi+ju(ru),uu=Ei*z,cu=Gu(Ii,e),su=_i*V+Ni*a+2*ju(uu),fu=Vi*O,lu=Gu(Ri,r),hu=$i*R+ki*v+2*ju(fu),au=Mi*D,vu=Gu(xi,i),gu=Ti*$+Si*d+2*ju(au),du=Gi*P,pu=Gu(Wi,o),bu=Hi*k+ji*g+2*ju(du),Eu=uu+au,Iu=Wu(cu,vu),Nu=su+gu+ju(Eu),_u=fu+du,Mu=Wu(lu,pu),xu=hu+bu+ju(_u),Su=Eu+_u,Tu=Wu(Iu,Mu),Bu=Nu+xu+ju(Su),yu=2*ru+tu,wu=Wu(ku(ou),nu),zu=2*iu+eu+ju(yu),Ou=Su+yu,Pu=Wu(Tu,wu),Du=Bu+zu+ju(Ou),Fu=3*x,Cu=ju(Fu),Lu=Ru(3,x),qu=Fu*Zn,Au=Gu(Lu,te),Yu=ju(qu),Vu=Cu*ee+2*ju(qu),Xu=3*B,Qu=ju(Xu),Uu=Ru(3,B),Ku=Xu*re,Ju=Gu(Uu,oe),Zu=ju(Ku),tc=Qu*ue+2*ju(Ku),nc=x*Ee,ec=$u(x,Ie),rc=Z*_e+ju(nc),oc=x*he,ic=$u(x,ae),uc=Z*ge+ju(oc),cc=B*ce,sc=$u(B,fe),fc=et*le+ju(cc),lc=B*de,hc=$u(B,pe),ac=et*me+ju(lc),vc=nc+cc,gc=Wu(ec,sc),dc=ju(vc),pc=rc+fc+dc,bc=oc+lc,mc=Wu(ic,hc),Ec=ju(bc),Ic=uc+ac+Ec,Nc=qu*z,_c=Gu(Au,e),Mc=Vu*V+Yu*a+2*ju(Nc),xc=Ku*D,Sc=Gu(Ju,i),Tc=tc*$+Zu*d+2*ju(xc),Bc=vc*O,yc=Gu(gc,r),wc=pc*R+dc*v+2*ju(Bc),zc=bc*P,Oc=Gu(mc,o),Pc=Ic*k+Ec*g+2*ju(zc),Dc=ce*F,Fc=Gu(fe,u),Cc=le*G+se*p+2*ju(Dc),Lc=he*L,qc=Gu(ae,s),Ac=ge*W+ve*m+2*ju(Lc),Yc=tr*C,Vc=Gu(nr,c),Rc=rr*j+er*b+2*ju(Yc),kc=U*q,$c=Gu(_,f),Gc=y*H+nt*E+2*ju(kc),Wc=J*A,jc=Gu(S,l),Hc=w*X+ot*I+2*ju(Wc),Xc=Nc+xc,Qc=Wu(_c,Sc),Uc=Mc+Tc+ju(Xc),Kc=Bc+zc,Jc=Wu(yc,Oc),Zc=wc+Pc+ju(Kc),ts=Dc+Lc,ns=Wu(Fc,qc),es=Cc+Ac+ju(ts),rs=Xc+Kc,os=Wu(Qc,Jc),is=Uc+Zc+ju(rs),us=ts+Yc,cs=Wu(ns,Vc),ss=es+Rc+ju(us),fs=kc+Wc,ls=Wu($c,jc),hs=Gc+Hc+ju(fs),as=rs+us,vs=Wu(os,cs),gs=is+ss+ju(as),ds=as+fs,ps=Wu(vs,ls),bs=gs+hs+ju(ds),ms=Fu*ut,Es=Gu(Lu,Bt),Is=ju(ms),Ns=Cu*yt+2*Is,_s=Xu*Nt,Ms=Gu(Uu,nn),xs=ju(_s),Ss=Qu*en+2*xs,Ts=x*We,Bs=$u(x,je),ys=ju(Ts),ws=Z*He+ju(Ts),zs=B*Xe,Os=$u(B,Qe),Ps=ju(zs),Ds=et*Ue+ju(zs),Fs=ut*F,Cs=Gu(Bt,u),Ls=yt*G+vn*p+2*ju(Fs),qs=Nt*L,As=Gu(nn,s),Ys=en*W+Nn*m+2*ju(qs),Vs=ft*C,Rs=Gu(Pt,c),ks=Dt*j+dn*b+2*ju(Vs),$s=vt*C,Gs=Gu(Vt,c),Ws=Rt*j+En*b+2*ju($s),js=2*(Fs+qs),Hs=ku(Wu(Cs,As)),Xs=2*(Ls+Ys)+ju(js),Qs=Vs+$s,Us=Wu(Rs,Gs),Ks=ks+Ws+ju(Qs),Js=Q*q,Zs=Gu(M,f),tf=tt*E+2*ju(Js),nf=K*A,ef=Gu(T,l),rf=rt*I+2*ju(nf),of=ms*z,uf=Gu(Es,e),cf=Ns*V+Is*a+2*ju(of),sf=_s*D,ff=Gu(Ms,i),lf=Ss*$+xs*d+2*ju(sf),hf=Ts*O,af=Gu(Bs,r),vf=ws*R+ys*v+2*ju(hf),gf=zs*P,df=Gu(Os,o),pf=Ds*k+Ps*g+2*ju(gf),bf=of+sf,mf=Wu(uf,ff),Ef=cf+lf+ju(bf),If=hf+gf,Nf=Wu(af,df),_f=vf+pf+ju(If),Mf=bf+If,xf=Wu(mf,Nf),Sf=Ef+_f+ju(Mf),Tf=js+Qs,Bf=Wu(Hs,Us),yf=Xs+Ks+ju(Tf),wf=Js+nf,zf=Wu(Zs,ef),Of=tf+rf+ju(wf),Pf=Mf+Tf,Df=Wu(xf,Bf),Ff=Sf+yf+ju(Pf),Cf=Pf+wf,Lf=Wu(Df,zf),qf=Ff+Of+ju(Cf),Af=x*z,Yf=$u(x,e),Vf=Z*a+ju(Af),Rf=x*P,kf=$u(x,o),$f=Z*g+ju(Rf),Gf=B*O,Wf=$u(B,r),jf=et*v+ju(Gf),Hf=B*D,Xf=$u(B,i),Qf=et*d+ju(Hf),Uf=Af+Gf,Kf=Wu(Yf,Wf),Jf=Vf+jf+ju(Uf),Zf=Rf+Hf,tl=Wu(kf,Xf),nl=$f+Qf+ju(Zf),el=Uf+F,rl=Wu(Kf,u),ol=Jf+p+ju(el),il=Zf+L,ul=Wu(tl,s),cl=nl+m+ju(il),sl=it*el,fl=Gu(Tt,rl),ll=an*ol+2*ju(sl),hl=It*il,al=Gu(tn,ul),vl=In*cl+2*ju(hl),gl=st*C,dl=Gu(Ot,c),pl=gn*b+2*ju(gl),bl=x*q,ml=$u(x,f),El=Z*E+ju(bl),Il=B*A,Nl=$u(B,l),_l=et*I+ju(Il),Ml=sl+hl,xl=Wu(fl,al),Sl=ll+vl+ju(Ml),Tl=Ml+gl,Bl=Wu(xl,dl),yl=Sl+pl+ju(Tl),wl=bl+Il,zl=Wu(ml,Nl),Ol=El+_l+ju(wl),Pl=Tl+wl,Dl=Wu(Bl,zl),Fl=yl+Ol+ju(Pl),Cl=Pl+Y,Ll=Wu(Dl,h),ql=Fl+N+ju(Cl);return{coeffs:[Kn,Qr,bi,Pu,ps,Lf,Ll],errBound:[Hu*Jn,Hu*Ur,Hu*mi,Hu*Du,Hu*bs,Hu*qf,Hu*ql]}}const Qu=vn,Uu=fn,Ku=En,Ju=Math.abs,Zu=fo(3);function tc(t,n){const{coeffs:{vₓ:e,vᵧ:r,v:o},errorBound:{v_:i}}=ki(t),{coeffs:[[u,c,s,f],[l,h,a,v]],errorBound:[[g,d,p],[b,m,E]]}=Ci(n),I=Ju(e[1]),N=Ju(r[1]),_=Ku(u,e),M=g*I+2*Ju(_[1]),x=Ku(l,r),S=b*N+2*Ju(x[1]),T=Qu(_,x),B=M+S+Ju(T[1]),y=Ku(c,e),w=d*I+2*Ju(y[1]),z=Ku(h,r),O=m*N+2*Ju(z[1]),P=Qu(y,z),D=w+O+Ju(P[1]),F=Ku(s,e),C=p*I+2*Ju(F[1]),L=Ku(a,r),q=E*N+2*Ju(L[1]),A=Qu(F,L),Y=C+q+Ju(A[1]),V=Uu(f,e),R=Ju(V[1]),k=Uu(v,r),$=Ju(k[1]),G=Qu(V,k),W=R+$+Ju(G[1]),j=Qu(G,o),H=W+i+Ju(j[1]);return{coeffs:[T,P,A,j],errBound:[Zu*B,Zu*D,Zu*Y,Zu*H]}}const nc=Mn,ec=dn,rc=fn,oc=En,ic=vn,uc=Math.abs,cc=fo(3);function sc(t,n){const{coeffs:{vₓₓ:e,vₓᵧ:r,vᵧᵧ:o,vₓ:i,vᵧ:u,v:c},errorBound:{vₓₓ_:s,vₓᵧ_:f,vᵧᵧ_:l,vₓ_:h,vᵧ_:a,v_:v}}=nu(t),{coeffs:[[g,d,p,b],[m,E,I,N]],errorBound:[[_,M,x],[S,T,B]]}=Ci(n),y=e[1],w=r[1],z=o[1],O=i[1],P=u[1],D=c[1],F=uc(y),C=uc(w),L=uc(z),q=uc(O),A=uc(P),Y=p[1],V=d[1],R=g[1],k=I[1],$=E[1],G=m[1],W=uc(b),j=uc(Y),H=uc(V),X=uc(R),Q=uc(N),U=uc(k),K=uc($),J=uc(G),Z=b*b,tt=b*Y,nt=b*V,et=b*R,rt=b*N,ot=b*k,it=b*$,ut=b*G,ct=Y*Y,st=Y*V,ft=Y*R,lt=Y*N,ht=Y*k,at=Y*$,vt=Y*G,gt=V*k,dt=V*V,pt=V*R,bt=V*N,mt=V*$,Et=V*G,It=R*R,Nt=R*N,_t=R*k,Mt=R*$,xt=R*G,St=N*N,Tt=N*k,Bt=N*$,yt=N*G,wt=k*k,zt=k*$,Ot=G*G,Pt=$*$,Dt=$*G,Ft=k*G,Ct=nc(b,b),Lt=uc(Z),qt=rc(b,p),At=uc(tt),Yt=W*x+At,Vt=rc(b,d),Rt=W*M+uc(nt),kt=rc(b,g),$t=W*_+uc(et),Gt=nc(b,N),Wt=uc(rt),jt=rc(b,I),Ht=W*B+uc(ot),Xt=rc(b,E),Qt=W*T+uc(it),Ut=rc(b,m),Kt=W*S+uc(ut),Jt=oc(p,p),Zt=x*j+j*x+2*uc(ct),tn=oc(p,d),nn=x*H+j*M+2*uc(st),en=oc(p,g),rn=x*X+j*_+2*uc(ft),on=rc(N,p),un=Q*x+uc(lt),cn=oc(p,I),sn=x*U+j*B+2*uc(ht),fn=oc(p,E),ln=x*K+j*T+2*uc(at),hn=oc(p,m),an=x*J+j*S+2*uc(vt),vn=oc(d,I),gn=M*U+H*B+2*uc(gt),dn=oc(d,d),pn=M*H+H*M+2*uc(dt),bn=oc(d,g),mn=uc(pt),En=M*X+H*_+2*mn,In=rc(N,d),Nn=Q*M+uc(bt),_n=oc(d,E),Mn=M*K+H*T+2*uc(mt),xn=oc(d,m),Sn=M*J+H*S+2*uc(Et),Tn=oc(g,g),Bn=uc(It),yn=_*X+X*_+2*Bn,wn=rc(N,g),zn=Q*_+uc(Nt),On=oc(g,I),Pn=_*U+X*B+2*uc(_t),Dn=oc(g,E),Fn=_*K+X*T+2*uc(Mt),Cn=oc(g,m),Ln=uc(xt),qn=_*J+X*S+2*Ln,An=nc(N,N),Yn=uc(St),Vn=rc(N,I),Rn=uc(Tt),kn=Q*B+Rn,$n=rc(N,E),Gn=Q*T+uc(Bt),Wn=rc(N,m),jn=Q*S+uc(yt),Hn=oc(I,I),Xn=B*U+U*B+2*uc(wt),Qn=oc(I,E),Un=B*K+U*T+2*uc(zt),Kn=oc(m,m),Jn=uc(Ot),Zn=S*J+J*S+2*Jn,te=oc(E,E),ne=T*K+K*T+2*uc(Pt),ee=oc(E,m),re=uc(Dt),oe=T*J+K*S+2*re,ie=oc(I,m),ue=B*J+U*S+2*uc(Ft),ce=It*y,se=oc(Tn,e),fe=yn*F+Bn*s+2*uc(ce),le=xt*w,he=oc(Cn,r),ae=qn*C+Ln*f+2*uc(le),ve=Ot*z,ge=oc(Kn,o),de=Zn*L+Jn*l+2*uc(ve),pe=ce+le,be=ic(se,he),me=fe+ae+uc(pe),Ee=pe+ve,Ie=ic(be,ge),Ne=me+de+uc(Ee),_e=pt*y,Me=oc(bn,e),xe=En*F+mn*s+2*uc(_e),Se=Dt*z,Te=oc(ee,o),Be=oe*L+re*l+2*uc(Se),ye=_e+Se,we=ic(Me,Te),ze=xe+Be+uc(ye),Oe=Et+Mt,Pe=ic(xn,Dn),De=uc(Oe),Fe=Sn+Fn+De,Ce=Oe*w,Le=oc(Pe,r),qe=Fe*C+De*f+2*uc(Ce),Ae=2*ye+Ce,Ye=ic(ec(we),Le),Ve=2*ze+qe+uc(Ae),Re=2*ft+dt,ke=ic(ec(en),dn),$e=uc(Re),Ge=2*rn+pn+uc(Re),We=2*Ft+Pt,je=ic(ec(ie),te),He=uc(We),Xe=2*ue+ne+uc(We),Qe=vt+mt,Ue=ic(hn,_n),Ke=an+Mn+uc(Qe),Je=Qe+_t,Ze=ic(Ue,On),tr=uc(Je),nr=Ke+Pn+tr,er=Re*y,rr=oc(ke,e),or=Ge*F+$e*s+2*uc(er),ir=We*z,ur=oc(je,o),cr=Xe*L+He*l+2*uc(ir),sr=er+ir,fr=ic(rr,ur),lr=or+cr+uc(sr),hr=Je*w,ar=oc(Ze,r),vr=nr*C+tr*f+2*uc(hr),gr=sr+hr,dr=ic(fr,ar),pr=lr+vr+uc(gr),br=et+st,mr=ic(kt,tn),Er=uc(br),Ir=$t+nn+Er,Nr=yt+zt,_r=ic(Wn,Qn),Mr=uc(Nr),xr=jn+Un+Mr,Sr=ut+at,Tr=ic(Ut,fn),Br=Kt+ln+uc(Sr),yr=gt+Nt,wr=ic(vn,wn),zr=gn+zn+uc(yr),Or=Sr+yr,Pr=ic(Tr,wr),Dr=uc(Or),Fr=Br+zr+Dr,Cr=br*y,Lr=oc(mr,e),qr=Ir*F+Er*s+2*uc(Cr),Ar=Nr*z,Yr=oc(_r,o),Vr=xr*L+Mr*l+2*uc(Ar),Rr=2*(Cr+Ar),kr=ec(ic(Lr,Yr)),$r=2*(qr+Vr)+uc(Rr),Gr=Or*w,Wr=oc(Pr,r),jr=Fr*C+Dr*f+2*uc(Gr),Hr=R*O,Xr=oc(g,i),Qr=_*q+X*h+2*uc(Hr),Ur=G*P,Kr=oc(m,u),Jr=S*A+J*a+2*uc(Ur),Zr=Hr+Ur,to=ic(Xr,Kr),no=Qr+Jr+uc(Zr),eo=Rr+Gr,ro=ic(kr,Wr),oo=$r+jr+uc(eo),io=eo+Zr,uo=ic(ro,to),co=oo+no+uc(io),so=2*nt+ct,fo=ic(ec(Vt),Jt),lo=uc(so),ho=2*Rt+Zt+lo,ao=2*Bt+wt,vo=ic(ec($n),Hn),go=uc(ao),po=2*Gn+Xn+go,bo=it+ht,mo=ic(Xt,cn),Eo=Qt+sn+uc(bo),Io=bo+bt,No=ic(mo,In),_o=uc(Io),Mo=Eo+Nn+_o,xo=so*y,So=oc(fo,e),To=ho*F+lo*s+2*uc(xo),Bo=ao*z,yo=oc(vo,o),wo=po*L+go*l+2*uc(Bo),zo=Io*w,Oo=oc(No,r),Po=Mo*C+_o*f+2*uc(zo),Do=xo+Bo,Fo=ic(So,yo),Co=To+wo+uc(Do),Lo=Do+zo,qo=ic(Fo,Oo),Ao=Co+Po+uc(Lo),Yo=V*O,Vo=oc(d,i),Ro=M*q+H*h+2*uc(Yo),ko=$*P,$o=oc(E,u),Go=T*A+K*a+2*uc(ko),Wo=Yo+ko,jo=ic(Vo,$o),Ho=Ro+Go+uc(Wo),Xo=Lo+Wo,Qo=ic(qo,jo),Uo=Ao+Ho+uc(Xo),Ko=tt*y,Jo=oc(qt,e),Zo=Yt*F+At*s+2*uc(Ko),ti=Tt*z,ni=oc(Vn,o),ei=kn*L+Rn*l+2*uc(ti),ri=ot+lt,oi=ic(jt,on),ii=uc(ri),ui=Ht+un+ii,ci=ri*w,si=oc(oi,r),fi=ui*C+ii*f+2*uc(ci),li=2*(Ko+ti),hi=ec(ic(Jo,ni)),ai=2*(Zo+ei)+uc(li),vi=li+ci,gi=ic(hi,si),di=ai+fi+uc(vi),pi=Y*O,bi=oc(p,i),mi=x*q+j*h+2*uc(pi),Ei=k*P,Ii=oc(I,u),Ni=B*A+U*a+2*uc(Ei),_i=pi+Ei,Mi=ic(bi,Ii),xi=mi+Ni+uc(_i),Si=vi+_i,Ti=ic(gi,Mi),Bi=di+xi+uc(Si),yi=Z*y,wi=oc(Ct,e),zi=Lt*s+2*uc(yi),Oi=rt*w,Pi=oc(Gt,r),Di=Wt*f+2*uc(Oi),Fi=St*z,Li=oc(An,o),qi=Yn*l+2*uc(Fi),Ai=b*O,Yi=rc(b,i),Vi=W*h+uc(Ai),Ri=N*P,ki=rc(N,u),$i=Q*a+uc(Ri),Gi=yi+Oi,Wi=ic(wi,Pi),ji=zi+Di+uc(Gi),Hi=Gi+Fi,Xi=ic(Wi,Li),Qi=ji+qi+uc(Hi),Ui=Ai+Ri,Ki=ic(Yi,ki),Ji=Vi+$i+uc(Ui),Zi=Hi+Ui,tu=ic(Xi,Ki),eu=Qi+Ji+uc(Zi),ru=Zi+D,ou=ic(tu,c),iu=eu+v+uc(ru);return{coeffs:[Ie,Ye,dr,uo,Qo,Ti,ou],errBound:[cc*Ne,cc*Ve,cc*pr,cc*co,cc*Uo,cc*Bi,cc*iu]}}const fc=Mn,lc=dn,hc=fn,ac=En,vc=vn,gc=Math.abs,dc=fo(3);function pc(t,n){const{coeffs:{vₓₓₓ:e,vₓₓᵧ:r,vₓᵧᵧ:o,vᵧᵧᵧ:i,vₓₓ:u,vₓᵧ:c,vᵧᵧ:s,vₓ:f,vᵧ:l,v:h},errorBound:{vₓₓₓ_:a,vₓₓᵧ_:v,vₓᵧᵧ_:g,vᵧᵧᵧ_:d,vₓₓ_:p,vₓᵧ_:b,vᵧᵧ_:m,vₓ_:E,vᵧ_:I,v_:N}}=mu(t),{coeffs:[[_,M,x,S],[T,B,y,w]],errorBound:[[z,O,P],[D,F,C]]}=Ci(n),L=e[1],q=r[1],A=o[1],Y=i[1],V=u[1],R=c[1],k=s[1],$=f[1],G=l[1],W=h[1],j=gc(L),H=gc(q),X=gc(A),Q=gc(Y),U=gc(V),K=gc(R),J=gc(k),Z=gc($),tt=gc(G),nt=(gc(W),x[1]),et=M[1],rt=_[1],ot=y[1],it=B[1],ut=T[1],ct=gc(S),st=gc(nt),ft=gc(et),lt=gc(rt),ht=gc(w),at=gc(ot),vt=gc(it),gt=gc(ut),dt=S*S,pt=S*nt,bt=S*et,mt=S*rt,Et=S*w,It=S*ot,Nt=S*it,_t=S*ut,Mt=nt*nt,xt=nt*et,St=nt*rt,Tt=nt*w,Bt=nt*ot,yt=nt*it,wt=nt*ut,zt=et*ot,Ot=et*et,Pt=et*rt,Dt=et*w,Ft=et*it,Ct=et*ut,Lt=rt*rt,qt=rt*w,At=rt*ot,Yt=rt*it,Vt=rt*ut,Rt=w*w,kt=w*ot,$t=w*it,Gt=w*ut,Wt=ot*ot,jt=ot*it,Ht=ut*ut,Xt=it*it,Qt=it*ut,Ut=ot*ut,Kt=fc(S,S),Jt=hc(S,x),Zt=ct*P+gc(pt),tn=hc(S,M),nn=ct*O+gc(bt),en=hc(S,_),rn=ct*z+gc(mt),on=fc(S,w),un=hc(S,y),cn=ct*C+gc(It),sn=hc(S,B),fn=ct*F+gc(Nt),ln=hc(S,T),hn=ct*D+gc(_t),an=ac(x,x),vn=gc(Mt),gn=2*(P*st+vn),dn=ac(x,M),pn=P*ft+st*O+2*gc(xt),bn=ac(x,_),mn=P*lt+st*z+2*gc(St),En=hc(w,x),In=ht*P+gc(Tt),Nn=ac(x,y),_n=P*at+st*C+2*gc(Bt),Mn=ac(x,B),xn=P*vt+st*F+2*gc(yt),Sn=ac(x,T),Tn=P*gt+st*D+2*gc(wt),Bn=ac(M,y),yn=O*at+ft*C+2*gc(zt),wn=ac(M,M),zn=gc(Ot),On=2*(O*ft+zn),Pn=ac(M,_),Dn=O*lt+ft*z+2*gc(Pt),Fn=hc(w,M),Cn=ht*O+gc(Dt),Ln=ac(M,B),qn=O*vt+ft*F+2*gc(Ft),An=ac(M,T),Yn=O*gt+ft*D+2*gc(Ct),Vn=ac(_,_),Rn=2*(z*lt+gc(Lt)),kn=hc(w,_),$n=ht*z+gc(qt),Gn=ac(_,y),Wn=z*at+lt*C+2*gc(At),jn=ac(_,B),Hn=gc(Yt),Xn=z*vt+lt*F+2*Hn,Qn=ac(_,T),Un=z*gt+lt*D+2*gc(Vt),Kn=fc(w,w),Jn=hc(w,y),Zn=ht*C+gc(kt),te=hc(w,B),ne=ht*F+gc($t),ee=hc(w,T),re=ht*D+gc(Gt),oe=ac(y,y),ie=gc(Wt),ue=2*(C*at+ie),ce=ac(y,B),se=C*vt+at*F+2*gc(jt),fe=ac(T,T),le=2*(D*gt+gc(Ht)),he=ac(B,B),ae=gc(Xt),ve=2*(F*vt+ae),ge=ac(B,T),de=F*gt+vt*D+2*gc(Qt),pe=ac(y,T),be=gc(Ut),me=C*gt+at*D+2*be,Ee=gc(dt),Ie=gc(pt),Ne=gc(Pt),_e=gc(Lt),Me=gc(Vt),xe=gc(Et),Se=gc(Rt),Te=gc(kt),Be=gc(Qt),ye=gc(Ht),we=rt*Lt,ze=ac(_,Vn),Oe=lt*_e,Pe=z*_e+lt*Rn+2*Oe,De=rt*Ht,Fe=ac(_,fe),Ce=lt*ye,Le=z*ye+lt*le+2*Ce,qe=ut*Lt,Ae=ac(T,Vn),Ye=gt*_e,Ve=D*_e+gt*Rn+2*Ye,Re=ut*Ht,ke=ac(T,fe),$e=gt*ye,Ge=D*ye+gt*le+2*$e,We=we*L,je=ac(ze,e),He=Pe*j+Oe*a+2*gc(We),Xe=De*A,Qe=ac(Fe,o),Ue=Le*X+Ce*g+2*gc(Xe),Ke=qe*q,Je=ac(Ae,r),Ze=Ve*H+Ye*v+2*gc(Ke),tr=Re*Y,nr=ac(ke,i),er=Ge*Q+$e*d+2*gc(tr),rr=We+Xe,or=vc(je,Qe),ir=He+Ue+gc(rr),ur=Ke+tr,cr=vc(Je,nr),sr=Ze+er+gc(ur),fr=rr+ur,lr=vc(or,cr),hr=ir+sr+gc(fr),ar=2*Ct+Yt,vr=gc(ar),gr=vc(lc(An),jn),dr=2*Yn+Xn+vr,pr=2*Yt+Ct,br=gc(pr),mr=vc(lc(jn),An),Er=2*Xn+Yn+gc(pr),Ir=rt*ar,Nr=gc(Ir),_r=ac(_,gr),Mr=z*vr+lt*dr+2*Nr,xr=ut*pr,Sr=gc(xr),Tr=ac(T,mr),Br=D*br+gt*Er+2*Sr,yr=et*Lt,wr=gc(yr),zr=ac(M,Vn),Or=O*_e+ft*Rn+2*wr,Pr=it*Ht,Dr=gc(Pr),Fr=ac(B,fe),Cr=F*ye+vt*le+2*Dr,Lr=L*yr,qr=ac(e,zr),Ar=Or*j+j*Or+2*gc(Lr),Yr=Y*Pr,Vr=ac(i,Fr),Rr=Cr*Q+Q*Cr+2*gc(Yr),kr=q*Ir,$r=ac(r,_r),Gr=Mr*H+H*Mr+2*gc(kr),Wr=A*xr,jr=ac(o,Tr),Hr=Br*X+X*Br+2*gc(Wr),Xr=kr+Wr,Qr=vc($r,jr),Ur=Gr+Hr+gc(Xr),Kr=3*(Lr+Yr),Jr=hc(3,vc(qr,Vr)),Zr=3*(Ar+Rr)+2*gc(Kr),to=Xr+Kr,no=vc(Qr,Jr),eo=Ur+Zr+gc(to),ro=nt*Vt,oo=ac(x,Qn),io=P*Me+st*Un+2*gc(ro),uo=ot*Lt,co=ac(y,Vn),so=C*_e+at*Rn+2*gc(uo),fo=et*Qt,lo=ac(M,ge),ho=O*Be+ft*de+2*gc(fo),ao=nt*Ht,vo=ac(x,fe),go=P*ye+st*le+2*gc(ao),po=et*Yt,bo=ac(M,jn),mo=O*Hn+ft*Xn+2*gc(po),Eo=ut*Ot,Io=ac(T,wn),No=D*zn+gt*On+2*gc(Eo),_o=rt*Ut,Mo=ac(_,pe),xo=z*be+lt*me+2*gc(_o),So=it*Yt,To=ac(B,jn),Bo=F*Hn+vt*Xn+2*gc(So),yo=ro+po,wo=vc(oo,bo),zo=io+mo+gc(yo),Oo=uo+Eo,Po=vc(co,Io),Do=so+No+gc(Oo),Fo=fo+_o,Co=vc(lo,Mo),Lo=ho+xo+gc(Fo),qo=ao+So,Ao=vc(vo,To),Yo=go+Bo+gc(qo),Vo=St+Ot,Ro=vc(bn,wn),ko=gc(Vo),$o=mn+On+ko,Go=Ut+Xt,Wo=gc(Go),jo=vc(pe,he),Ho=me+ve+Wo,Xo=2*yo+Oo,Qo=vc(lc(wo),Po),Uo=gc(Xo),Ko=2*zo+Do+Uo,Jo=2*Fo+qo,Zo=vc(lc(Co),Ao),ti=gc(Jo),ni=2*Lo+Yo+ti,ei=q*Xo,ri=ac(r,Qo),oi=v*Uo+H*Ko+2*gc(ei),ii=A*Jo,ui=ac(o,Zo),ci=g*ti+X*ni+2*gc(ii),si=rt*Vo,fi=ac(_,Ro),li=gc(si),hi=z*ko+lt*$o+2*li,ai=ut*Go,vi=ac(T,jo),gi=gc(ai),di=D*Wo+gt*Ho+2*gi,pi=L*si,bi=ac(e,fi),mi=a*li+j*hi+2*gc(pi),Ei=Y*ai,Ii=ac(i,vi),Ni=d*gi+Q*di+2*gc(Ei),_i=ei+ii,Mi=vc(ri,ui),xi=oi+ci+gc(_i),Si=3*(pi+Ei),Ti=hc(3,vc(bi,Ii)),Bi=3*(mi+Ni)+2*gc(Si),yi=_i+Si,wi=vc(Mi,Ti),zi=xi+Bi+gc(yi),Oi=Ct+Yt,Pi=vc(An,jn),Di=gc(Oi),Fi=Yn+Xn+Di,Li=it*Ot,qi=ac(B,wn),Ai=F*zn+vt*On+2*gc(Li),Yi=2*nt*Oi,Vi=lc(ac(x,Pi)),Ri=2*(P*Di+st*Fi+2*gc(Yi)),ki=Li+Yi,$i=vc(qi,Vi),Gi=Ai+Ri+gc(ki),Wi=2*(_t+zt),ji=lc(vc(ln,Bn)),Hi=2*(hn+yn)+gc(Wi),Xi=Wi+qt,Qi=gc(Xi),Ui=vc(ji,kn),Ki=Hi+$n+Qi,Ji=rt*Xi,Zi=ac(_,Ui),tu=z*Qi+lt*Ki+2*gc(Ji),nu=ki+Ji,eu=vc($i,Zi),ru=gc(nu),ou=Gi+tu+ru,iu=et*Xt,uu=ac(M,he),cu=O*ae+ft*ve+2*gc(iu),su=2*ot*Oi,fu=lc(ac(y,Pi)),lu=2*(C*Di+at*Fi+gc(su)),hu=iu+su,au=vc(uu,fu),vu=cu+lu+gc(hu),gu=2*(yt+qt),du=lc(vc(Mn,kn)),pu=2*(xn+$n)+gc(gu),bu=gu+_t,Eu=vc(du,ln),Iu=gc(bu),Nu=pu+hn+Iu,_u=ut*bu,Mu=ac(T,Eu),xu=D*Iu+gt*Nu+2*gc(_u),Su=hu+_u,Tu=vc(au,Mu),Bu=gc(Su),yu=vu+xu+Bu,wu=et*Ot,zu=ac(M,wn),Ou=O*zn+ft*On+2*gc(wu),Pu=2*xt+mt,Du=vc(lc(dn),en),Fu=gc(Pu),Cu=2*pn+rn+Fu,Lu=3*rt,qu=hc(3,_),Au=gc(Lu),Yu=3*z+Au,Vu=Lu*Pu,Ru=ac(qu,Du),ku=Yu*Fu+Au*Cu+2*gc(Vu),$u=wu+Vu,Gu=vc(zu,Ru),Wu=gc($u),ju=Ou+ku+Wu,Hu=it*Xt,Xu=ac(B,he),Qu=F*ae+vt*ve+2*gc(Hu),Uu=2*jt+Gt,Ku=vc(lc(ce),ee),Ju=gc(Uu),Zu=2*se+re+Ju,tc=3*ut,nc=hc(3,T),ec=gc(tc),rc=3*D+ec,oc=tc*Uu,ic=ac(nc,Ku),uc=rc*Ju+ec*Zu+2*gc(oc),cc=Hu+oc,sc=vc(Xu,ic),pc=gc(cc),bc=Qu+uc+pc,mc=q*nu,Ec=ac(r,eu),Ic=v*ru+H*ou+2*gc(mc),Nc=A*Su,_c=ac(o,Tu),Mc=g*Bu+X*yu+2*gc(Nc),xc=mc+Nc,Sc=vc(Ec,_c),Tc=Ic+Mc+gc(xc),Bc=L*$u,yc=ac(e,Gu),wc=a*Wu+j*ju+2*gc(Bc),zc=Y*cc,Oc=ac(i,sc),Pc=d*pc+Q*bc+2*gc(zc),Dc=Bc+zc,Fc=vc(yc,Oc),Cc=wc+Pc+gc(Dc),Lc=V*Lt,qc=ac(Vn,u),Ac=Rn*U+_e*p+2*gc(Lc),Yc=k*Ht,Vc=ac(fe,s),Rc=le*J+ye*m+2*gc(Yc),kc=Lc+Yc,$c=vc(qc,Vc),Gc=Ac+Rc+gc(kc),Wc=R*Vt,jc=ac(Qn,c),Hc=Un*K+Me*b+2*gc(Wc),Xc=xc+Dc,Qc=vc(Sc,Fc),Uc=Tc+Cc+gc(Xc),Kc=kc+Wc,Jc=vc($c,jc),Zc=Gc+Hc+gc(Kc),ts=Xc+Kc,ns=vc(Qc,Jc),es=Uc+Zc+gc(ts),rs=Ft+At,os=vc(Ln,Gn),is=gc(rs),us=qn+Wn+is,cs=wt+Ft,ss=vc(Sn,Ln),fs=gc(cs),ls=Tn+qn+fs,hs=S*Oi,as=hc(S,Pi),vs=ct*Fi+gc(hs),gs=w*Oi,ds=hc(w,Pi),ps=ht*Fi+gc(gs),bs=nt*rs,ms=ac(x,os),Es=P*is+st*us+2*gc(bs),Is=ot*cs,Ns=ac(y,ss),_s=C*fs+at*ls+2*gc(Is),Ms=2*qt+zt,xs=vc(lc(kn),Bn),Ss=gc(Ms),Ts=2*$n+yn+Ss,Bs=2*_t+yt,ys=vc(lc(ln),Mn),ws=gc(Bs),zs=2*hn+xn+ws,Os=ut*Mt,Ps=ac(T,an),Ds=D*vn+gt*gn+2*gc(Os),Fs=rt*Wt,Cs=ac(_,oe),Ls=z*ie+lt*ue+2*gc(Fs),qs=et*Ms,As=ac(M,xs),Ys=O*Ss+ft*Ts+2*gc(qs),Vs=it*Bs,Rs=ac(B,ys),ks=F*ws+vt*zs+2*gc(Vs),$s=2*(hs+bs),Gs=lc(vc(as,ms)),Ws=2*(vs+Es)+gc($s),js=2*(gs+Is),Hs=lc(vc(ds,Ns)),Xs=2*(ps+_s)+gc(js),Qs=2*S*Pt,Us=lc(hc(S,Pn)),Ks=2*ct*Dn+gc(Qs),Js=2*w*Qt,Zs=lc(hc(w,ge)),tf=2*ht*de+gc(Js),nf=nt*Vo,ef=ac(x,Ro),rf=P*ko+st*$o+2*gc(nf),of=ot*Go,uf=ac(y,jo),cf=C*Wo+at*Ho+2*gc(of),sf=V*Pt,ff=ac(Pn,u),lf=Dn*U+Ne*p+2*gc(sf),hf=k*Qt,af=ac(ge,s),vf=de*J+Be*m+2*gc(hf),gf=$s+Os,df=vc(Gs,Ps),pf=gc(gf),bf=Ws+Ds+pf,mf=js+Fs,Ef=vc(Hs,Cs),If=gc(mf),Nf=Xs+Ls+If,_f=gf+qs,Mf=vc(df,As),xf=gc(_f),Sf=bf+Ys+xf,Tf=mf+Vs,Bf=vc(Ef,Rs),yf=gc(Tf),wf=Nf+ks+yf,zf=Qs+nf,Of=vc(Us,ef),Pf=gc(zf),Df=Ks+rf+Pf,Ff=Js+of,Cf=vc(Zs,uf),Lf=gc(Ff),qf=tf+cf+Lf,Af=2*(sf+hf),Yf=lc(vc(ff,af)),Vf=2*(lf+vf)+gc(Af),Rf=q*_f,kf=ac(r,Mf),$f=v*xf+H*Sf+2*gc(Rf),Gf=A*Tf,Wf=ac(o,Bf),jf=g*yf+X*wf+2*gc(Gf),Hf=L*zf,Xf=ac(e,Of),Qf=a*Pf+j*Df+2*gc(Hf),Uf=Y*Ff,Kf=ac(i,Cf),Jf=d*Lf+Q*qf+2*gc(Uf),Zf=Rf+Gf,tl=vc(kf,Wf),nl=$f+jf+gc(Zf),el=3*(Hf+Uf),rl=hc(3,vc(Xf,Kf)),ol=3*(Qf+Jf)+2*gc(el),il=R*Oi,ul=ac(c,Pi),cl=b*Di+K*Fi+2*gc(il),sl=Zf+el,fl=vc(tl,rl),ll=nl+ol+gc(sl),hl=il+Af,al=vc(ul,Yf),vl=cl+Vf+gc(hl),gl=sl+hl,dl=vc(fl,al),pl=ll+vl+gc(gl),bl=wt+rs,ml=vc(Sn,os),El=gc(bl),Il=Tn+us+El,Nl=2*St+Ot,_l=vc(lc(bn),wn),Ml=gc(Nl),xl=2*mn+On+Ml,Sl=2*Ut+Xt,Tl=vc(lc(pe),he),Bl=gc(Sl),yl=2*me+ve+Bl,wl=2*S*bl,zl=hc(2*S,ml),Ol=2*ct*Il+gc(wl),Pl=2*w*bl,Dl=hc(2*w,ml),Fl=2*ht*Il+gc(Pl),Cl=yt+2*zt,Ll=vc(Mn,lc(Bn)),ql=gc(Cl),Al=xn+2*yn+ql,Yl=zt+2*yt,Vl=vc(Bn,lc(Mn)),Rl=gc(Yl),kl=yn+2*xn+Rl,$l=w*Nl,Gl=hc(w,_l),Wl=ht*xl+gc($l),jl=S*Sl,Hl=hc(S,Tl),Xl=ct*yl+gc(jl),Ql=nt*Cl,Ul=ac(x,Ll),Kl=P*ql+st*Al+2*gc(Ql),Jl=ot*Yl,Zl=ac(y,Vl),th=C*Rl+at*kl+2*gc(Jl),nh=S*Nl,eh=hc(S,_l),rh=ct*xl+gc(nh),oh=w*Sl,ih=hc(w,Tl),uh=ht*yl+gc(oh),ch=et*Mt,sh=ac(M,an),fh=O*vn+ft*gn+2*gc(ch),lh=it*Wt,hh=ac(B,oe),ah=F*ie+vt*ue+2*gc(lh),vh=wl+$l,gh=vc(zl,Gl),dh=Ol+Wl+gc(vh),ph=Pl+jl,bh=vc(Dl,Hl),mh=Fl+Xl+gc(ph),Eh=vh+Ql,Ih=vc(gh,Ul),Nh=gc(Eh),_h=dh+Kl+Nh,Mh=ph+Jl,xh=vc(bh,Zl),Sh=gc(Mh),Th=mh+th+Sh,Bh=nh+ch,yh=vc(eh,sh),wh=gc(Bh),zh=rh+fh+wh,Oh=oh+lh,Ph=vc(ih,hh),Dh=gc(Oh),Fh=uh+ah+Dh,Ch=q*Eh,Lh=ac(r,Ih),qh=v*Nh+H*_h+2*gc(Ch),Ah=A*Mh,Yh=ac(o,xh),Vh=g*Sh+X*Th+2*gc(Ah),Rh=L*Bh,kh=ac(e,yh),$h=a*wh+j*zh+2*gc(Rh),Gh=Y*Oh,Wh=ac(i,Ph),jh=d*Dh+Q*Fh+2*gc(Gh),Hh=Rh+Gh,Xh=gc(Hh),Qh=vc(kh,Wh),Uh=$h+jh+Xh,Kh=Ch+Ah,Jh=vc(Lh,Yh),Zh=qh+Vh+gc(Kh),ta=Kh+3*Hh,na=vc(Jh,hc(3,Qh)),ea=Zh+3*(Uh+Xh)+gc(ta),ra=R*bl,oa=ac(c,ml),ia=b*El+K*Il+2*gc(ra),ua=V*Nl,ca=ac(u,_l),sa=p*Ml+U*xl+2*gc(ua),fa=ra+ua,la=vc(oa,ca),ha=ia+sa+gc(fa),aa=k*Sl,va=ac(s,Tl),ga=m*Bl+J*yl+2*gc(aa),da=fa+aa,pa=vc(la,va),ba=ha+ga+gc(da),ma=ta+da,Ea=vc(na,pa),Ia=ea+ba+gc(ma),Na=yt+zt,_a=vc(Mn,Bn),Ma=xn+yn+gc(Na),xa=qt+_t,Sa=vc(kn,ln),Ta=$n+hn+gc(xa),Ba=xt+mt,ya=vc(dn,en),wa=pn+rn+gc(Ba),za=gc(Ba),Oa=jt+Gt,Pa=vc(ce,ee),Da=se+re+gc(Oa),Fa=gc(Oa),Ca=2*Na+qt,La=vc(lc(_a),kn),qa=2*Ma+$n+gc(Ca),Aa=2*Na+_t,Ya=vc(lc(_a),ln),Va=2*Ma+hn+gc(Aa),Ra=2*Dt+Bt,ka=vc(lc(Fn),Nn),$a=gc(Ra),Ga=2*Cn+_n+$a,Wa=2*Nt+Bt,ja=vc(lc(sn),Nn),Ha=gc(Wa),Xa=2*fn+_n+Ha,Qa=Ba+xt,Ua=vc(ya,dn),Ka=wa+pn+gc(Qa),Ja=Oa+jt,Za=vc(Pa,ce),tv=Da+se+gc(Ja),nv=3*S,ev=fc(3,S),rv=nv*Qa,ov=ac(ev,Ua),iv=gc(nv)*Ka+2*gc(rv),uv=3*w,cv=fc(3,w),sv=uv*Ja,fv=ac(cv,Za),lv=gc(uv)*tv+2*gc(sv),hv=nt*Mt,av=ac(x,an),vv=P*vn+st*gn+2*gc(hv),gv=ot*Wt,dv=ac(y,oe),pv=C*ie+at*ue+2*gc(gv),bv=V*Ba,mv=ac(u,ya),Ev=p*za+U*wa+gc(bv),Iv=k*Oa,Nv=ac(s,Pa),_v=m*Fa+J*Da+gc(Iv),Mv=Ca+xa,xv=vc(La,Sa),Sv=qa+Ta+gc(Mv),Tv=Aa+xa,Bv=vc(Ya,Sa),yv=Va+Ta+gc(Tv),wv=S*Mv,zv=hc(S,xv),Ov=ct*Sv+gc(wv),Pv=w*Tv,Dv=hc(w,Bv),Fv=ht*yv+gc(Pv),Cv=nt*Ra,Lv=ac(x,ka),qv=P*$a+st*Ga+2*gc(Cv),Av=ot*Wa,Yv=ac(y,ja),Vv=C*Ha+at*Xa+2*gc(Av),Rv=rt*$,kv=ac(_,f),$v=z*Z+lt*E+2*gc(Rv),Gv=ut*G,Wv=ac(T,l),jv=D*tt+gt*I+2*gc(Gv),Hv=wv+Cv,Xv=vc(zv,Lv),Qv=gc(Hv),Uv=Ov+qv+Qv,Kv=Pv+Av,Jv=vc(Dv,Yv),Zv=gc(Kv),tg=Fv+Vv+Zv,ng=rv+hv,eg=vc(ov,av),rg=gc(ng),og=iv+vv+rg,ig=sv+gv,ug=vc(fv,dv),cg=gc(ig),sg=lv+pv+cg,fg=xa+Na,lg=vc(Sa,_a),hg=gc(fg),ag=Ta+Ma+hg,vg=2*(bv+Iv),gg=lc(vc(mv,Nv)),dg=2*(Ev+_v)+gc(vg),pg=q*Hv,bg=ac(r,Xv),mg=v*Qv+H*Uv+2*gc(pg),Eg=A*Kv,Ig=ac(o,Jv),Ng=g*Zv+X*tg+2*gc(Eg),_g=L*ng,Mg=ac(e,eg),xg=a*rg+j*og+2*gc(_g),Sg=Y*ig,Tg=ac(i,ug),Bg=d*cg+Q*sg+2*gc(Sg),yg=R*fg,wg=ac(c,lg),zg=b*hg+K*ag+2*gc(yg),Og=pg+Eg,Pg=vc(bg,Ig),Dg=mg+Ng+gc(Og),Fg=_g+Sg,Cg=vc(Mg,Tg),Lg=xg+Bg+gc(Fg),qg=yg+vg,Ag=vc(wg,gg),Yg=zg+dg+gc(qg),Vg=Rv+Gv,Rg=vc(kv,Wv),kg=$v+jv+gc(Vg),$g=Og+Fg,Gg=vc(Pg,Cg),Wg=Dg+Lg+gc($g),jg=qg+Vg,Hg=vc(Ag,Rg),Xg=Yg+kg+gc(jg),Qg=$g+jg,Ug=vc(Gg,Hg),Kg=Wg+Xg+gc(Qg),Jg=Bt+Dt,Zg=vc(Nn,Fn),td=_n+Cn+gc(Jg),nd=Bt+Nt,ed=vc(Nn,sn),rd=_n+fn+gc(nd),od=2*Jg+Nt,id=vc(lc(Zg),sn),ud=2*td+fn+gc(od),cd=2*nd+Dt,sd=vc(lc(ed),Fn),fd=2*rd+Cn+gc(cd),ld=S*od,hd=hc(S,id),ad=ct*ud+gc(ld),vd=w*Mt,gd=hc(w,an),dd=ht*gn+gc(vd),pd=w*cd,bd=hc(w,sd),md=ht*fd+gc(pd),Ed=S*Wt,Id=hc(S,oe),Nd=ct*ue+gc(Ed),_d=S*Mt,Md=hc(S,an),xd=ct*gn+gc(_d),Sd=et*dt,Td=ac(M,Kt),Bd=O*Ee+2*gc(Sd),yd=w*Wt,wd=hc(w,oe),zd=ht*ue+gc(yd),Od=it*Rt,Pd=ac(B,Kn),Dd=F*Se+2*gc(Od),Fd=ld+vd,Cd=vc(hd,gd),Ld=ad+dd+gc(Fd),qd=ad+dd+Ld,Ad=pd+Ed,Yd=vc(bd,Id),Vd=md+Nd+gc(Ad),Rd=md+Nd+Vd,kd=_d+Sd,$d=vc(Md,Td),Gd=gc(kd),Wd=xd+Bd+Gd,jd=yd+Od,Hd=vc(wd,Pd),Xd=gc(jd),Qd=zd+Dd+Xd,Ud=L*kd,Kd=ac(e,$d),Jd=a*Gd+j*Wd+2*gc(Ud),Zd=Y*jd,tp=ac(i,Hd),np=d*Xd+Q*Qd+2*gc(Zd),ep=3*(Ud+Zd),rp=hc(3,vc(Kd,tp)),op=3*(Jd+np)+2*gc(ep),ip=Jg+Nt,up=vc(Zg,sn),cp=gc(ip),sp=td+fn+cp,fp=2*bt+Mt,lp=vc(lc(tn),an),hp=gc(fp),ap=2*nn+gn+hp,vp=2*$t+Wt,gp=vc(lc(te),oe),dp=gc(vp),pp=2*ne+ue+dp,bp=q*Fd,mp=ac(r,Cd),Ep=v*Ld+H*qd+2*gc(bp),Ip=A*Ad,Np=ac(o,Yd),_p=g*Vd+X*Rd+2*gc(Ip),Mp=R*ip,xp=ac(c,up),Sp=b*cp+K*sp+2*gc(Mp),Tp=V*fp,Bp=ac(u,lp),yp=p*hp+U*ap+2*gc(Tp),wp=k*vp,zp=ac(s,gp),Op=m*dp+J*pp+2*gc(wp),Pp=et*$,Dp=ac(M,f),Fp=O*Z+ft*E+gc(Pp),Cp=it*G,Lp=ac(B,l),qp=F*tt+vt*I+gc(Cp),Ap=Pp+Cp,Yp=vc(Dp,Lp),Vp=Fp+qp+gc(Ap),Rp=bp+Ip,kp=vc(mp,Np),$p=Ep+_p+gc(Rp),Gp=ep+Mp,Wp=vc(rp,xp),jp=op+Sp+gc(Gp),Hp=Tp+wp,Xp=vc(Bp,zp),Qp=yp+Op+gc(Hp),Up=Rp+Gp,Kp=vc(kp,Wp),Jp=$p+jp+gc(Up),Zp=Hp+Ap,tb=vc(Xp,Yp),nb=Qp+Vp+gc(Zp),eb=Up+Zp,rb=vc(Kp,tb),ob=Jp+nb+gc(eb),ib=Tt+It,ub=vc(En,un),cb=gc(ib),sb=In+cn+cb,fb=S*q,lb=hc(S,r),hb=gc(fb),ab=ct*v+hb,vb=w*A,gb=hc(w,o),db=gc(vb),pb=ht*g+db,bb=ib+Tt,mb=vc(ub,En),Eb=gc(bb),Ib=sb+In+Eb,Nb=ib+It,_b=vc(ub,un),Mb=gc(Nb),xb=sb+cn+Mb,Sb=nt*dt,Tb=ac(x,Kt),Bb=gc(Sb),yb=P*Ee+2*Bb,wb=Sb*L,zb=ac(Tb,e),Ob=yb*j+Bb*a+2*gc(wb),Pb=ot*Rt,Db=ac(y,Kn),Fb=gc(Pb),Cb=C*Se+2*Fb,Lb=Pb*Y,qb=ac(Db,i),Ab=Cb*Q+Fb*d+2*gc(Lb),Yb=R*ib,Vb=ac(c,ub),Rb=b*cb+K*sb+2*gc(Yb),kb=pt*V,$b=ac(Jt,u),Gb=Zt*U+Ie*p+2*gc(kb),Wb=kt*k,jb=ac(Jn,s),Hb=Zn*J+Te*m+2*gc(Wb),Xb=kb+Wb,Qb=vc($b,jb),Ub=Gb+Hb+gc(Xb),Kb=nt*$,Jb=ac(x,f),Zb=P*Z+st*E+gc(Kb),tm=ot*G,nm=ac(y,l),em=C*tt+at*I+gc(tm),rm=Kb+tm,om=vc(Jb,nm),im=Zb+em+gc(rm),um=fb*bb,cm=ac(lb,mb),sm=ab*Eb+hb*Ib+2*gc(um),fm=vb*Nb,lm=ac(gb,_b),hm=pb*Mb+db*xb+2*gc(fm),am=um+fm,vm=vc(cm,lm),gm=sm+hm+gc(am),dm=3*(wb+Lb),pm=hc(3,vc(zb,qb)),bm=3*(Ob+Ab)+2*gc(dm),mm=Yb+2*Xb,Em=vc(Vb,lc(Qb)),Im=Rb+2*Ub+gc(mm),Nm=am+dm,_m=vc(vm,pm),Mm=gm+bm+gc(Nm),xm=mm+rm,Sm=vc(Em,om),Tm=Im+im+gc(xm),Bm=Nm+xm,ym=vc(_m,Sm),wm=Mm+Tm+gc(Bm),zm=S*L,Om=hc(S,e),Pm=ct*a+gc(zm),Dm=w*q,Fm=hc(w,r),Cm=ht*v+gc(Dm),Lm=zm+Dm,qm=vc(Om,Fm),Am=Pm+Cm+gc(Lm),Ym=S*A,Vm=hc(S,o),Rm=ct*g+gc(Ym),km=w*Y,$m=hc(w,i),Gm=ht*d+gc(km),Wm=Ym+km,jm=vc(Vm,$m),Hm=Rm+Gm+gc(Wm),Xm=Lm+V,Qm=vc(qm,u),Um=Am+p+gc(Xm),Km=Wm+k,Jm=vc(jm,s),Zm=Hm+m+gc(Km),tE=dt*Xm,nE=ac(Kt,Qm),eE=Ee*Um+2*gc(tE),rE=Rt*Km,oE=ac(Kn,Jm),iE=Se*Zm+2*gc(rE),uE=tE+rE,cE=vc(nE,oE),sE=eE+iE+gc(uE),fE=Et*R,lE=ac(on,c),hE=xe*b+gc(fE),aE=uE+fE,vE=vc(cE,lE),gE=sE+hE+gc(aE),dE=S*$,pE=hc(S,f),bE=ct*E+gc(dE),mE=w*G,EE=hc(w,l),IE=ht*I+gc(mE),NE=dE+mE,_E=vc(pE,EE),ME=bE+IE+gc(NE),xE=aE+NE,SE=vc(vE,_E),TE=gE+ME+gc(xE),BE=xE+W,yE=vc(SE,h),wE=TE+N+gc(BE);return{coeffs:[lr,no,wi,ns,dl,Ea,Ug,rb,ym,yE],errBound:[dc*hr,dc*eo,dc*zi,dc*es,dc*pl,dc*Ia,dc*Kg,dc*ob,dc*wm,dc*wE]}}const bc=S,mc=P,Ec=w,Ic=o;function Nc(t){return _c(Yo(t))}function _c(t){const[[n,e],[r,o]]=t;if(0!==Ic(n)||0!==Ic(r))return{vₓ:Ec(r),vᵧ:n,v:mc(bc(e,r),bc(o,n))}}const Mc=S,xc=y,Sc=_,Tc=o;function Bc(t,n){const e=Yo(t);0===Tc(e[0][0])&&Tc(e[1][0]);const[[r,o],[i,u]]=Yo(n);0===Tc(r)&&Tc(i);const{vₓ:c,vᵧ:s,v:f}=_c(e),l=xc(r,c),h=xc(i,s),a=Sc(l,h),v=Mc(o,c),g=Mc(u,s),d=Sc(v,g);return[a,Sc(d,f)]}const yc=S,wc=rt,zc=P,Oc=y,Pc=w;function Dc(t){return Fc(Ao(t))}function Fc(t){const[[n,e,r],[i,u,c]]=t;if(0===o(n)&&0===o(i)){const t=_c([[e,r],[u,c]]);if(void 0===t)return;return{vₓₓ:[0],vₓᵧ:[0],vᵧᵧ:[0],...t}}const s=Oc(n,u),f=Oc(e,i),l=yc(c,n),h=yc(r,i),a=yc(c,e),v=yc(r,u),g=Oc(n,n),d=Oc(n,i),p=Oc(i,i),b=zc(s,f),m=zc(l,h),E=zc(a,v),I=Pc(p),N=wc(d),_=Pc(g),M=Oc(u,b),x=wc(Oc(i,m)),S=zc(M,x),T=wc(Oc(n,m)),B=Oc(e,b),y=zc(T,B),w=Oc(b,E),z=Oc(m,m);return{vₓₓ:I,vₓᵧ:N,vᵧᵧ:_,vₓ:S,vᵧ:y,v:zc(w,z)}}const Cc=st,Lc=S,qc=y,Ac=_,Yc=rt,Vc=o;function Rc(t,n){const e=Ao(t);if(0===Vc(e[0][0])&&0===Vc(e[1][0]))return Bc([t[0],t[2]],n);const[[r,o],[i,u]]=Yo(n);0===Vc(r)&&Vc(i);const{vₓₓ:c,vₓᵧ:s,vᵧᵧ:f,vₓ:l,vᵧ:h,v:a}=Fc(e),v=Cc(o,o),g=Lc(o,r),d=Cc(o,u),p=Lc(o,i),b=qc(r,r),m=Lc(u,r),E=qc(r,i),I=Cc(u,u),N=Lc(u,i),_=qc(i,i),M=qc(b,c),x=qc(_,f),S=qc(E,s),T=Ac(M,x),B=Ac(T,S),y=qc(g,c),w=qc(N,f),z=Ac(p,m),O=qc(z,s),P=Yc(Ac(y,w)),D=Ac(P,O),F=qc(r,l),C=qc(i,h),L=Ac(F,C),q=Ac(D,L),A=qc(v,c),Y=qc(d,s),V=qc(I,f),R=Ac(A,Y),k=Ac(R,V),$=Lc(o,l),G=Lc(u,h),W=Ac($,G),j=Ac(k,W);return[B,q,Ac(j,a)]}const kc=S,$c=y,Gc=_,Wc=P,jc=w,Hc=rt,Xc=it,Qc=o;function Uc(t){return Kc(qo(t))}function Kc(t){const[[n,e,r,o],[i,u,c,s]]=t;if(0===Qc(n)&&0===Qc(i)){const t=Fc([[e,r,o],[u,c,s]]);if(void 0===t)return;return{vₓₓₓ:[0],vₓₓᵧ:[0],vₓᵧᵧ:[0],vᵧᵧᵧ:[0],...t}}const f=$c(n,c),l=$c(r,i),h=$c(n,u),a=$c(e,u),v=$c(e,i),g=$c(n,n),d=$c(u,u),p=$c(i,i),b=$c(r,n),m=$c(e,e),E=$c(c,i),I=$c(u,i),N=$c(e,n),_=$c(n,i),M=kc(s,n),x=kc(o,i),S=kc(s,e),T=kc(o,u),B=$c(e,c),y=$c(r,u),w=kc(s,r),z=kc(o,c),O=Wc(M,x),P=Wc(f,l),D=Wc(h,v),F=Wc(S,T),C=Wc(B,y),L=Wc(w,z),q=Wc(E,d),A=Wc(b,m),Y=Gc(v,h),V=Gc(l,f),R=Hc(P),k=$c(O,O),$=$c(O,P),G=$c(O,D),W=$c(O,C),j=$c(P,P),H=$c(R,F),X=$c(D,F),Q=$c(D,C),U=$c(D,L),K=$c(jc(i),p),J=$c(kc(3,n),p),Z=$c(kc(-3,i),g),tt=$c(n,g),nt=Wc(kc(-3,O),C),et=$c(nt,p),rt=$c(D,q),ot=Gc(et,rt),it=$c(R,I),ut=Gc(ot,it),ct=$c(nt,g),st=$c(D,A),ft=Gc(ct,st),lt=$c(R,N),ht=Gc(ft,lt),at=Wc(a,Xc(V)),vt=$c(nt,_),gt=$c(P,Y),dt=Gc(vt,gt),pt=$c(D,at),bt=Hc(Wc(pt,dt)),mt=kc(-3,k),Et=Wc(mt,Hc(W)),It=Gc(H,U),Nt=Gc(Et,It),_t=Hc(Wc($,X)),Mt=Wc(G,j),xt=Gc(Mt,Q),St=$c(i,Nt),Tt=$c(u,_t),Bt=$c(c,xt),yt=Gc(Tt,Bt),wt=Gc(St,yt),zt=$c(n,Nt),Ot=$c(e,_t),Pt=$c(r,xt),Dt=Gc(Ot,Pt),Ft=jc(Gc(zt,Dt)),Ct=Wc(H,k),Lt=Wc(Ct,W),qt=$c(xt,L),At=$c(X,F),Yt=Wc(qt,At),Vt=$c(O,Lt);return{vₓₓₓ:K,vₓₓᵧ:J,vₓᵧᵧ:Z,vᵧᵧᵧ:tt,vₓₓ:ut,vₓᵧ:bt,vᵧᵧ:ht,vₓ:wt,vᵧ:Ft,v:Gc(Vt,Yt)}}const Jc=vn,Zc=y,ts=_,ns=o,es=N,rs=En,os=xt,is=Math.abs,us=fo(3);function cs(t){const[[n,e,r],[o,i,u]]=ir(t),c=n*i-e*o,s=n*u-r*o;return{vₓₓ:-o*o,vₓᵧ:2*n*o,vᵧᵧ:-n*n,vₓ:i*c-2*o*s,vᵧ:2*n*s-e*c,v:c*(e*u-r*i)-s*s}}const ss=Math.abs;function fs(t){const[[n,e],[r,o]]=t,i=ss(n),u=ss(r),c=ss(e);return[[u+i,0],[ss(o)+c,0]]}function ls(t){const[[n,e],[r,o],[i,u]]=t,c=ss(n),s=ss(r),f=ss(i),l=ss(e),h=ss(o);return[[f+c+2*s,2*(s+c),0],[ss(u)+l+2*h,2*(h+l),0]]}function hs(t){const[[n,e],[r,o],[i,u],[c,s]]=t,f=ss(n),l=ss(r),h=ss(i),a=ss(c),v=ss(e),g=ss(o),d=ss(u);return[[a+f+3*(l+h),3*(h+f+2*l),3*(l+f),0],[ss(s)+v+3*(g+d),3*(d+v+2*g),3*(g+v),0]]}const as=Math.abs;function vs(t){const[n,e]=t[0],[[r,o],[i,u]]=ls(t),c=as(n),s=as(e),f=r*u+o*i,l=r*s+c*i;return{vₓₓ_:i*i,vₓᵧ_:2*r*i,vᵧᵧ_:r*r,vₓ_:u*f+2*i*l,vᵧ_:2*r*l+o*f,v_:f*(o*s+c*u)+l*l}}const gs=Mn,ds=En,ps=vn,bs=S,ms=y,Es=_,Is=o,Ns=N,_s=xt,Ms=Math.abs,xs=so(1),Ss=fo(3);function Ts(t){const[[n,e,r,o],[i,u,c,s]]=or(t),f=n*c,l=r*i,h=n*u,a=e*i,v=n*n,g=i*i,d=n*s-o*i,p=f-l,b=h-a,m=e*s-o*u,E=e*c-r*u,I=r*s-o*c,N=2*p,_=d*d,M=d*E,x=N*m,S=b*m,T=-3*d-E,B=-3*_-2*M+(x+b*I),y=2*(d*p-S),w=d*b-p*p+b*E;return{vₓₓₓ:-i*g,vₓₓᵧ:3*n*g,vₓᵧᵧ:-3*i*v,vᵧᵧᵧ:n*v,vₓₓ:T*g+b*(c*i-u*u)+N*u*i,vₓᵧ:2*(b*(e*u-(l+f)/2)-(T*n*i+p*(a+h))),vᵧᵧ:T*v+b*(r*n-e*e)+N*e*n,vₓ:i*B+(u*y+c*w),vᵧ:-n*B-(e*y+r*w),v:d*(x-_-M)+(w*I-S*m)}}const Bs=Math.abs;function ys(t){const[n,e]=t[0],[[r,o,i],[u,c,s]]=hs(t),f=Bs(n),l=Bs(e),h=r*s,a=i*u,v=r*c,g=o*u,d=r*r,p=u*u,b=r*l+f*u,m=h+a,E=v+g,I=o*l+f*c,N=o*s+i*c,_=i*l+f*s,M=2*m,x=b*b,S=b*N,T=M*I,B=E*I,y=3*b+N,w=3*x+2*S+(T+E*_),z=2*(b*m+B),O=b*E+m*m+E*N;return{vₓₓₓ_:u*p,vₓₓᵧ_:3*r*p,vₓᵧᵧ_:3*u*d,vᵧᵧᵧ_:r*d,vₓₓ_:y*p+E*(s*u+c*c)+M*c*u,vₓᵧ_:2*(E*(o*c+(a+h)/2)+(y*r*u+m*(g+v))),vᵧᵧ_:y*d+E*(i*r+o*o)+M*o*r,vₓ_:u*w+(c*z+s*O),vᵧ_:r*w+(o*z+i*O),v_:b*(T+x+S)+(O*_+B*I)}}const ws=En,zs=vn,Os=y,Ps=_,Ds=o,Fs=N,Cs=xt,Ls=Math.abs,qs=so(1),As=fo(3);function Ys(t,n){if(4===t.length)return function(t,n){const[e,r]=n,o=e.length,i=r.length,u=e[o-1],c=r[i-1],s=1===o&&1===i;{const{vₓₓₓ:n,vₓₓᵧ:e,vₓᵧᵧ:r,vᵧᵧᵧ:o,vₓₓ:i,vₓᵧ:f,vᵧᵧ:l,vₓ:h,vᵧ:a,v}=Ts(t),{vₓₓₓ_:g,vₓₓᵧ_:d,vₓᵧᵧ_:p,vᵧᵧᵧ_:b,vₓₓ_:m,vₓᵧ_:E,vᵧᵧ_:I,vₓ_:N,vᵧ_:_,v_:M}=ys(t),x=u*u,S=c*c,T=n*(x*u)+e*(x*c)+(r*(u*S)+o*(S*c))+(i*x+f*(u*c)+l*S)+(h*u+a*c+v),B=s?0:1,y=Ls(u),w=Ls(c),z=y*y,O=w*w;if((B+26)*qs*(g*(z*y)+d*(z*w)+(p*(y*O)+b*(O*w))+(m*z+E*(y*w)+I*O)+(N*y+_*w+M))<Ls(T))return!1}{const{coeffs:{vₓₓₓ:n,vₓₓᵧ:o,vₓᵧᵧ:i,vᵧᵧᵧ:s,vₓₓ:f,vₓᵧ:l,vᵧᵧ:h,vₓ:a,vᵧ:v,v:g},errorBound:{vₓₓₓ_:d,vₓₓᵧ_:p,vₓᵧᵧ_:b,vᵧᵧᵧ_:m,vₓₓ_:E,vₓᵧ_:I,vᵧᵧ_:N,vₓ_:_,vᵧ_:M,v_:x}}=mu(t),S=Ls(n[1]),T=Ls(o[1]),B=Ls(i[1]),y=Ls(s[1]),w=Cs(e),z=Cs(r),O=Ls(u),P=Ls(c),D=O/3,F=P/3,C=ws(w,w),L=C[1],q=2*(O*D+L),A=ws(w,C),Y=Ls(A[1]),V=O*q+D*L+2*Y,R=ws(z,z),k=R[1],$=2*(P*F+k),G=ws(z,R),W=Ls(G[1]),j=P*$+F*k+2*W,H=ws(z,C),X=Ls(H[1]),Q=P*q+F*L+2*X,U=ws(w,R),K=Ls(U[1]),J=O*$+D*k+2*K,Z=ws(w,z),tt=Ls(Z[1]),nt=O*F+D*P+2*tt,et=ws(n,A),rt=S*V+d*Y+2*Ls(et[1]),ot=ws(o,H),it=T*Q+p*X+2*Ls(ot[1]),ut=ws(i,U),ct=B*J+b*K+2*Ls(ut[1]),st=ws(s,G),ft=y*j+m*W+2*Ls(st[1]),lt=ws(f,C),ht=Ls(f[1])*q+E*L+2*Ls(lt[1]),at=ws(l,Z),vt=Ls(l[1])*nt+I*tt+2*Ls(at[1]),gt=ws(h,R),dt=Ls(h[1])*$+N*k+2*Ls(gt[1]),pt=ws(w,a),bt=Ls(a[1])*D+_*O+2*Ls(pt[1]),mt=ws(z,v),Et=Ls(v[1])*F+M*P+2*Ls(mt[1]),It=zs(et,ot),Nt=rt+it+Ls(It[1]),_t=zs(ut,st),Mt=ct+ft+Ls(_t[1]),xt=zs(It,_t),St=Nt+Mt+Ls(xt[1]),Tt=zs(lt,at),Bt=ht+vt+Ls(Tt[1]),yt=zs(Tt,gt),wt=Bt+dt+Ls(yt[1]),zt=zs(xt,yt),Ot=St+wt+Ls(zt[1]),Pt=zs(pt,mt),Dt=bt+Et+Ls(Pt[1]),Ft=zs(Pt,g),Ct=Dt+x+Ls(Ft[1]),Lt=zs(zt,Ft),qt=Ot+Ct+Ls(Lt[1]);if(As*qt<Ls(Fs(Lt)))return!1}{const n=Uc(t);if(void 0===n)return s&&u===t[0][0]&&c===t[0][1];let{vₓₓₓ:o,vₓₓᵧ:i,vₓᵧᵧ:f,vᵧᵧᵧ:l,vₓₓ:h,vₓᵧ:a,vᵧᵧ:v,vₓ:g,vᵧ:d,v:p}=n;const b=Os(e,e),m=Os(e,b),E=Os(r,r),I=Os(r,E),N=Os(r,b),_=Os(e,E),M=Os(e,r),x=Os(o,m),S=Os(i,N),T=Os(f,_),B=Os(l,I),y=Os(h,b),w=Os(a,M),z=Os(v,E),O=Os(e,g),P=Os(r,d),D=Ps(x,S),F=Ps(T,B),C=Ps(D,F),L=Ps(y,w),q=Ps(L,z),A=Ps(C,q),Y=Ps(O,P),V=Ps(Y,p),R=Ps(A,V);return 0===Ds(R)}}(t,n);if(3===t.length)return function(t,n){const[e,r]=n,o=e.length,i=r.length,u=e[o-1],c=r[i-1],s=1===o&&1===i;{const{vₓₓ:n,vₓᵧ:e,vᵧᵧ:r,vₓ:o,vᵧ:i,v:f}=cs(t),{vₓₓ_:l,vₓᵧ_:h,vᵧᵧ_:a,vₓ_:v,vᵧ_:g,v_:d}=vs(t),p=s?0:1,b=Ms(u),m=Ms(c);if((p+12)*xs*(l*(b*b)+h*(b*m)+a*(m*m)+(v*b+g*m)+d)<Ms(n*u*u+e*u*c+r*c*c+(o*u+i*c)+f))return!1}{const{coeffs:{vₓₓ:n,vₓᵧ:o,vᵧᵧ:i,vₓ:s,vᵧ:f,v:l},errorBound:{vₓₓ_:h,vₓᵧ_:a,vᵧᵧ_:v,vₓ_:g,vᵧ_:d,v_:p}}=nu(t),b=_s(e),m=_s(r),E=Ms(u),I=Ms(c),N=E/3,_=I/3,M=ds(b,b),x=M[1],S=2*(E*N+x),T=ds(m,m),B=T[1],y=2*(I*_+B),w=ds(b,m),z=Ms(w[1]),O=E*_+N*I+2*z,P=ds(n,M),D=Ms(n[1])*S+h*x+2*Ms(P[1]),F=ds(o,w),C=Ms(o[1])*O+a*z+2*Ms(F[1]),L=ds(i,T),q=Ms(i[1])*y+v*B+2*Ms(L[1]),A=ds(b,s),Y=Ms(s[1])*N+g*E+2*Ms(A[1]),V=ds(m,f),R=Ms(f[1])*_+d*I+2*Ms(V[1]),k=ps(P,F),$=D+C+Ms(k[1]),G=ps(k,L),W=$+q+Ms(G[1]),j=ps(A,V),H=Y+R+Ms(j[1]),X=ps(G,j),Q=W+H+Ms(X[1]),U=ps(X,l),K=Q+p+Ms(U[1]);if(Ss*K<Ms(Ns(U)))return!1}{const n=Dc(t);if(void 0===n)return s&&u===t[0][0]&&c===t[0][1];const{vₓₓ:e,vₓᵧ:r,vᵧᵧ:o,vₓ:i,vᵧ:f,v:l}=n,h=Es(Es(Es(ms(e,gs(u,u)),ms(r,gs(u,c))),ms(o,gs(c,c))),Es(Es(bs(u,i),bs(c,f)),l));return 0===Is(h)}}(t,n);if(2===t.length)return function(t,n){const[e,r]=n,o=e.length,i=r.length,u=e[o-1],c=r[i-1],s=1===o&&1===i;{const{coeffs:{vₓ:n,vᵧ:o,v:i},errorBound:{v_:s}}=ki(t),f=os(e),l=os(r),h=is(u),a=is(c),v=is(n[1]),g=is(o[1]),d=h/3,p=a/3,b=n[1]*u,m=rs(f,n),E=v*d+2*is(b),I=o[1]*c,N=rs(l,o),_=g*p+2*is(I),M=Jc(m,N),x=E+_+is(M[1]),S=Jc(M,i),T=x+s+is(S[1]);if(us*T<is(es(S)))return!1}{const n=Nc(t);if(void 0===n)return s&&u===t[0][0]&&c===t[0][1];const{vₓ:o,vᵧ:i,v:f}=n,l=Zc(e,o),h=Zc(r,i),a=ts(Zc(l,h),f);return 0===ns(a)}}(t,n);if(1===t.length){const e=p(n[0]),r=p(n[1]);return 1===e.length&&1===r.length&&e[0]===t[0][0]&&r[0]===t[0][1]}throw new Error("The given bezier curve is invalid.")}const Vs=st,Rs=S,ks=y,$s=_,Gs=rt,Ws=o;function js(t,n){const e=qo(t);if(0===Ws(e[0][0])&&0===Ws(e[1][0]))return Rc(wi(t),n);const[[r,o],[i,u]]=Yo(n);if(0===Ws(r)&&0===Ws(i)){const e=n[0];return Ys(t,[[e[0]],[e[1]]])?[[0]]:[[1]]}const{vₓₓₓ:c,vₓₓᵧ:s,vₓᵧᵧ:f,vᵧᵧᵧ:l,vₓₓ:h,vₓᵧ:a,vᵧᵧ:v,vₓ:g,vᵧ:d,v:p}=Kc(e),b=Vs(o,o),m=Rs(o,r),E=Vs(o,u),I=Rs(o,i),N=ks(r,r),_=Rs(u,r),M=ks(r,i),x=Vs(u,u),S=Rs(u,i),T=ks(i,i),B=Rs(o,c),y=ks(Vs(3,o),c),w=Rs(o,s),z=Rs(u,s),O=Rs(o,f),P=Rs(u,f),D=Rs(u,l),F=ks(Vs(3,u),l),C=ks(r,c),L=ks(r,f),q=ks(i,s),A=ks(i,l),Y=$s(C,q),V=$s(L,A),R=ks(N,Y),k=ks(T,V),$=$s(R,k),G=$s(y,z),W=Gs($s(w,P)),j=$s(O,F),H=$s(G,h),X=$s(W,a),Q=$s(j,v),U=ks(N,H),K=ks(M,X),J=ks(T,Q),Z=$s(U,K),tt=$s(Z,J),nt=Gs($s(z,h)),et=Gs($s(O,v)),rt=$s(y,nt),ot=$s(F,et),it=$s(w,a),ut=$s(P,a),ct=ks(m,rt),st=ks(S,ot),ft=ks(I,it),lt=ks(_,ut),ht=ks(r,g),at=ks(i,d),vt=$s(ct,st),gt=$s(ft,lt),dt=$s(vt,gt),pt=$s(ht,at),bt=$s(dt,pt),mt=$s(B,z),Et=$s(D,O),It=$s(mt,h),Nt=$s(Et,v),_t=ks(b,It),Mt=ks(x,Nt),xt=ks(E,a),St=$s(_t,Mt),Tt=$s(St,xt),Bt=Rs(o,g),yt=Rs(u,d),wt=$s(Bt,yt),zt=$s(Tt,wt);return[$,tt,bt,$s(zt,p)]}const Hs=S,Xs=y,Qs=_,Us=o;function Ks(t,n){const e=Yo(t);0===Us(e[0][0])&&Us(e[1][0]);const[[r,o,i],[u,c,s]]=Ao(n);if(0===Us(r)&&0===Us(u))return Bc(t,[n[0],n[2]]);const{vₓ:f,vᵧ:l,v:h}=_c(e),a=Xs(r,f),v=Xs(u,l),g=Qs(a,v),d=Xs(o,f),p=Xs(c,l),b=Qs(d,p),m=Hs(i,f),E=Hs(s,l),I=Qs(m,E);return[g,b,Qs(I,h)]}const Js=st,Zs=S,tf=y,nf=_,ef=rt,rf=o;function of(t,n){const e=Ao(t);if(0===rf(e[0][0])&&0===rf(e[1][0]))return Ks([t[0],t[2]],n);const[[r,o,i],[u,c,s]]=Ao(n);if(0===rf(r)&&0===rf(u))return Rc(t,[n[0],n[2]]);const{vₓₓ:f,vₓᵧ:l,vᵧᵧ:h,vₓ:a,vᵧ:v,v:g}=Fc(e),d=Js(i,i),p=Zs(i,o),b=Zs(i,r),m=Js(i,s),E=Zs(i,c),I=Zs(i,u),N=tf(o,o),_=tf(o,r),M=Zs(s,o),x=tf(o,c),S=tf(o,u),T=tf(r,c),B=tf(r,r),y=Zs(s,r),w=tf(r,u),z=Js(s,s),O=Zs(s,c),P=Zs(s,u),D=tf(c,c),F=tf(c,u),C=tf(u,u),L=tf(B,f),q=tf(w,l),A=tf(C,h),Y=nf(L,q),V=nf(Y,A),R=tf(_,f),k=tf(F,h),$=nf(S,T),G=tf($,l),W=ef(nf(R,k)),j=nf(W,G),H=nf(ef(b),N),X=nf(ef(P),D),Q=nf(I,x),U=nf(Q,y),K=tf(H,f),J=tf(X,h),Z=tf(U,l),tt=tf(r,a),nt=tf(u,v),et=nf(K,J),rt=nf(et,Z),ot=nf(tt,nt),it=nf(rt,ot),ut=tf(p,f),ct=tf(O,h),st=nf(E,M),ft=tf(st,l),lt=ef(nf(ut,ct)),ht=tf(o,a),at=tf(c,v),vt=nf(lt,ft),gt=nf(ht,at),dt=nf(vt,gt),pt=tf(d,f),bt=tf(m,l),mt=tf(z,h),Et=Zs(i,a),It=Zs(s,v),Nt=nf(pt,bt),_t=nf(Nt,mt),Mt=nf(Et,It),xt=nf(_t,Mt);return[V,j,it,dt,nf(xt,g)]}const uf=st,cf=S,sf=y,ff=_,lf=rt,hf=o;function af(t,n){const e=qo(t);if(0===hf(e[0][0])&&0===hf(e[1][0]))return of(wi(t),n);const[[r,o,i],[u,c,s]]=Ao(n);if(0===hf(r)&&0===hf(u))return js(t,[n[0],n[2]]);const{vₓₓₓ:f,vₓₓᵧ:l,vₓᵧᵧ:h,vᵧᵧᵧ:a,vₓₓ:v,vₓᵧ:g,vᵧᵧ:d,vₓ:p,vᵧ:b,v:m}=Kc(e),E=uf(i,i),I=cf(i,o),N=cf(i,r),_=uf(i,s),M=cf(i,c),x=cf(i,u),S=sf(o,o),T=sf(o,r),B=cf(s,o),y=sf(o,c),w=sf(o,u),z=sf(r,c),O=sf(r,r),P=cf(s,r),D=sf(r,u),F=uf(s,s),C=cf(s,c),L=cf(s,u),q=sf(c,c),A=sf(c,u),Y=sf(u,u),V=sf(r,f),R=sf(r,h),k=sf(u,l),$=sf(u,a),G=ff(V,k),W=ff(R,$),j=sf(O,G),H=sf(Y,W),X=ff(j,H),Q=ff(N,S),U=ff(L,q),K=ff(lf(N),S),J=ff(lf(L),q),Z=ff(lf(y),P),tt=ff(lf(y),x),nt=ff(lf(P),y),et=ff(cf(6,N),S),rt=ff(cf(6,L),q),ot=ff(w,z),it=ff(x,P),ut=ff(lf(B),M),ct=ff(lf(M),B),st=ff(x,y),ft=ff(st,P),lt=cf(3,O),ht=cf(3,Y),at=sf(lt,f),vt=sf(O,l),gt=lf(sf(D,l)),dt=lf(sf(D,h)),pt=sf(Y,h),bt=sf(ht,a),mt=ff(at,gt),Et=ff(vt,dt),It=ff(mt,pt),Nt=ff(Et,bt),_t=sf(o,It),Mt=sf(c,Nt),xt=ff(_t,Mt),St=sf(u,K),Tt=sf(u,tt),Bt=sf(r,Z),yt=sf(r,J),wt=sf(cf(3,r),Q),zt=sf(cf(3,u),U),Ot=ff(St,Bt),Pt=ff(Tt,yt),Dt=sf(wt,f),Ft=sf(zt,a),Ct=sf(Ot,l),Lt=sf(Pt,h),qt=ff(Dt,Ft),At=ff(Ct,Lt),Yt=sf(O,v),Vt=sf(Y,d),Rt=sf(D,g),kt=ff(Yt,Vt),$t=ff(qt,At),Gt=ff(kt,Rt),Wt=ff($t,Gt),jt=sf(o,et),Ht=sf(c,rt),Xt=cf(2*i,ot),Qt=sf(lf(c),it),Ut=sf(o,nt),Kt=sf(o,J),Jt=ff(Xt,Ut),Zt=ff(Qt,Kt),tn=sf(A,d),nn=sf(T,v),en=sf(ot,g),rn=ff(tn,nn),on=sf(jt,f),un=sf(Jt,l),cn=sf(Ht,a),sn=sf(Zt,h),fn=ff(on,cn),ln=ff(un,sn),hn=ff(fn,ln),an=ff(lf(rn),en),vn=ff(hn,an),gn=cf(3*i,Q),dn=cf(3*s,U),pn=cf(i,tt),bn=cf(i,J),mn=cf(s,K),En=cf(s,Z),In=ff(pn,mn),Nn=ff(bn,En),_n=sf(gn,f),Mn=sf(dn,a),xn=sf(In,l),Sn=sf(Nn,h),Tn=sf(K,v),Bn=sf(J,d),yn=sf(ft,g),wn=sf(r,p),zn=sf(u,b),On=ff(_n,Mn),Pn=ff(xn,Sn),Dn=ff(Tn,Bn),Fn=ff(On,Pn),Cn=ff(Dn,yn),Ln=ff(wn,zn),qn=ff(Fn,Cn),An=ff(qn,Ln),Yn=cf(3*i,I),Vn=cf(3*s,C),Rn=cf(i,ut),kn=cf(s,ct),$n=sf(I,v),Gn=sf(C,d),Wn=sf(M,g),jn=sf(B,g),Hn=lf(ff($n,Gn)),Xn=ff(Wn,jn),Qn=sf(o,p),Un=sf(c,b),Kn=sf(Yn,f),Jn=sf(Vn,a),Zn=sf(Rn,l),te=sf(kn,h),ne=ff(Kn,Jn),ee=ff(Zn,te),re=ff(ne,ee),oe=ff(Hn,Xn),ie=ff(Qn,Un),ue=ff(re,oe),ce=ff(ue,ie),se=cf(i,f),fe=cf(i,h),le=cf(s,l),he=cf(s,a),ae=ff(se,le),ve=ff(fe,he),ge=ff(ae,v),de=ff(ve,d),pe=sf(E,ge),be=sf(F,de),me=sf(_,g),Ee=cf(i,p),Ie=cf(s,b),Ne=ff(pe,be),_e=ff(Ne,me),Me=ff(Ee,Ie),xe=ff(_e,Me);return[X,xt,Wt,vn,An,ce,ff(xe,m)]}const vf=S,gf=y,df=_,pf=o;function bf(t,n){const e=Yo(t);0===pf(e[0][0])&&pf(e[1][0]);const[[r,o,i,u],[c,s,f,l]]=qo(n);if(0===pf(r)&&0===pf(c))return Ks(t,wi(n));const{vₓ:h,vᵧ:a,v}=_c(e),g=gf(r,h),d=gf(c,a),p=df(g,d),b=gf(o,h),m=gf(s,a),E=df(b,m),I=gf(i,h),N=gf(f,a),_=df(I,N),M=vf(u,h),x=vf(l,a),S=df(M,x);return[p,E,_,df(S,v)]}const mf=st,Ef=S,If=y,Nf=_,_f=rt,Mf=o;function xf(t,n){const e=Ao(t);if(0===Mf(e[0][0])&&0===Mf(e[1][0]))return bf([t[0],t[2]],n);const[[r,o,i,u],[c,s,f,l]]=qo(n);if(0===Mf(r)&&0===Mf(c))return of(t,wi(n));const{vₓₓ:h,vₓᵧ:a,vᵧᵧ:v,vₓ:g,vᵧ:d,v:p}=Fc(e),b=mf(u,u),m=Ef(u,i),E=Ef(u,o),I=Ef(u,r),N=mf(u,l),_=Ef(u,f),M=Ef(u,s),x=Ef(u,c),S=If(i,i),T=If(i,o),B=If(i,r),y=Ef(l,i),w=If(i,f),z=If(i,s),O=If(i,c),P=If(o,f),D=If(o,o),F=If(o,r),C=Ef(l,o),L=If(o,s),q=If(o,c),A=If(r,r),Y=Ef(l,r),V=If(r,f),R=If(r,s),k=If(r,c),$=mf(l,l),G=Ef(l,f),W=Ef(l,s),j=Ef(l,c),H=If(f,f),X=If(f,s),Q=If(c,c),U=If(s,s),K=If(s,c),J=If(f,c),Z=If(A,h),tt=If(k,a),nt=If(Q,v),et=Nf(Z,tt),rt=Nf(et,nt),ot=If(F,h),it=If(K,v),ut=Nf(ot,it),ct=Nf(q,R),st=If(ct,a),ft=Nf(_f(ut),st),lt=Nf(_f(B),D),ht=Nf(_f(J),U),at=Nf(O,L),vt=Nf(at,V),gt=If(lt,h),dt=If(ht,v),pt=Nf(gt,dt),bt=If(vt,a),mt=Nf(pt,bt),Et=Nf(I,T),It=Nf(j,X),Nt=Nf(x,z),_t=Nf(P,Y),Mt=Nf(Nt,_t),xt=If(Et,h),St=If(It,v),Tt=_f(Nf(xt,St)),Bt=If(Mt,a),yt=If(r,g),wt=If(c,d),zt=Nf(yt,wt),Ot=Nf(Tt,Bt),Pt=Nf(Ot,zt),Dt=Nf(_f(E),S),Ft=Nf(_f(W),H),Ct=Nf(M,w),Lt=Nf(Ct,C),qt=If(Dt,h),At=If(Ft,v),Yt=If(Lt,a),Vt=Nf(qt,At),Rt=Nf(Vt,Yt),kt=If(o,g),$t=If(s,d),Gt=Nf(kt,$t),Wt=Nf(Rt,Gt),jt=If(m,h),Ht=If(G,v),Xt=Nf(_,y),Qt=If(Xt,a),Ut=_f(Nf(jt,Ht)),Kt=Nf(Ut,Qt),Jt=If(i,g),Zt=If(f,d),tn=Nf(Jt,Zt),nn=Nf(Kt,tn),en=If(b,h),rn=If(N,a),on=If($,v),un=Ef(u,g),cn=Ef(l,d),sn=Nf(en,rn),fn=Nf(sn,on),ln=Nf(un,cn),hn=Nf(fn,ln);return[rt,ft,mt,Pt,Wt,nn,Nf(hn,p)]}const Sf=st,Tf=S,Bf=y,yf=_,wf=rt,zf=o;function Of(t,n){const e=qo(t);if(0===zf(e[0][0])&&0===zf(e[1][0]))return xf(wi(t),n);const[[r,o,i,u],[c,s,f,l]]=qo(n);if(0===zf(r)&&0===zf(c))return af(t,wi(n));const{vₓₓₓ:h,vₓₓᵧ:a,vₓᵧᵧ:v,vᵧᵧᵧ:g,vₓₓ:d,vₓᵧ:p,vᵧᵧ:b,vₓ:m,vᵧ:E,v:I}=Kc(e),N=Sf(u,u),_=Tf(u,i),M=Tf(u,o),x=Tf(u,r),S=Sf(u,l),T=Tf(u,f),B=Tf(u,s),y=Tf(u,c),w=Bf(i,i),z=Bf(i,o),O=Bf(i,r),P=Tf(l,i),D=Bf(i,f),F=Bf(i,s),C=Bf(i,c),L=Bf(o,f),q=Bf(o,o),A=Bf(o,r),Y=Tf(l,o),V=Bf(o,s),R=Bf(o,c),k=Bf(r,r),$=Tf(l,r),G=Bf(r,f),W=Bf(r,s),j=Bf(r,c),H=Sf(l,l),X=Tf(l,f),Q=Tf(l,s),U=Tf(l,c),K=Bf(f,f),J=Bf(f,s),Z=Bf(c,c),tt=Bf(s,s),nt=Bf(s,c),et=Bf(f,c),rt=Bf(r,k),ot=Bf(r,Z),it=Bf(c,k),ut=Bf(c,Z),ct=Bf(rt,h),st=Bf(ot,v),ft=Bf(it,a),lt=Bf(ut,g),ht=yf(ct,st),at=yf(ft,lt),vt=yf(ht,at),gt=yf(wf(R),W),dt=yf(wf(W),R),pt=Bf(r,gt),bt=Bf(c,dt),mt=Bf(o,k),Et=Bf(s,Z),It=Bf(h,mt),Nt=Bf(g,Et),_t=Bf(a,pt),Mt=Bf(v,bt),xt=yf(_t,Mt),St=Tf(3,yf(It,Nt)),Tt=yf(xt,St),Bt=Bf(i,j),yt=Bf(f,k),wt=Bf(o,nt),zt=Bf(i,Z),Ot=Bf(o,W),Pt=Bf(c,q),Dt=Bf(r,et),Ft=Bf(s,W),Ct=yf(Bt,Ot),Lt=yf(yt,Pt),qt=yf(wt,Dt),At=yf(zt,Ft),Yt=yf(O,q),Vt=yf(et,tt),Rt=yf(wf(Ct),Lt),kt=yf(wf(qt),At),$t=Bf(a,Rt),Gt=Bf(v,kt),Wt=Bf(r,Yt),jt=Bf(c,Vt),Ht=Bf(h,Wt),Xt=Bf(g,jt),Qt=yf($t,Gt),Ut=Tf(3,yf(Ht,Xt)),Kt=yf(Qt,Ut),Jt=yf(R,W),Zt=Bf(s,q),tn=wf(Bf(i,Jt)),nn=yf(Zt,tn),en=wf(yf(y,L)),rn=yf(en,$),on=Bf(r,rn),un=yf(nn,on),cn=Bf(o,tt),sn=wf(Bf(f,Jt)),fn=yf(cn,sn),ln=wf(yf(F,$)),hn=yf(ln,y),an=Bf(c,hn),vn=yf(fn,an),gn=Bf(o,q),dn=yf(wf(z),x),pn=Bf(Tf(3,r),dn),bn=yf(gn,pn),mn=Bf(s,tt),En=yf(wf(J),U),In=Bf(Tf(3,c),En),Nn=yf(mn,In),_n=Bf(a,un),Mn=Bf(v,vn),xn=yf(_n,Mn),Sn=Bf(h,bn),Tn=Bf(g,Nn),Bn=yf(Sn,Tn),yn=Bf(k,d),wn=Bf(Z,b),zn=yf(yn,wn),On=Bf(j,p),Pn=yf(xn,Bn),Dn=yf(zn,On),Fn=yf(Pn,Dn),Cn=yf(V,G),Ln=yf(C,V),qn=Tf(u,Jt),An=Tf(l,Jt),Yn=Bf(i,Cn),Vn=Bf(f,Ln),Rn=yf(wf($),L),kn=yf(wf(y),F),$n=Bf(c,w),Gn=Bf(r,K),Wn=Bf(o,Rn),jn=Bf(s,kn),Hn=wf(yf(qn,Yn)),Xn=wf(yf(An,Vn)),Qn=wf(Tf(u,A)),Un=wf(Tf(l,nt)),Kn=Bf(i,Yt),Jn=Bf(f,Vt),Zn=Bf(A,d),te=Bf(nt,b),ne=yf(Hn,$n),ee=yf(Xn,Gn),re=yf(ne,Wn),oe=yf(ee,jn),ie=yf(Qn,Kn),ue=yf(Un,Jn),ce=wf(yf(Zn,te)),se=Bf(a,re),fe=Bf(v,oe),le=Bf(h,ie),he=Bf(g,ue),ae=yf(se,fe),ve=Tf(3,yf(le,he)),ge=Bf(p,Jt),de=yf(ae,ve),pe=yf(ge,ce),be=yf(de,pe),me=yf(C,Cn),Ee=yf(wf(O),q),Ie=yf(wf(et),tt),Ne=Tf(2*u,me),_e=Tf(2*l,me),Me=yf(F,wf(L)),xe=yf(L,wf(F)),Se=Tf(l,Ee),Te=Tf(u,Ie),Be=Bf(i,Me),ye=Bf(f,xe),we=Tf(u,Ee),ze=Tf(l,Ie),Oe=Bf(o,w),Pe=Bf(s,K),De=yf(Ne,Se),Fe=yf(_e,Te),Ce=yf(De,Be),Le=yf(Fe,ye),qe=yf(we,Oe),Ae=yf(ze,Pe),Ye=Bf(a,Ce),Ve=Bf(v,Le),Re=Bf(h,qe),ke=Bf(g,Ae),$e=yf(Re,ke),Ge=yf(Ye,Ve),We=yf(Ge,Tf(3,$e)),je=Bf(p,me),He=Bf(d,Ee),Xe=yf(je,He),Qe=Bf(b,Ie),Ue=yf(Xe,Qe),Ke=yf(We,Ue),Je=yf(F,L),Ze=yf($,y),tr=yf(z,x),nr=yf(J,U),er=yf(wf(Je),$),rr=yf(wf(Je),y),or=yf(wf(Y),D),ir=yf(wf(B),D),ur=yf(tr,z),cr=yf(nr,J),sr=Bf(Sf(3,u),ur),fr=Bf(Sf(3,l),cr),lr=Bf(i,w),hr=Bf(f,K),ar=Bf(d,tr),vr=Bf(b,nr),gr=yf(er,Ze),dr=yf(rr,Ze),pr=Tf(u,gr),br=Tf(l,dr),mr=Bf(i,or),Er=Bf(f,ir),Ir=Bf(r,m),Nr=Bf(c,E),_r=yf(pr,mr),Mr=yf(br,Er),xr=yf(sr,lr),Sr=yf(fr,hr),Tr=yf(Ze,Je),Br=wf(yf(ar,vr)),yr=Bf(a,_r),wr=Bf(v,Mr),zr=Bf(h,xr),Or=Bf(g,Sr),Pr=Bf(p,Tr),Dr=yf(yr,wr),Fr=yf(zr,Or),Cr=yf(Pr,Br),Lr=yf(Ir,Nr),qr=yf(Dr,Fr),Ar=yf(Cr,Lr),Yr=yf(qr,Ar),Vr=yf(D,Y),Rr=yf(D,B),kr=yf(wf(Vr),B),$r=yf(wf(Rr),Y),Gr=Tf(u,kr),Wr=Tf(l,w),jr=Tf(l,$r),Hr=Tf(u,K),Xr=Tf(u,w),Qr=Bf(o,N),Ur=Tf(l,K),Kr=Bf(s,H),Jr=yf(Gr,Wr),Zr=yf(jr,Hr),to=yf(Xr,Qr),no=yf(Ur,Kr),eo=Bf(h,to),ro=Bf(g,no),oo=Tf(3,yf(eo,ro)),io=yf(Vr,B),uo=yf(wf(M),w),co=yf(wf(Q),K),so=Bf(a,Jr),fo=Bf(v,Zr),lo=Bf(p,io),ho=Bf(d,uo),ao=Bf(b,co),vo=Bf(o,m),go=Bf(s,E),po=yf(vo,go),bo=yf(so,fo),mo=yf(oo,lo),Eo=yf(ho,ao),Io=yf(bo,mo),No=yf(Eo,po),_o=yf(Io,No),Mo=yf(P,T),xo=Tf(u,a),So=Tf(l,v),To=yf(Mo,P),Bo=yf(Mo,T),yo=Bf(i,N),wo=Bf(yo,h),zo=Bf(f,H),Oo=Bf(zo,g),Po=Bf(p,Mo),Do=Bf(_,d),Fo=Bf(X,b),Co=yf(Do,Fo),Lo=Bf(i,m),Ao=Bf(f,E),Yo=yf(Lo,Ao),Vo=Bf(xo,To),Ro=Bf(So,Bo),ko=yf(Vo,Ro),$o=Tf(3,yf(wo,Oo)),Go=yf(Po,wf(Co)),Wo=yf(ko,$o),jo=yf(Go,Yo),Ho=yf(Wo,jo),Xo=Tf(u,h),Qo=Tf(l,a),Uo=yf(Xo,Qo),Ko=Tf(u,v),Jo=Tf(l,g),Zo=yf(Ko,Jo),ti=yf(Uo,d),ni=yf(Zo,b),ei=Bf(N,ti),ri=Bf(H,ni),oi=yf(ei,ri),ii=Bf(S,p),ui=yf(oi,ii),ci=Tf(u,m),si=Tf(l,E),fi=yf(ci,si),li=yf(ui,fi);return[vt,Tt,Kt,Fn,be,Ke,Yr,_o,Ho,yf(li,I)]}const Pf=[[Xi,Pu,tc],[fu,Vu,sc],[Tu,Xu,pc]],Df=[[Bc,Ks,bf],[Rc,of,xf],[js,af,Of]];function Ff(t,n){const{coeffs:e,errBound:r}=Pf[t.length-2][n.length-2](t,n);return{coeffs:e,errBound:r,getPExact:()=>Df[t.length-2][n.length-2](t,n)}}function Cf(t,n){let e=Ff(t,n);if(void 0===e)return;let{coeffs:r,errBound:o,getPExact:i}=e;return Ye(r,0,1,o,i,!0)}const Lf=ut,qf=Math.min;function Af(t,n){if(4===t.length)return Yf(t,n);if(3===t.length)return function(t,n){const e=n[0],r=n[1],{coeffs:[o,i],errorBound:[u,c]}=Li(t),s=o.pop(),f=[...o,Lf(s,e)],l=i.pop(),h=[...i,Lf(l,r)];let a;const v=Ye(f,0,1,u,(()=>{void 0===a&&(a=Ao(t));const n=a[0],r=n.pop();return[...n,Lf(r,e)]}),!0),g=Ye(h,0,1,c,(()=>{void 0===a&&(a=Ao(t));const n=a[1],e=n.pop();return[...n,Lf(e,r)]}),!0);if(void 0===v){if(void 0===g)return;return g}if(void 0===g)return v;let d=[];for(let t=0;t<v.length;t++){let n=v[t];for(let t=0;t<g.length;t++){let e=Vf(n,g[t]);void 0!==e&&d.push(e)}}return d}(t,n);if(2===t.length)return function(t,n){const e=n[0],r=n[1],[o,i]=qi(t),u=o.pop(),c=[...o,Lf(u,e)],s=i.pop(),f=[...i,Lf(s,r)],l=Ye(c,0,1,void 0,void 0,!0),h=Ye(f,0,1,void 0,void 0,!0);if(void 0===l){if(void 0===h)return;return h}if(void 0===h)return l;if(0===l.length||0===h.length)return[];const a=Vf(l[0],h[0]);return void 0!==a?[a]:void 0}(t,n);throw new Error("The given bezier curve is invalid.")}function Yf(t,n){const e=n[0],r=n[1],{coeffs:[o,i],errorBound:[u,c]}=Ci(t),s=o.pop(),f=[...o,Lf(s,e)],l=i.pop(),h=[...i,Lf(l,r)];let a;const v=Ye(f,0,1,u,(()=>{void 0===a&&(a=qo(t));const n=a[0],r=n.pop();return[...n,Lf(r,e)]}),!0),g=Ye(h,0,1,c,(()=>{void 0===a&&(a=qo(t));const n=a[1],e=n.pop();return[...n,Lf(e,r)]}),!0);if(void 0===v){if(void 0===g)return;return g}if(void 0===g)return v;let d=[];for(let t=0;t<v.length;t++){let n=v[t];for(let t=0;t<g.length;t++){let e=Vf(n,g[t]);void 0!==e&&d.push(e)}}return d}function Vf(t,n){if(t.tS<=n.tS){if(t.tE<n.tS)return;return{tS:n.tS,tE:qf(t.tE,n.tE),multiplicity:t.multiplicity+n.multiplicity}}if(!(n.tE<t.tS))return{tS:t.tS,tE:qf(t.tE,n.tE),multiplicity:t.multiplicity+n.multiplicity}}const Rf=Math.abs;function kf(t,n){if(0===n[0]&&0===n[1])return[0,0];if(0===n[0]&&1===n[1])return[0,0];const e=Rf(n[1]);if(4===t.length){const[[n,r],[o,i],[u,c],[s,f]]=t,l=Rf(n),h=Rf(r),a=Rf(o),v=Rf(i),g=Rf(u),d=Rf(c),p=l+(a+l)*e,b=a+(g+a)*e,m=p+(b+p)*e,E=h+(v+h)*e,I=v+(d+v)*e,N=E+(I+E)*e;return[m+(b+(g+(Rf(s)+g)*e+b)*e+m)*e,N+(I+(d+(Rf(f)+d)*e+I)*e+N)*e]}if(3===t.length){const[[n,r],[o,i],[u,c]]=t,s=Rf(n),f=Rf(r),l=Rf(o),h=Rf(i),a=s+(l+s)*e,v=f+(h+f)*e;return[a+(l+(Rf(u)+l)*e+a)*e,v+(h+(Rf(c)+h)*e+v)*e]}if(2===t.length){const[[n,r],[o,i]]=t,u=Rf(n),c=Rf(r);return[u+(Rf(o)+u)*e,c+(Rf(i)+c)*e]}if(1===t.length)return[0,0];throw new Error("The given bezier curve is invalid.")}const $f=Number.EPSILON,Gf=$f/2,Wf=Math.abs,jf=so(1);function Hf(t,n){return n[0]!==n[1]?4===t.length?function(t,n){let[[e,r],[o,i],[u,c],[s,f]]=t,[l,h]=n;h=(h-l)/(1-l)*(1+$f);const a=1-l,v=l*l,g=l*a,d=a*a,p=v*l,b=v*a,m=d*l,E=d*a,I=1-h,N=h*h,_=h*I,M=I*I,x=N*h,S=N*I,T=M*h,B=M*I;let y=Wf(e),w=Wf(r),z=Wf(o),O=Wf(i),P=Wf(u),D=Wf(c),F=Wf(s),C=Wf(f);const L=s*l+u*a,q=s*v+2*u*g+o*d;e=s*p+e*E+3*(u*b+o*m),o=q*h+e*I,u=L*N+e*M+2*q*_,s=s*x+e*B+3*(L*S+q*T);const A=F*l+P*a,Y=F*v+2*P*g+z*d;y=F*p+y*E+3*(P*b+z*m),z=Y*h+y*I,P=A*N+y*M+2*Y*_,F=F*x+y*B+3*(A*S+Y*T),y*=8*Gf,z*=11*Gf,P*=14*Gf,F*=16*Gf;const V=f*l+c*a,R=f*v+2*c*g+i*d;r=f*p+r*E+3*(c*b+i*m),i=R*h+r*I,c=V*N+r*M+2*R*_,f=f*x+r*B+3*(V*S+R*T);const k=C*l+D*a,$=C*v+2*D*g+O*d;w=C*p+w*E+3*(D*b+O*m),O=$*h+w*I,D=k*N+w*M+2*$*_,C=C*x+w*B+3*(k*S+$*T),w*=8*Gf,O*=11*Gf,D*=14*Gf,C*=16*Gf;const G=Math.min(e-y,o-z,u-P,s-F),W=Math.max(e+y,o+z,u+P,s+F);return[[G,Math.min(r-w,i-O,c-D,f-C)],[W,Math.max(r+w,i+O,c+D,f+C)]]}(t,n):3===t.length?function([[t,n],[e,r],[o,i]],[u,c]){const s=1-u,f=u*u,l=u*s,h=s*s,a=1-(c=(c-u)/(1-u)*(1+$f)),v=c*c,g=c*a,d=a*a;let p=Wf(t),b=Wf(n),m=Wf(e),E=Wf(r),I=Wf(o),N=Wf(i);const _=o*f+2*e*l+t*h,M=o*u+e*s;t=_,e=c*M+a*_;let x=I*f+2*m*l+p*h,S=I*u+m*s;p=x,m=c*S+a*x,I=v*(o=v*o+2*g*M+d*_)+2*g*S+d*x,p*=5*Gf,m*=8*Gf,I*=10*Gf;const T=i*f+2*r*l+n*h,B=i*u+r*s;n=T,r=c*B+a*T;const y=N*f+2*E*l+b*h,w=N*u+E*s;b=y,E=c*w+a*y,N=v*(i=v*i+2*g*B+d*T)+2*g*w+d*y,b*=5*Gf,E*=8*Gf,N*=10*Gf;const z=Math.min(t-p,e-m,o-I),O=Math.max(t+p,e+m,o+I);return[[z,Math.min(n-b,r-E,i-N)],[O,Math.max(n+b,r+E,i+N)]]}(t,n):function([[t,n],[e,r]],[o,i]){const u=1-o,c=1-(i=(i-o)/(1-o)*(1+$f));let s=Wf(t),f=Wf(n),l=Wf(e),h=Wf(r);e=e*i+(t=e*o+t*u)*c,s=l*o+s*u,l=l*i+s*c,s*=3*Gf,l*=6*Gf,r=r*i+(n=r*o+n*u)*c,f=h*o+f*u,h=h*i+f*c,f*=3*Gf,h*=6*Gf;const a=Math.min(t-s,e-l),v=Math.max(t+s,e+l);return[[a,Math.min(n-f,r-h)],[v,Math.max(n+f,r+h)]]}(t,n):function(t,n){const e=t[0],r=t[t.length-1];if(0===n)return[e,e];if(1===n)return[r,r];const o=Vr(t,n);let i;if(4===t.length)i=kf(t,[0,n]).map((t=>8*jf*t));else if(3===t.length)i=kf(t,[0,n]).map((t=>5*jf*t));else if(2===t.length)i=kf(t,[0,n]).map((t=>2*jf*t));else{if(1!==t.length)throw new Error("The given bezier curve is invalid.");i=[0,0]}return[[o[0]-i[0],o[1]-i[1]],[o[0]+i[0],o[1]+i[1]]]}(t,n[0])}const Xf=Math.min,Qf=Math.max;function Uf(t,n){let[[e,r],[o,i]]=t,[[u,c],[s,f]]=n;if(e>o&&([e,o]=[o,e]),u>s&&([u,s]=[s,u]),r>i&&([r,i]=[i,r]),c>f&&([c,f]=[f,c]),e<=s&&o>=u&&c<=i&&f>=r)return[[Qf(e,u),Qf(r,c)],[Xf(o,s),Xf(i,f)]]}const{eSign:Kf,eAbs:Jf,eToDd:Zf,eMultByNeg2:tl,eEstimate:nl,eCompare:el}=wt,{sqrtWithErr:rl,divWithErr:ol,ddSqrt:il}=Tn,ul=P,cl=y,sl=S,fl=_n,ll=xn,hl=Nn,al=vn,vl=dn,gl=In,dl=_,pl=Y,bl=2*Number.EPSILON,ml=Math.abs,El=so(1);function Il(t,n=!0){if(t.length<4)return[];const{coeffs:[e,r,o],errBound:[i,u,c]}=Ho(t);if(ml(e)<=i){const[[n,e],[r,o],[i,u],[c,s]]=t,f=dl(fl(c,n),sl(3,fl(r,i))),l=pl(ll(i,n),-2*r),h=dl(fl(s,e),sl(3,fl(o,u))),a=pl(ll(u,e),-2*o),v=cl(l,h),g=cl(f,a);if(0===el(v,g))return[]}const s=r*r,f=4*e*o,l=s-f,h=2*u*ml(r)+El*s+(4*(i*ml(o)+ml(e)*c)+El*ml(f))+El*ml(l);if(l<-h)return[];if(l>h){const{est:t,err:s}=rl(l,h);let f;f=r>=0?-r-t:-r+t;const a=u+s+El*ml(f),{est:v,err:g}=ol(f,2*e,a,2*i),{est:d,err:p}=ol(2*o,f,2*c,a);if(n){if(v+g<0||v-g>1||d+p<0||d-p>1)return[]}else if((v+g<0||v-g>1)&&(d+p<0||d-p>1))return[]}let[a,v,g]=$o(t);const d=ul(cl(v,v),sl(4,cl(a,g))),p=Kf(d);if(p<0)return[];if(p>0){const t=il(Zf(d));let e;a=Zf(a),v=Zf(v),g=Zf(g),e=Kf(v)>=0?hl(al(v,t)):al(hl(v),t);let r=nl(gl(e,vl(a))),o=nl(gl(vl(g),e));if(n){if(r<-bl||r>1+bl||o<-bl||o>1+bl)return[]}else if((r<-bl||r>1+bl)&&(o<-bl||o>1+bl))return[];return[r,o]=r<o?[r,o]:[o,r],r>=0-bl&&r<=1+bl?o>=0-bl&&o<=1+bl?[r,o]:[r]:o>=0-bl&&o<=1+bl?[o]:[]}const b=tl(a);if(Kf(v)*Kf(b)<0)return[];if(el(Jf(v),Jf(b))>0)return[];const m=Zf(v),E=Zf(b),I=gl(m,E),N=I[1]+I[0];return[N,N]}const Nl=ut,_l=V,Ml=S,xl=Bt,Sl=Y;const Tl=xn,Bl=_n,yl=fn,wl=vn,zl=an;Math.abs;const Ol=Math.abs;function Pl(t){return 4===t.length&&Mo(t)&&(t=wi(t)),3===t.length&&po(t)&&(t=[t[0],t[2]]),2===t.length&&lo(t)&&(t=[t[0]]),t}const Dl=2*Number.EPSILON,Fl=fo(3);function Cl(t,n){if(t=Pl(t),n=Pl(n),1===t.length||1===n.length)return function(t,n){if(1===t.length){const e=t[0],r=[e,e];if(1===n.length){const t=n[0];return e[0]===t[0]&&e[1]===t[1]?[[{ri:{tS:0,tE:1,multiplicity:Number.POSITIVE_INFINITY},kind:6,box:r},{ri:{tS:0,tE:1,multiplicity:Number.POSITIVE_INFINITY},kind:6,box:r}]]:[]}return Ys(n,[[e[0]],[e[1]]])?Af(n,e).map((t=>[{ri:{tS:0,tE:1,multiplicity:Number.POSITIVE_INFINITY},kind:6,box:r},{ri:t,kind:6,box:r}])):[]}const e=n[0],r=[e,e];return Ys(t,[[e[0]],[e[1]]])?Af(t,e).map((t=>[{ri:t,kind:6,box:r},{ri:{tS:0,tE:1,multiplicity:Number.POSITIVE_INFINITY},kind:6,box:r}])):[]}(t,n);const e=Cf(t,n);if(void 0===e)return function(t,n){if(So(t))return function(t,n){return Ll(t),Ll(n),[]}(t,n);const e=[];return e.push(...function(t,n){const e=t[0],r=t[t.length-1],o=n[0],i=n[n.length-1],u=Af(n,e),c=Af(n,r),s=Af(t,o),f=Af(t,i),l=[];return l.push(...u.map((t=>{const e=Hf(n,[t.tS,t.tE]);return[{ri:Re(0),kind:5,box:e},{ri:t,kind:5,box:e}]})),...c.map((t=>{const e=Hf(n,[t.tS,t.tE]);return[{ri:Re(1),kind:5,box:e},{ri:t,kind:5,box:e}]})),...s.map((n=>{const e=Hf(t,[n.tS,n.tE]);return[{ri:n,kind:5,box:e},{ri:Re(0),kind:5,box:e}]})),...f.map((n=>{const e=Hf(t,[n.tS,n.tE]);return[{ri:n,kind:5,box:e},{ri:Re(1),kind:5,box:e}]}))),l}(t,n)),e.push(...function(t,n){const e=Il(t,!1),r=Il(n,!1),o=e.length,i=r.length;if(o<1||i<1)return[];const u=[];for(let o of e)for(let e of r)u.push([{kind:1,ri:{tS:o-Dl,tE:o+Dl,multiplicity:1},box:Hf(t,[o-Dl,o+Dl])},{kind:1,ri:{tS:o-Dl,tE:o+Dl,multiplicity:1},box:Hf(n,[e-Dl,e+Dl])}]);return u}(t,n)),e}(t,n);if(0===e.length)return[];const r=Cf(n,t);if(0===r.length)return[];let o=r.map((n=>Hf(t,[n.tS,n.tE]))),i=e.map((t=>Hf(n,[t.tS,t.tE]))),u=[];for(let t=0;t<r.length;t++){let n=o[t];for(let o=0;o<e.length;o++){let c=Uf(n,i[o]);if(void 0!==c){let n={ri:r[t],box:c,kind:1},i={ri:e[o],box:c,kind:1};u.push([n,i])}}}return u}function Ll(t){let n;if(4===t.length){const e=function(t){const[[n,e],[r,o],[i,u],[c,s]]=t;return[[yl(3,wl(Bl(c,n),yl(3,Bl(r,i)))),yl(6,zl(Tl(i,n),-2*r)),yl(3,Bl(r,n))],[yl(3,wl(Bl(s,e),yl(3,Bl(o,u)))),yl(6,zl(Tl(u,e),-2*o)),yl(3,Bl(o,e))]]}(t)[0];let[r,o,i]=function(t){const[[n,e],[r,o],[i,u],[c,s]]=t,f=Ol(n),l=Ol(r),h=Ol(i),a=Ol(c),v=Ol(e),g=Ol(o),d=Ol(u);return[[3*(a+f+3*(l+h)),6*(h+f+2*l),3*(l+f)],[3*(Ol(s)+v+3*(g+d)),6*(d+v+2*g),3*(g+v)]]}(t)[0];r*=3*Fl,o*=2*Fl,i*=1*Fl,n=Ye(e,0,1,[r,o,i],(()=>function(t){const[[n,e],[r,o],[i,u],[c,s]]=t;return[[Ml(3,xl(Nl(c,n),Ml(3,Nl(r,i)))),Ml(6,Sl(_l(i,n),-2*r)),Ml(3,Nl(r,n))],[Ml(3,xl(Nl(s,e),Ml(3,Nl(o,u)))),Ml(6,Sl(_l(u,e),-2*o)),Ml(3,Nl(o,e))]]}(t)[0]))}else if(3===t.length){const e=function(t){const[[n,e],[r,o],[i,u]]=t;return[[zl(Tl(2*i,2*n),-4*r),Bl(2*r,2*n)],[zl(Tl(2*u,2*e),-4*o),Bl(2*o,2*e)]]}(t)[0];let[r,o]=function(t){const[[n,e],[r,o],[i,u]]=t,c=Ol(n),s=Ol(r),f=Ol(i),l=Ol(e),h=Ol(o);return[[2*(f+c+2*s),2*(s+c)],[2*(Ol(u)+l+2*h),2*(h+l)]]}(t)[0];r*=Fl,o=0,n=Ye(e,0,1,[r,o],(()=>function(t){const[[n,e],[r,o],[i,u]]=t;return[[Sl(_l(2*i,2*n),-4*r),Nl(2*r,2*n)],[Sl(_l(2*u,2*e),-4*o),Nl(2*o,2*e)]]}(t)[0]))}else{if(2!==t.length&&1!==t.length)throw new Error("The given bezier curve is invalid.");n=[]}return n}const ql=Number.EPSILON/2,Al=Math.abs,Yl=[[0,0],[0,0]],Vl=Ur,Rl=Mr;function kl(t,n,e){if(4===t.length)return Vl(t,n,e);if(3===t.length)return Rl(t,n,e);if(2===t.length)return function(t,n,e){return 0===n?1===e?{ps:t,_ps:Yl}:function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],u=r[0],c=r[1],s=1-n,f=[[o,i],[u*n+o*s,c*n+i*s]],l=Al(o),h=Al(i);return{ps:f,_ps:[[0,0],[Al(u)*n+l*s,Al(c)*n+h*s]]}}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],u=r[0],c=r[1],s=1-n,f=[[n*u+s*o,n*c+s*i],[u,c]],l=Al(o),h=Al(i);return{ps:f,_ps:[[n*Al(u)+s*l,n*Al(c)+s*h],[0,0]]}}(t,n):function(t,n,e){const r=t[0],o=t[1],i=r[0],u=r[1],c=o[0],s=o[1],f=1-n,l=(e-n)/f,h=l+l*ql,a=h+.5-.5,v=a>=h?a:a+ql,g=1-v,d=n*c+i*f,p=v*c+g*d,b=n*s+u*f,m=v*s+g*b,E=Al(i),I=Al(u),N=Al(c),_=Al(s),M=n*N+f*E,x=n*_+f*I;return{ps:[[d,b],[p,m]],_ps:[[M,x],[v*N+g*M,v*_+g*x]]}}(t,n,e)}(t,n,e);if(1===t.length)return{ps:t,_ps:[[0]]};throw new Error("The given bezier curve is invalid; it must be of order 0,1,2 or 3.")}function $l(t,n){const e=n.slice().reverse(),r=Cl(t,e);let o,i=0,u=0;for(let n=0;n<r.length+1;n++){const c=r[n],s=void 0===c?1:ke(c[0].ri),f=void 0===c?0:ke(c[1].ri),l=0===n?1:o,h=kl(t,i,s).ps,a=kl(e,f,l).ps;i=s,o=f;const v=sr(h),g=sr(a);u+=Math.abs(v+g)}return u}exports.__esModule=!0,exports.bezierSelfIntersection=void 0;var Gl=require("./get-coefficients/double/get-coeffs-bez3-with-running-error.js"),Wl=require("./get-coefficients/exact/get-coeffs-bez3-exact.js"),jl=require("../../error-analysis/error-analysis.js"),Hl=require("big-float-ts"),Xl=require("double-double"),Ql=require("big-float-ts"),Ul=require("double-double"),Kl=Hl.operators.eSign,Jl=Hl.operators.eAbs,Zl=Hl.operators.eToDd,th=Hl.operators.eMultByNeg2,nh=Hl.operators.eEstimate,eh=Hl.operators.eCompare,rh=Xl.operators.sqrtWithErr,oh=Xl.operators.divWithErr,ih=Xl.operators.ddSqrt,uh=Ql.eDiff,ch=Ql.expansionProduct,sh=Ql.scaleExpansion2,fh=Ul.twoDiff,lh=Ul.twoSum,hh=Ul.ddNegativeOf,ah=Ul.ddAddDd,vh=Ul.ddMultBy2,gh=Ul.ddDivDd,dh=Ql.fastExpansionSum,ph=Ql.growExpansion,bh=2*Number.EPSILON,mh=Math.abs,Eh=(0,jl.γ)(1);function Ih(t,n){const{collinear:e,realOrder:o,nodeType:i}=Ni(t);if(e||o<=1)return[[t[0],t[3]]];if(2===o)return[wi(t)];const u=[];if(t[0][0]===t[3][0]&&t[0][1]===t[3][1])u.push([0,.5],[.5,1]);else if("cusp"===i){const n=(0,r.bezierSelfIntersection)(t)[0];u.push([0,n],[n,1])}else if("crunode"===i){const n=(0,r.bezierSelfIntersection)(t);n.length>1?u.push([0,n[0]],[n[0],n[1]],[n[1],1]):u.push([0,1])}else u.push([0,1]);const c=[];for(;0!==u.length;){const e=u.pop(),[r,o]=e,i=Ur(t,r,o).ps,s=wi(i),f=o-r;if(void 0===s||f*$l(s,i)>n){const t=(o+r)/2;u.push([r,t],[t,o])}else c.push(s)}return c.reverse()}function Nh(t){let n=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;for(const i of t){const t=i[0],u=i[1];t<n&&(n=t),t>e&&(e=t),u<r&&(r=u),u>o&&(o=u)}return[[n,r],[e,o]]}function _h(t,n){let e;if(4===t.length)e=function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=e[0],c=e[1],s=r[0],f=r[1],l=o[0],h=o[1],a=i[0],v=i[1],g=n[0],d=n[1],p=u-g,b=s-g,m=l-g,E=a-g,I=c-d,N=f-d,_=h-d,M=v-d,x=p*p,S=6*p*b,T=6*m*E,B=I*I,y=6*I*N,w=6*_*M,z=6*b*E+9*m*m,O=2*p*E+18*b*m,P=6*p*m+9*b*b,D=6*N*M+9*_*_,F=2*I*M+18*N*_,C=6*I*_+9*N*N;return[6*(E*E-T+(x-S)+z+(P-O)+(M*M-w+(B-y)+D+(C-F))),5*(T+5*S+3*O-2*(z+2*P+3*x)+(w+5*y+3*F-2*(D+2*C+3*B))),4*(z-3*(O-2*P)-5*(2*S-3*x)+(D-3*(F-2*C)-5*(2*y-3*B))),3*(O-2*(2*P-5*(S-2*x))+(F-2*(2*C-5*(y-2*B)))),2*(P-5*(S-3*x)+(C-5*(y-3*B))),S-6*x+(y-6*B)]}(t,n);else if(3===t.length)e=function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],u=e[1],c=r[0],s=r[1],f=o[0],l=o[1],h=n[0],a=n[1],v=i-h,g=c-h,d=f-h,p=u-a,b=s-a,m=l-a,E=v*v,I=v*g,N=g*d,_=p*p,M=p*b,x=b*m,S=p*m+b*b*2,T=v*d+g*g*2;return[m*m+_+2*S-4*(x+M)+(d*d+E+2*T-4*(N+I)),3*(x-S+(3*M-_)+(N-T+(3*I-E))),S-3*(2*M-_)+(T-3*(2*I-E)),M-_+(I-E)]}(t,n);else{if(2!==t.length)throw new Error("The given bezier curve is invalid.");e=function(t,n){const[[e,r],[o,i]]=t,[u,c]=n,s=e-u,f=o-u,l=r-c,h=i-c,a=s*f+l*h,v=l*l+s*s;return[f*f+h*h+(v-2*a),a-v]}(t,n)}const r=Ze(e,0,1);r.push(0),r.push(1);let o,i=Number.POSITIVE_INFINITY;for(const e of r){const r=Vr(t,e),u=gr(r,n);u<i&&(i=u,o={p:r,t:e})}return o}exports.bezierSelfIntersection=function(t,n){var e;if(void 0===n&&(n=!0),t.length<4)return[];var r=(0,Gl.getCoeffsBez3WithRunningError)(t),o=r.coeffs,i=o[0],u=o[1],c=o[2],s=r.errBound,f=s[0],l=s[1],h=s[2];if(mh(i)<=f){var a=t[0],v=a[0],g=a[1],d=t[1],p=d[0],b=d[1],m=t[2],E=m[0],I=m[1],N=t[3],_=N[0],M=N[1],x=dh(fh(_,v),sh(3,fh(p,E))),S=ph(lh(E,v),-2*p),T=dh(fh(M,g),sh(3,fh(b,I))),B=ph(lh(I,g),-2*b),y=ch(S,T),w=ch(x,B);if(0===eh(y,w))return[]}var z=u*u,O=4*i*c,P=z-O,D=2*l*mh(u)+Eh*z+(4*(f*mh(c)+mh(i)*h)+Eh*mh(O))+Eh*mh(P);if(P<-D)return[];if(P>D){var F,C=rh(P,D),L=C.est,q=l+C.err+Eh*mh(F=u>=0?-u-L:-u+L),A=oh(F,2*i,q,2*f),Y=A.est,V=A.err,R=oh(2*c,F,2*h,q),k=R.est,$=R.err;if(n){if(Y+V<0||Y-V>1||k+$<0||k-$>1)return[]}else if((Y+V<0||Y-V>1)&&(k+$<0||k-$>1))return[]}var G=(0,Wl.getCoeffsBez3Exact)(t),W=G[0],j=G[1],H=G[2],X=uh(ch(j,j),sh(4,ch(W,H))),Q=Kl(X);if(Q<0)return[];if(Q>0){L=ih(Zl(X)),W=Zl(W),j=Zl(j),H=Zl(H);var U;U=Kl(j)>=0?hh(ah(j,L)):ah(hh(j),L);var K=nh(gh(U,vh(W))),J=nh(gh(vh(H),U));if(n){if(K<-bh||K>1+bh||J<-bh||J>1+bh)return[]}else if((K<-bh||K>1+bh)&&(J<-bh||J>1+bh))return[];return J=(e=K<J?[K,J]:[J,K])[1],(K=e[0])>=0-bh&&K<=1+bh?J>=0-bh&&J<=1+bh?[K,J]:[K]:J>=0-bh&&J<=1+bh?[J]:[]}var Z=th(W);if(Kl(j)*Kl(Z)<0)return[];if(eh(Jl(j),Jl(Z))>0)return[];var tt=Zl(j),nt=Zl(Z),et=gh(tt,nt),rt=et[1]+et[0];return[rt,rt]};const Mh="undefined"!=typeof globalThis&&globalThis.__debug__?globalThis.__debug__:void 0,xh=Math.min,Sh=Math.max,Th=Math.abs,Bh=Number.EPSILON,yh=Bh/2,wh=1-Bh,zh=1+Bh,Oh=[0,1];function Ph(t,n,e){if(0===t){if(0===n){if(0===e)return;return[]}const t=-e/n,r=Th(t*yh),o=t-r,i=t+r;return i<0||o>1?[]:o<0&&i>0?[0,i]:o<1&&i>1?[o,1]:[o,i]}if(0===e){const e=-n/t,r=Th(e*yh),o=e-r,i=e+r;return i<0||o>1?[0]:o<0&&i>0?[0,i]:o<1&&i>1?[0,o,1]:[0,o,i]}const r=n*n,o=4*t*e,i=r-o,u=r+Th(o),c=2*yh*u;if(i+c<0)return[];if(i+c===0){const e=-n/(2*t),r=Th(e*yh),o=e-r,i=e+r;return i<0||o>1?[]:o<0&&i>0?[0,i]:o<1&&i>1?[o,1]:[o,i]}const s=i-c<0?0:i-c,f=Math.sqrt(s)*wh,l=Math.sqrt(i+c)*zh;let h,a;n>=0?(h=-n-l,a=-n-f):(a=-n+f,h=-n+l);const v=2*t,g=2*e;let d,p,b,m;h*v>=0?(d=a/v*wh,p=h/v*zh):(d=h/v*zh,p=a/v*wh),h*g>0?(b=g/h*wh,m=g/a*zh):h*g<0&&(b=g/a*zh,m=g/h*wh);const E=[];return p<0||d>1||E.push(d<0?0:d,p>1?1:p),m<0||b>1||E.push(b<0?0:b,m>1?1:m),E}const Dh=Mn,Fh=gn,Ch=Math.abs,Lh=Number.EPSILON/2,qh="undefined"!=typeof globalThis&&globalThis.__debug__?globalThis.__debug__:void 0,Ah=function(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],u=r-i,c=o-e,s=Fh(Dh(e,i),Dh(o,r))[1],f=Ch(u),l=Ch(c),h=Ch(s);return function(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],a=u*e+c*r+s,v=16*Lh*(f*o+l*i+h);return{dMin:a-v,dMax:a+v}}},Yh=function(t,n,e,r){const o=t.ps,i=o.length,u=4===i?function(t){const n=t.ps,e=t._ps,r=n[0],o=n[1],i=n[2],u=n[3],c=r[0],s=r[1],f=o[0],l=o[1],h=i[0],a=i[1],v=u[0],g=u[1],d=e[0],p=e[1],b=e[2],m=e[3],E=d[0],I=d[1],N=p[0],_=p[1],M=b[0],x=b[1];return{hq:[[(3*f-c)/2,(3*l-s)/2],[(3*h-v)/2,(3*a-g)/2]],_hq:[[(3*N+E)/2,(3*_+I)/2],[(3*M+m[0])/2,(3*x+m[1])/2]]}}(t):{hq:[o[1],o[1]],_hq:[[0,0],[0,0]]},c=u.hq,s=u._hq,f=t._ps,l=n(o[0],f[0]),h=n(o[i-1],f[i-1]),a=n(c[0],s[0]),v=n(c[1],s[1]),g=xh(a.dMin,v.dMin),d=Sh(a.dMax,v.dMax);if(void 0!==Mh&&!Mh.already){const n=Mh.currentIter;n.hq=[t.ps[0],...c,t.ps[i-1]],n.geo?n.geoPerp={dH0:l,dH10:a,dH11:v,dH2:h,dMin:e,dMax:r}:n.geo={dH0:l,dH10:a,dH11:v,dH2:h,dMin:e,dMax:r}}const p=l.dMin,b=l.dMax,m=h.dMin,E=h.dMax,I=p-2*g+m,N=-2*(p-g),_=p-e,M=p-r,x=b-2*d+E,S=-2*(b-d),T=b-e,B=b-r;let y=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY;const z=Ph(I,N,_),O=Ph(I,N,M),P=Ph(x,S,T),D=Ph(x,S,B);if(void 0===z||void 0===O||void 0===P||void 0===D)return Oh;for(let t=0;t<z.length;t++){const n=z[t];n<y&&(y=n),n>w&&(w=n)}for(let t=0;t<O.length;t++){const n=O[t];n<y&&(y=n),n>w&&(w=n)}for(let t=0;t<P.length;t++){const n=P[t];n<y&&(y=n),n>w&&(w=n)}for(let t=0;t<D.length;t++){const n=D[t];n<y&&(y=n),n>w&&(w=n)}return b>=e&&p<=r&&(y=0),E>=e&&m<=r&&(w=1),y!==Number.POSITIVE_INFINITY?[y,w]:void 0},Vh=kl,Rh=dr,kh=lr,$h=function(t,n){let e=n/Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[e*t[0],e*t[1]]},Gh=void 0;function Wh(t,n,e,r){let o=Rh(t,n),i=[-o[1],o[0]];const u=t[0],c=t[1],s=n[0];let f=c-n[1],l=s-u,h=Math.sqrt(f**2+l**2),a=$h(i,e/h),v=$h(i,r/h);return{psBase:[t,n],psMin:[kh(t,a),kh(n,a)],psMax:[kh(t,v),kh(n,v)]}}const jh="undefined"!=typeof globalThis&&globalThis.__debug__?globalThis.__debug__:void 0,Hh=function(t){const n=t.F,e=t.G,r=t.fRange,o=t.gRange,i=r[0],u=r[1],c=o[0],s=o[1],f=Vh(n,i,u),l=Vh(e,c,s),h=f.ps,a=f._ps;void 0===qh||qh.already||(qh.currentIter.F_=f,qh.currentIter.G_=l);const v=h.length;let g=h[0],d=h[v-1],p=Ah(g,d),b=p(h[0],a[0]),m=p(h[1],a[1]),E=p(h[2],a[2]),I=4===v?p(h[3],a[3]):{dMin:0,dMax:0},N=4===v?3/4:.5;const _=N*Math.min(0,b.dMin,m.dMin,E.dMin,I.dMin),M=N*Math.max(0,b.dMax,m.dMax,E.dMax,I.dMax);void 0===qh||qh.already||(qh.currentIter.fatline=Wh(g,d,_,M));const x=Yh(l,p,_,M),S=t.last;if(x===Gh)return[];let T=x[0],B=x[1];if(!S&&B-T>.7&&!function(){const t=g[0],n=g[1],e=d[0],r=[t+n-d[1],n+e-t];let o=Ah(g,r),i=o(h[0],a[0]),u=o(h[1],a[1]),c=o(h[2],a[2]),s=4===v?o(h[3],a[3]):{dMin:0,dMax:0};const f=Math.min(0,i.dMin,u.dMin,c.dMin,s.dMin),p=Math.max(0,i.dMax,u.dMax,c.dMax,s.dMax);void 0===qh||qh.already||(qh.currentIter.fatlinePerp=Wh(g,r,f,p));const b=Yh(l,o,f,p);if(b===Gh)return!1;const m=b[0],E=b[1];return T=Math.max(T,m),B=Math.min(B,E),!0}())return[];if(!S&&B-T>.7)return function(){const t=s-c,f=u-i;if(t>=f){const o=c+t/2+1-1,i={F:n,G:e,fRange:r,gRange:[c,o],last:S},u={F:n,G:e,fRange:r,gRange:[o,s],last:S};return void 0===qh||qh.already||(i.parent=qh.currentIter,u.parent=qh.currentIter,qh.currentIter.children=[u,i]),[u,i]}const l=i+f/2+1-1,h={F:n,G:e,fRange:[i,l],gRange:o,last:S},a={F:n,G:e,fRange:[l,u],gRange:o,last:S};return void 0===qh||qh.already||(h.parent=qh.currentIter,a.parent=qh.currentIter,qh.currentIter.children=[a,h]),[a,h]}();const y=s-c,w={F:e,G:n,fRange:[c+T*y+1-1,c+B*y+1-1],gRange:r,last:S};return void 0===qh||qh.already||(w.parent=qh.currentIter,qh.currentIter.children=[w]),[w]},Xh=Cl,Qh=Math.min,Uh=Math.max,Kh=Math.abs,Jh=2**-33,Zh=2**-43;function ta(t,n){if(t.length<=2||n.length<=2)return na(t,n);let e=[],r={F:t,G:n,fRange:[0,1],gRange:[0,1],last:void 0},o=[r];void 0===jh||jh.already||(jh.tree=r);let i=0;for(;0!==o.length&&i<60;){i++;const r=o.pop();void 0===jh||jh.already||(jh.currentIter=r,r.uid=jh.uid++);let u=Hh(r);if(1===u.length){const i=u[0],c=i.fRange,s=Kh(c[1]-c[0]);if(i.last){const o=i.last.fRange;if(s>Jh)return na(t,n);e.push(r.F===n?[c,o]:[o,c])}else s<Jh&&(void 0===jh||jh.already||(i.foundX=!0),s<Zh&&(c[0]=Uh(0,c[0]-Zh),c[1]=Qh(1,c[1]+Zh)),i.last=i),o.push(i)}else 2===u.length&&o.push(u[0],u[1])}return 60===i?(void 0!==jh&&jh.maxItersCount++,na(t,n)):(void 0!==jh&&(jh.already=!0),e.sort(((t,n)=>t[0][0]-n[0][0])),function(t){let n=!0;for(;n;){n=!1;for(let e=1;e<t.length;e++){const r=t[e-1][0],o=t[e][0];if(r[1]>=o[0]){const i=t[e-1][1],u=t[e][1],c=i[0],s=i[1],f=u[0],l=u[1];if(c<=l&&s>=f||f<=s&&l>=c){n=!0;const i=Qh(c,s,f,l),u=Uh(c,s,f,l),h=r[0],a=r[1],v=o[0],g=o[1],d=[[Qh(h,a,v,g),Uh(h,a,v,g)],[i,u]];t.splice(e-1,2,d);break}}}}}(e),e)}function na(t,n){const e=Xh(t,n);if(void 0!==e)return e.map((t=>{const n=t[0].ri,e=t[1].ri;return[[n.tS,n.tE],[e.tS,e.tE]]}))}function ea(t){return(n,e)=>{let[[r,o],[i,u]]=n,[[c,s],[f,l]]=e;return o>u&&([o,u]=[u,o]),s>l&&([s,l]=[l,s]),r>i&&([r,i]=[i,r]),c>f&&([c,f]=[f,c]),t?r<=f&&i>=c&&s<=u&&l>=o:r<f&&i>c&&s<u&&l>o}}const ra=Vr,oa=kf,ia=so(1);function ua(t,n){const e=ra(t,n),r=oa(t,[0,n]);if(4===t.length)return{p:e,pE:r.map((t=>9*ia*t))};if(3===t.length)return{p:e,pE:r.map((t=>6*ia*t))};if(2===t.length)return{p:e,pE:r.map((t=>3*ia*t))};if(1===t.length)return{p:t[0],pE:[0,0]};throw new Error("The given bezier curve is invalid.")}const ca=En,sa=vn,fa=gn,la=_n,ha=an;function aa(t,n){if(0===n[0]&&0===n[1])return t[0].map((t=>[t]));if(0===n[0]&&1===n[1])return t[t.length-1].map((t=>[t]));if(4===t.length){const[[e,r],[o,i],[u,c],[s,f]]=t,l=ha(ca(la(o,e),n),e),h=ha(ca(la(u,o),n),o),a=ha(ca(la(s,u),n),u),v=sa(l,ca(fa(h,l),n)),g=sa(h,ca(fa(a,h),n)),d=sa(v,ca(fa(g,v),n)),p=ha(ca(la(i,r),n),r),b=ha(ca(la(c,i),n),i),m=ha(ca(la(f,c),n),c),E=sa(p,ca(fa(b,p),n)),I=sa(b,ca(fa(m,b),n));return[d,sa(E,ca(fa(I,E),n))]}if(3===t.length){const[[e,r],[o,i],[u,c]]=t,s=sa([0,e],ca(la(o,e),n)),f=sa([0,o],ca(la(u,o),n)),l=sa(s,ca(fa(f,s),n)),h=sa([0,r],ca(la(i,r),n)),a=sa([0,i],ca(la(c,i),n));return[l,sa(h,ca(fa(a,h),n))]}if(2===t.length){const[[e,r],[o,i]]=t;return[ha(ca(la(o,e),n),e),ha(ca(la(i,r),n),r)]}throw new Error("The given bezier curve is invalid.")}const va=aa,ga=kf,da=fo(3);function pa(t,n){const e=va(t,n),r=ga(t,n);if(4===t.length)return{p:e,pE:r.map((t=>18*da*t))};if(3===t.length)return{p:e,pE:r.map((t=>12*da*t))};if(2===t.length)return{p:e,pE:r.map((t=>6*da*t))};if(1===t.length)return{p:[t[0]],pE:[0,0]};throw new Error("The given bezier curve is invalid.")}const ba=Mn,ma=vn,Ea=gn,Ia=Math.PI,Na=Math.asin,_a=Math.acos;function Ma(t,n){if(0===(0===t[0]&&t[1])||0===n[0]&&n[1])return 0;const e=ar(t),r=ar(n);let o=Ea(ba(e[0],r[1]),ba(e[1],r[0]))[1],i=ma(ba(e[0],r[0]),ba(e[1],r[1]))[1];return o<-1&&(o=-1),o>1&&(o=1),i<-1&&(i=-1),i>1&&(i=1),i>=0?o>=0?i<=.5?+_a(i):Na(o):i<=.5?-_a(i):Na(o):o>=0?i>=-.5?+_a(i):+Ia-Na(o):i>=-.5?-_a(i):-Ia-Na(o)}function xa(t){if(t.length<4)return[];const[[n,e],[r,o],[i,u],[c,s]]=t,f=r-n,l=o-e,h=i-r-f,a=u-o-l,v=c-i-f-2*h,g=s-u-l-2*a;return Ze([h*g-a*v,f*g-l*v,f*a-l*h],0,1)}Math.abs;const Sa=Math.PI,Ta=Math.abs;function Ba(t,n=[0,1]){if(t.length<=3)return Ta(ya(t,n));if(4===t.length){const[e,r]=n;if(e===r)return 0;const o=Ur(t,e,r).ps,i=[0,...xa(o),1];let u=0;for(let t=0;t<i.length-1;t++)u+=Ta(ya(o,[i[t],i[t+1]]));return u}throw new Error("Only bezier curves of order <= 3 are supported")}function ya(t,n=[0,1]){if(t.length<=2)return 0;const[e,r]=n;if(e===r)return 0;if(3===t.length){const n=Mr(t,e,r).ps,[[o,i],[u,c],[s,f]]=n;return Ma([u-o,c-i],[s-u,f-c])}if(4===t.length){const n=Ur(t,e,r).ps,o=Ni(n),[[i,u],[c,s],[f,l],[h,a]]=n,v=[c-i,s-u],g=[f-c,l-s],d=[h-f,a-l];if(0===g[0]&&0===g[1]||o.realOrder<=2)return Ma(v,d);const p=Ma(v,g)+Ma(g,d);return"acnode"===o.nodeType||"cusp"===o.nodeType?p<=-Sa?p+2*Sa:p>=+Sa?p-2*Sa:p:p}throw new Error("Only bezier curves of order <= 3 are supported")}function wa(t){return t.slice().reverse()}const za=_n,Oa=fn,Pa=vn,Da=an,Fa=xn;function Ca(t){const[[n,e],[r,o],[i,u],[c,s]]=t;return[[Pa(za(c,n),Oa(3,za(r,i))),Oa(3,Da(Fa(i,n),-2*r)),Oa(3,za(r,n)),n],[Pa(za(s,e),Oa(3,za(o,u))),Oa(3,Da(Fa(u,e),-2*o)),Oa(3,za(o,e)),e]]}function La(t){const[[n,e],[r,o],[i,u]]=t;return[[Da(Fa(i,n),-2*r),za(2*r,2*n),n],[Da(Fa(u,e),-2*o),za(2*o,2*e),e]]}function qa(t){const[[n,e],[r,o]]=t;return[[za(r,n),n],[za(o,e),e]]}const Aa=Nn,Ya=dn,Va=bn,Ra=fn,ka=En,$a=gn,Ga=vn;function Wa(t){const[[n,e,r,o],[i,u,c,s]]=Ca(t),f=ka(n,c),l=ka(r,i),h=ka(n,u),a=ka(e,i),v=ka(n,n),g=ka(i,i),d=$a(Ra(s,n),Ra(o,i)),p=$a(f,l),b=$a(h,a),m=$a(Ra(s,e),Ra(o,u)),E=$a(ka(e,c),ka(r,u)),I=$a(Ra(s,r),Ra(o,c)),N=Ya(p),_=ka(d,d),M=ka(d,E),x=ka(N,m),S=ka(b,m),T=$a(Ra(-3,d),E),B=ka(Aa(i),g),y=ka(Ra(3,n),g),w=ka(Ra(-3,i),v),z=ka(n,v),O=Ga(Ga(ka(T,g),ka(b,$a(ka(c,i),ka(u,u)))),ka(N,ka(u,i))),P=Ga(Ga(ka(T,v),ka(b,$a(ka(r,n),ka(e,e)))),ka(N,ka(e,n))),D=Ya($a(ka(b,$a(ka(e,u),Va(Ga(l,f)))),Ga(ka(T,ka(n,i)),ka(p,Ga(a,h))))),F=Ga($a(Ra(-3,_),Ya(M)),Ga(x,ka(b,I))),C=Ya($a(ka(d,p),S)),L=Ga($a(ka(d,b),ka(p,p)),ka(b,E));return{vₓₓₓ:B,vₓₓᵧ:y,vₓᵧᵧ:w,vᵧᵧᵧ:z,vₓₓ:O,vₓᵧ:D,vᵧᵧ:P,vₓ:Ga(ka(i,F),Ga(ka(u,C),ka(c,L))),vᵧ:Aa(Ga(ka(n,F),Ga(ka(e,C),ka(r,L)))),v:Ga(ka(d,$a($a(x,_),M)),$a(ka(L,I),ka(S,m)))}}const ja=Nn,Ha=dn,Xa=fn,Qa=En,Ua=gn;function Ka(t){const[[n,e,r],[o,i,u]]=La(t),c=Ua(Qa(n,i),Qa(e,o)),s=Ua(Xa(u,n),Xa(r,o)),f=Ua(Xa(u,e),Xa(r,i));return{vₓₓ:ja(Qa(o,o)),vₓᵧ:Ha(Qa(n,o)),vᵧᵧ:ja(Qa(n,n)),vₓ:Ua(Qa(i,c),Ha(Qa(o,s))),vᵧ:Ua(Ha(Qa(n,s)),Qa(e,c)),v:Ua(Qa(c,f),Qa(s,s))}}function Ja(t){const[[n,e],[r,o]]=ur(t);return{vₓ:-r,vᵧ:n,v:e*r-n*o}}const Za=gn,tv=fn,nv=Nn;function ev(t){const[[n,e],[r,o]]=qa(t);return{vₓ:nv(r),vᵧ:n,v:Za(tv(e,r),tv(o,n))}}const rv=Math.abs;function ov(t){const[n,e]=t[0],[[r],[o]]=fs(t);return{vₓ_:o,vᵧ_:r,v_:rv(n)*o+rv(e)*r}}function iv(t){return t.map((t=>t.map((t=>[t]))))}const uv=N;function cv(t){return t.map((t=>t.map((t=>uv(t)))))}function sv(t){const n=t[0].length;if(4===n){const[[n,e,r,o],[i,u,c,s]]=t;return[[o,s],[o+r/3,s+c/3],[o+2*r/3+e/3,s+2*c/3+u/3],[o+r+e+n,s+c+u+i]]}if(3===n){const[[n,e,r],[o,i,u]]=t;return[[r,u],[r+e/2,u+i/2],[r+e+n,u+i+o]]}if(2===n){const[[n,e],[r,o]]=t;return[[e,o],[e+n,o+r]]}if(1===n){const[[n],[e]]=t;return[[n,e]]}throw new Error("The given bezier curve is invalid.")}function fv(t){if(4===t.length){const[[n,e],[r,o],[i,u],[c,s]]=t;return[[3*(r-n),3*(o-e)],[3*(i-r),3*(u-o)],[3*(c-i),3*(s-u)]]}if(3===t.length){const[[n,e],[r,o],[i,u]]=t;return[[2*(r-n),2*(o-e)],[2*(i-r),2*(u-o)]]}if(2===t.length){const[[n,e],[r,o]]=t;return[[r-n,o-e]]}}function lv(t,n,e){const[r,o]=t,[i,u]=n,[c,s]=e;return[t,[-(4*r-4*i-c-2*r)/3,-(4*o-4*u-s-2*o)/3],[-(4*r-4*i+2*c-5*r)/3,-(4*o-4*u+2*s-5*o)/3],e]}function hv(t,n,e,r){const[o,i]=t,[u,c]=n,[s,f]=e,[l,h]=r,a=3*(s+o-2*u),v=3*(u-o),g=3*(f+i-2*c),d=3*(c-i),p=g*(v*g-a*d),b=-a*(v*g-a*d),m=d**2+d*g*l+g**2*l**2,E=-2*v*d+-v*g*l+-a*d*l+-2*a*g*l**2,I=v**2+v*a*l+a**2*l**2,N=d**2+d*g*h+g**2*h**2,_=-2*v*d+-v*g*h+-a*d*h+-2*a*g*h**2,M=v**2+v*a*h+a**2*h**2,x=m*(M*(m*M-E*_-2*I*N)+I*_*_)+N*(E*(E*M-I*_)+I*I*N);return[[o,i],[u,c],[s,f],[-(p*(M*(2*(m*(M-I)-I*N)-E*(_-E))+I*(2*I*N-_*(E-_)))+b*(m*(2*I*_-M*(E+_))+N*(2*E*M-I*(E+_))))/x+o-3*(u-s),-(p*(m*(_*(2*I-M)-E*M)+N*(E*(2*M-I)-I*_))+b*(m*(2*(M*(m-N)-I*N)-_*(E-_))+N*(2*I*N+E*(E-_))))/x+i-3*(c-f)]]}function av(t,n,e){const[[r,o],[i,u],,[c,s]]=t,[f,l]=n;return[[r,o],[i,u],[(e**3*(3*i-r+c)+3*e**2*(r-2*i)-3*e*(r-i)-f+r)/(3*e**2*(e-1)),(e**3*(3*u-o+s)+3*e**2*(o-2*u)-3*e*(o-u)-l+o)/(3*e**2*(e-1))],[c,s]]}function vv(t){if(4===t.length){const[[n,e],[r,o],[i,u],[c,s]]=t;return[[6*(c-n+3*(r-i)),6*(i+n-2*r)],[6*(s-e+3*(o-u)),6*(u+e-2*o)]]}if(3===t.length){const[[n,e],[r,o],[i,u]]=t;return[[2*(i-2*r+n)],[2*(u-2*o+e)]]}if(2===t.length||1===t.length)return[[0],[0]];throw new Error("The given bezier curve must be of order 0, 1, 2 or 3.")}function gv(t){if(4===t.length){const[n,e]=t[2],[r,o]=t[3];return[3*(r-n),3*(o-e)]}if(3===t.length){const[n,e]=t[1],[r,o]=t[2];return[2*(r-n),2*(o-e)]}if(2===t.length){const[[n,e],[r,o]]=t;return[r-n,o-e]}if(1===t.length)return[0,0];throw new Error("The given bezier curve is invalid.")}function dv(t){if(4===t.length){const[,[n,e],[r,o],[i,u]]=t;return[6*(i+n-2*r),6*(u+e-2*o)]}if(3===t.length){const[[n,e],[r,o],[i,u]]=t;return[2*(i+n-2*r),2*(u+e-2*o)]}if(2===t.length||1===t.length)return[0,0];throw new Error("The given bezier curve is invalid.")}function pv(t){if(4===t.length){const[[n,e],[r,o]]=t;return[3*(r-n),3*(o-e)]}if(3===t.length){const[[n,e],[r,o]]=t;return[2*(r-n),2*(o-e)]}if(2===t.length){const[[n,e],[r,o]]=t;return[r-n,o-e]}if(1===t.length)return[0,0];throw new Error("The given bezier curve is invalid.")}function bv(t){if(4===t.length){const[[n,e],[r,o],[i,u]]=t;return[6*(i+n-2*r),6*(u+e-2*o)]}if(3===t.length){const[[n,e],[r,o],[i,u]]=t;return[2*(i+n-2*r),2*(u+e-2*o)]}if(2===t.length||1===t.length)return[0,0];throw new Error("The given bezier curve is invalid.")}function mv(t){if(4===t.length){const[[n,e],[r,o],[i,u],[c,s]]=t;return[6*(c-n+3*(r-i)),6*(s-e+3*(o-u))]}if(3===t.length||2===t.length||1===t.length)return[0,0];throw new Error("The given bezier curve is invalid.")}function Ev(t,n){const[e,r]=cr(t);function o(t){return[Ln(e,t),Ln(r,t)]}return void 0===n?o:o(n)}function Iv(t,n){const[e,r]=cr(t);function o(t){return[Ln(r,t),-Ln(e,t)]}return void 0===n?o:o(n)}const Nv=Number.EPSILON/2;function _v(t,n){const e=(n-t)/(1-t),r=e+e*Nv,o=r+.5-.5;return o>=r?o:o+Nv}function Mv(t,n){const[e,r]=cr(t),[o,i]=vv(t);function u(t){const n=Ln(e,t),u=Ln(r,t),c=Ln(o,t);return(n*Ln(i,t)-u*c)/Math.sqrt((n*n+u*u)**3)}return void 0===n?u:u(n)}const xv=Mv;function Sv(t){const n=dr(t[0],t[1]),e=dr(t[1],t[2]),r=dr(t[2],t[0]),o=fr(r,n)>0,i=fr(e,r)>0;return o||i}function Tv(t,n){if(Sv(t))return!1;const[[e,r],,[o,i]]=t;if(e===o&&r===i)return!0;const[u,c]=Vr(t,.5),s=((i-r)*u-(o-e)*c+o*r-i*e)**2,f=gr(t[0],t[2]);return Math.abs(s/f)<n**2}function Bv(t,n){const e=[];let r={ps:t,prev:void 0,next:void 0};for(e.push(r);e.length;){const t=e.pop();if(Tv(t.ps,n))continue;const o=Pr(t.ps,.5),i=t.prev,u=t.next,c={ps:o[0],prev:i,next:void 0},s={ps:o[1],prev:void 0,next:u};c.next=s,s.prev=c,i&&(i.next=c),u&&(u.prev=s),r===t&&(r=c),e.push(c),e.push(s)}const o=[];let i=r;for(o.push(r.ps[0]);i;)o.push(i.ps[2]),i=i.next;return o}const yv=gn,wv=Sn,zv=an,Ov=En,Pv=fn,Dv=vn,Fv=dn,Cv=ln,Lv=hn,qv=Number.EPSILON/2,Av=qv*qv,Yv=Math.abs,Vv=yv,Rv=[0,1],kv=zv,$v=Dv,Gv=Ov,Wv=Pv,jv=Fv,Hv=wv,Xv=Cv,Qv=Lv,Uv=fo(3);function Kv(t,n){return n[0]!==n[1]?4===t.length?function([[t,n],[e,r],[o,i],[u,c]],[s,f]){const l=Vv(f,s),h=3*Av*Yv(l[1]),a=Vv(Rv,s),v=3*Av*Yv(a[1]),g=Hv(l,a,h,v);f=kv(g.est,g.err);const d=Vv(Rv,s),p=Gv(s,s),b=Gv(s,d),m=Gv(d,d),E=Gv(p,s),I=Gv(p,d),N=Gv(m,s),_=Gv(m,d),M=Vv(Rv,f),x=Gv(f,f),S=Gv(f,M),T=Gv(M,M),B=Gv(x,f),y=Gv(x,M),w=Gv(T,f),z=Gv(T,M),O=Yv(s[1]),P=Yv(d[1]),D=Yv(p[1]),F=Yv(b[1]),C=Yv(m[1]),L=Yv(E[1]),q=Yv(I[1]),A=Yv(N[1]),Y=Yv(_[1]),V=Yv(f[1]),R=Yv(M[1]),k=Yv(x[1]),$=Yv(S[1]),G=Yv(T[1]),W=Yv(B[1]),j=Yv(y[1]),H=Yv(w[1]),X=Yv(z[1]);let Q=Yv(t),U=Yv(n),K=Yv(e),J=Yv(r),Z=Yv(o),tt=Yv(i),nt=Yv(u),et=Yv(c);const rt=$v(Wv(u,s),Wv(o,d)),ot=$v($v(Wv(u,p),Wv(2*o,b)),Wv(e,m)),it=$v($v(Wv(u,E),Wv(t,_)),Wv(3,$v(Wv(o,I),Wv(e,N)))),ut=$v(Gv(ot,f),Gv(it,M)),ct=$v($v(Gv(rt,x),Gv(it,T)),Gv(jv(ot),S)),st=$v($v(Wv(u,B),Gv(it,z)),Wv(3,$v(Gv(rt,y),Gv(ot,w)))),ft=Yv(it[1]),lt=nt*O+Z*P,ht=nt*D+2*Z*F+K*C;Q=nt*L+Q*Y+3*(Z*q+K*A),K=ht*V+ft*R,Z=lt*k+ft*G+2*ht*$,nt=nt*W+ft*X+3*(lt*j+ht*H),Q*=11*Av,K*=15*Av,Z*=20*Av,nt*=22*Av;const at=$v(Wv(c,s),Wv(i,d)),vt=$v($v(Wv(c,p),Wv(2*i,b)),Wv(r,m)),gt=$v($v(Wv(c,E),Wv(n,_)),Wv(3,$v(Wv(i,I),Wv(r,N)))),dt=$v(Gv(vt,f),Gv(gt,M)),pt=$v($v(Gv(at,x),Gv(gt,T)),Gv(jv(vt),S)),bt=$v($v(Wv(c,B),Gv(gt,z)),Wv(3,$v(Gv(at,y),Gv(vt,w)))),mt=Yv(gt[1]),Et=et*O+tt*P,It=et*D+2*tt*F+J*C;U=et*L+U*Y+3*(tt*q+J*A),J=It*V+mt*R,tt=Et*k+mt*G+2*It*$,et=et*W+mt*X+3*(Et*j+It*H),U*=11*Av,J*=15*Av,tt*=20*Av,et*=22*Av;const Nt=Xv(Xv(kv(it,-Q),kv(ut,-K)),Xv(kv(ct,-Z),kv(st,-nt))),_t=Qv(Qv(kv(it,+Q),kv(ut,+K)),Qv(kv(ct,+Z),kv(st,+nt)));return[[Nt,Xv(Xv(kv(gt,-U),kv(dt,-J)),Xv(kv(pt,-tt),kv(bt,-et)))],[_t,Qv(Qv(kv(gt,+U),kv(dt,+J)),Qv(kv(pt,+tt),kv(bt,+et)))]]}(t,n):3===t.length?function([[t,n],[e,r],[o,i]],[u,c]){const s=Vv(c,u),f=3*Av*Yv(s[1]),l=Vv(Rv,u),h=3*Av*Yv(l[1]),a=Hv(s,l,f,h);c=kv(a.est,a.err);const v=Vv(Rv,u),g=Gv(u,u),d=Gv(u,v),p=Gv(v,v),b=Vv(Rv,c),m=Gv(c,c),E=Gv(c,b),I=Gv(b,b),N=Yv(u[1]),_=Yv(v[1]),M=Yv(g[1]),x=Yv(d[1]),S=Yv(p[1]),T=Yv(c[1]),B=Yv(b[1]),y=Yv(m[1]),w=Yv(E[1]),z=Yv(I[1]);let O=Yv(t),P=Yv(n),D=Yv(e),F=Yv(r),C=Yv(o),L=Yv(i);const q=$v($v(Wv(o,g),Wv(2*e,d)),Wv(t,p)),A=$v(Wv(o,u),Wv(e,v)),Y=q,V=$v(Gv(c,A),Gv(b,q)),R=$v($v(Wv(o,m),Gv(jv(E),A)),Gv(I,q)),k=C*M+2*D*x+O*S,$=C*N+D*_;O=k,D=T*$+B*k,C=y*o+2*w*$+z*k,O*=7*Av,D*=11*Av,C*=14*Av;const G=$v($v(Wv(i,g),Wv(2*r,d)),Wv(n,p)),W=$v(Wv(i,u),Wv(r,v)),j=G,H=$v(Gv(c,W),Gv(b,G)),X=$v($v(Wv(i,m),Gv(jv(E),W)),Gv(I,G)),Q=L*M+2*F*x+P*S,U=L*N+F*_;P=Q,F=T*U+B*Q,L=y*i+2*w*U+z*Q,P*=7*Av,F*=11*Av,L*=14*Av;const K=Xv(Xv(kv(Y,-O),kv(V,-D)),kv(R,-C)),J=Qv(Qv(kv(Y,+O),kv(V,+D)),kv(R,+C));return[[K,Xv(Xv(kv(j,-P),kv(H,-F)),kv(X,-L))],[J,Qv(Qv(kv(j,+P),kv(H,+F)),kv(X,+L))]]}(t,n):function([[t,n],[e,r]],[o,i]){const u=Vv(i,o),c=3*Av*Yv(u[1]),s=Vv(Rv,o),f=3*Av*Yv(s[1]),l=Hv(u,s,c,f);i=kv(l.est,l.err);const h=Vv(Rv,o),a=Vv(Rv,i),v=Yv(o[1]),g=Yv(h[1]),d=Yv(i[1]),p=Yv(a[1]);let b=Yv(t),m=Yv(n),E=Yv(e),I=Yv(r);const N=$v(Wv(e,o),Wv(t,h)),_=$v(Wv(e,i),Gv(N,a));b=E*v+b*g,E=E*d+b*p,b*=3*qv,E*=7*qv;const M=$v(Wv(r,o),Wv(n,h)),x=$v(Wv(r,i),Gv(M,a));m=I*v+m*g,I=I*d+m*p,m*=3*qv,I*=7*qv;const S=Xv(kv(N,-b),kv(_,-E)),T=Qv(kv(N,+b),kv(_,+E));return[[S,Xv(kv(M,-m),kv(x,-I))],[T,Qv(kv(M,+m),kv(x,+I))]]}(t,n):function(t,n){const e=t[0],r=t[t.length-1];if(0===n[0]&&0===n[1]){const t=[0,e[0]],n=[0,e[1]];return[[t,n],[t,n]]}if(0===n[0]&&1===n[1]){const t=[0,r[0]],n=[0,r[1]];return[[t,n],[t,n]]}const o=aa(t,n);let i;if(4===t.length)i=kf(t,n).map((t=>16*Uv*t));else if(3===t.length)i=kf(t,n).map((t=>10*Uv*t));else{if(2!==t.length)throw new Error("The given bezier curve is invalid.");i=kf(t,n).map((t=>4*Uv*t))}return[[kv(o[0],-i[0]),kv(o[1],-i[1])],[kv(o[0],+i[0]),kv(o[1],+i[1])]]}(t,n[0])}const Jv=_n,Zv=vn,tg=fn,ng=En,eg=dn,rg=pn,og=gn,ig=_n,ug=vn,cg=fn,sg=En,fg=dn,lg=gn,hg=pn,ag=Mn,vg=vn,gg=mn,dg=gn,pg=ut,bg=yt,mg=S,Eg=rt,Ig=ot,Ng=Bt,_g=P;function Mg(t){const n=[];for(let e=0;e<t.length;e++)n.push(4*t[e]);return n}const xg=Math.abs,Sg=N,Tg=ut,Bg=yt,yg=Bt,wg=Number.EPSILON,zg=fo(6);function Og(t,n){const e=t.length-1;let r;if(3===e)r=Ye(function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=e[0],c=e[1],s=r[0],f=r[1],l=o[0],h=o[1],a=i[0],v=i[1],[g,d]=n,p=Jv(u,g),b=Jv(s,g),m=Jv(l,g),E=Jv(a,g),I=Jv(c,d),N=Jv(f,d),_=Jv(h,d),M=Jv(v,d),x=ng(p,p),S=tg(6,ng(p,b)),T=tg(6,ng(p,m)),B=eg(ng(p,E)),y=tg(9,ng(b,b)),w=tg(18,ng(b,m)),z=tg(6,ng(b,E)),O=tg(9,ng(m,m)),P=tg(6,ng(m,E)),D=ng(E,E),F=ng(I,I),C=tg(6,ng(I,N)),L=tg(6,ng(I,_)),q=eg(ng(I,M)),A=tg(9,ng(N,N)),Y=tg(18,ng(N,_)),V=tg(6,ng(N,M)),R=tg(9,ng(_,_)),k=tg(6,ng(_,M)),$=ng(M,M),G=Zv(z,O),W=Zv(B,w),j=Zv(T,y),H=Zv(V,R),X=Zv(q,Y),Q=Zv(L,A);return[tg(6,Zv(Zv(Zv(Zv(og(D,P),og(x,S)),G),og(j,W)),Zv(Zv(Zv(og($,k),og(F,C)),H),og(Q,X)))),tg(5,Zv(og(Zv(Zv(P,tg(5,S)),tg(3,W)),eg(Zv(Zv(G,eg(j)),tg(3,x)))),og(Zv(Zv(k,tg(5,C)),tg(3,X)),eg(Zv(Zv(H,eg(Q)),tg(3,F)))))),rg(Zv(og(og(G,tg(3,og(W,eg(j)))),tg(5,og(eg(S),tg(3,x)))),og(og(H,tg(3,og(X,eg(Q)))),tg(5,og(eg(C),tg(3,F)))))),tg(3,Zv(og(W,eg(og(eg(j),tg(5,og(S,eg(x)))))),og(X,eg(og(eg(Q),tg(5,og(C,eg(F)))))))),eg(Zv(og(j,tg(5,og(S,tg(3,x)))),og(Q,tg(5,og(C,tg(3,F)))))),Zv(og(S,tg(6,x)),og(C,tg(6,F)))]}(t,n),0,1,function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=xg(e[0]),c=xg(e[1]),s=xg(r[0]),f=xg(r[1]),l=xg(o[0]),h=xg(o[1]),a=xg(i[0]),v=xg(i[1]),g=xg(n[0]),d=xg(n[1]),p=u+g,b=s+g,m=l+g,E=a+g,I=c+d,N=f+d,_=h+d,M=v+d,x=p*p,S=6*p*b,T=6*m*E,B=I*I,y=6*I*N,w=6*_*M,z=6*b*E+9*m*m,O=2*p*E+18*b*m,P=6*p*m+9*b*b,D=6*N*M+9*_*_,F=2*I*M+18*N*_,C=6*I*_+9*N*N;return[6*(E*E+T+(x+S)+z+(P+O)+(M*M+w+(B+y)+D+(C+F))),5*(T+5*S+3*O+2*(z+2*P+3*x)+(w+5*y+3*F+2*(D+2*C+3*B))),4*(z+3*(O+2*P)+5*(2*S+3*x)+(D+3*(F+2*C)+5*(2*y+3*B))),3*(O+2*(2*P+5*(S+2*x))+(F+2*(2*C+5*(y+2*B)))),2*(P+5*(S+3*x)+(C+5*(y+3*B))),S+6*x+(y+6*B)]}(t,n).map((t=>10*zg*t)),(()=>function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=e[0],c=e[1],s=r[0],f=r[1],l=o[0],h=o[1],a=i[0],v=i[1],[g,d]=n,p=pg(u,g),b=pg(s,g),m=pg(l,g),E=pg(a,g),I=pg(c,d),N=pg(f,d),_=pg(h,d),M=pg(v,d),x=bg(p,p),S=mg(6,bg(p,b)),T=mg(6,bg(p,m)),B=Eg(bg(p,E)),y=mg(9,bg(b,b)),w=mg(18,bg(b,m)),z=mg(6,bg(b,E)),O=mg(9,bg(m,m)),P=mg(6,bg(m,E)),D=bg(E,E),F=bg(I,I),C=mg(6,bg(I,N)),L=mg(6,bg(I,_)),q=Eg(bg(I,M)),A=mg(9,bg(N,N)),Y=mg(18,bg(N,_)),V=mg(6,bg(N,M)),R=mg(9,bg(_,_)),k=mg(6,bg(_,M)),$=bg(M,M),G=Ng(z,O),W=Ng(B,w),j=Ng(T,y),H=Ng(V,R),X=Ng(q,Y),Q=Ng(L,A),U=_g(Ng(Ng(D,x),Ng(G,j)),Ng(Ng(W,P),S)),K=_g(Ng(Ng($,F),Ng(H,Q)),Ng(Ng(X,k),C)),J=mg(6,Ng(U,K)),Z=Ng(Ig(Ng(Ng(G,Eg(j)),mg(3,x))),Ng(Ng(P,mg(3,W)),mg(5,S))),tt=Ng(Ig(Ng(Ng(H,Eg(Q)),mg(3,F))),Ng(Ng(k,mg(3,X)),mg(5,C))),nt=mg(5,Ng(Z,tt)),et=Ng(Ng(G,mg(3,_g(Eg(j),W))),mg(5,_g(mg(3,x),Eg(S)))),rt=Ng(Ng(H,mg(3,_g(Eg(Q),X))),mg(5,_g(mg(3,F),Eg(C)))),ot=mg(4,Ng(et,rt)),it=_g(W,Eg(_g(Eg(j),mg(5,_g(S,Eg(x)))))),ut=_g(X,Eg(_g(Eg(Q),mg(5,_g(C,Eg(F)))))),ct=mg(3,Ng(it,ut)),st=_g(j,mg(5,_g(S,mg(3,x)))),ft=_g(Q,mg(5,_g(C,mg(3,F)))),lt=Eg(Ng(st,ft)),ht=_g(S,mg(6,x)),at=_g(C,mg(6,F));return[J,nt,ot,ct,lt,Ng(ht,at)]}(t,n)));else if(2===e)r=Ye(function(t,n){const[[e,r],[o,i],[u,c]]=t,[s,f]=n,l=ig(e,s),h=ig(o,s),a=ig(u,s),v=ig(r,f),g=ig(i,f),d=ig(c,f),p=sg(l,l),b=sg(l,h),m=sg(l,a),E=sg(h,h),I=sg(h,a),N=sg(a,a),_=sg(v,v),M=sg(v,g),x=sg(v,d),S=sg(g,g),T=sg(g,d),B=sg(d,d),y=ug(x,fg(S)),w=ug(m,fg(E));return[ug(lg(ug(ug(B,_),fg(y)),hg(ug(T,M))),lg(ug(ug(N,p),fg(w)),hg(ug(I,b)))),cg(3,ug(ug(lg(T,y),lg(cg(3,M),_)),ug(lg(I,w),lg(cg(3,b),p)))),ug(lg(y,cg(3,lg(fg(M),_))),lg(w,cg(3,lg(fg(b),p)))),ug(lg(M,_),lg(b,p))]}(t,n),0,1,function(t,n){const e=t[0],r=t[1],o=t[2],i=xg(e[0]),u=xg(e[1]),c=xg(r[0]),s=xg(r[1]),f=xg(o[0]),l=xg(o[1]),h=xg(n[0]),a=xg(n[1]),v=i+h,g=c+h,d=f+h,p=u+a,b=s+a,m=l+a,E=v*v,I=v*g,N=g*d,_=p*p,M=p*b,x=b*m,S=p*m+b*b*2,T=v*d+g*g*2;return[m*m+_+2*S+4*(x+M)+(d*d+E+2*T+4*(N+I)),3*(x+S+(3*M+_)+(N+T+(3*I+E))),S+3*(2*M+_)+(T+3*(2*I+E)),M+_+(I+E)]}(t,n).map((t=>8*zg*t)),(()=>function(t,n){const[[e,r],[o,i],[u,c]]=t,[s,f]=n,l=pg(e,s),h=pg(o,s),a=pg(u,s),v=pg(r,f),g=pg(i,f),d=pg(c,f),p=bg(l,l),b=bg(l,h),m=bg(l,a),E=bg(h,h),I=bg(h,a),N=bg(a,a),_=bg(v,v),M=bg(v,g),x=bg(v,d),S=bg(g,g),T=bg(g,d),B=bg(d,d),y=Ng(x,Eg(S)),w=Ng(m,Eg(E)),z=Ng(_g(Ng(N,Eg(w)),Mg(Ng(I,b))),p),O=Ng(_g(Ng(B,Eg(y)),Mg(Ng(T,M))),_),P=Ng(z,O),D=Ng(_g(I,w),_g(mg(3,b),p)),F=Ng(_g(T,y),_g(mg(3,M),_)),C=mg(3,Ng(D,F)),L=_g(y,mg(3,_g(Eg(M),_))),q=_g(w,mg(3,_g(Eg(b),p))),A=Ng(L,q),Y=_g(M,_),V=_g(b,p);return[P,C,A,Ng(Y,V)]}(t,n)));else if(1===e)r=Ye(function(t,n){const[[e,r],[o,i]]=t,[u,c]=n,s=e-u,f=o-u,l=r-c,h=i-c,a=ag(s,s),v=ag(s,f),g=ag(f,f),d=ag(l,l),p=ag(l,h),b=ag(h,h),m=vg(v,p),E=vg(d,a);return[vg(vg(g,b),vg(E,gg(m))),dg(m,E)]}(t,n),0,1,function(t,n){const e=t[0],r=t[1],o=xg(e[0]),i=xg(e[1]),u=xg(r[0]),c=xg(r[1]),s=xg(n[0]),f=xg(n[1]),l=o+s,h=u+s,a=i+f,v=c+f,g=l*h+a*v,d=a*a+l*l;return[h*h+v*v+2*g+d,g+d]}(t,n).map((t=>6*zg*t)),(()=>function(t,n){const[[e,r],[o,i]]=t,[u,c]=n,s=pg(e,u),f=pg(o,u),l=pg(r,c),h=pg(i,c),a=bg(s,s),v=bg(s,f),g=bg(f,f),d=bg(l,l),p=bg(l,h),b=bg(h,h),m=Ng(v,p),E=Ng(d,a);return[Ng(Ng(g,b),Ng(Ig(m),E)),_g(m,E)]}(t,n)));else{if(0!==e)throw new Error("The given bezier curve is invalid.");r=[]}r.push({tS:0,tE:0,multiplicity:1}),r.push({tS:1,tE:1,multiplicity:1});const o=r.map((e=>{const r=Hf(t,[e.tS,e.tE]);return{di:Pg(r,n),intervalBox:r,ri:e}}));let i=Number.POSITIVE_INFINITY;for(let t=0;t<o.length;t++){const n=o[t].di[1];n<i&&(i=n)}const u=[];for(let t=0;t<o.length;t++){const n=o[t];n.di[0]<=i&&u.push(n)}return u}function Pg(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],u=r[0],c=r[1],s=n[0],f=n[1];let l=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(const[t,n]of[[o,i],[o,c],[u,i],[u,c]]){const e=Tg(t,s),r=Tg(n,f),o=yg(Bg(e,e),Bg(r,r)),i=Sg(o),u=i*(1-wg),c=i*(1+wg);u<=l&&(l=u),c>=h&&(h=c)}return[l,h]}function Dg(t){let n=0;for(let e=0;e<t.length-1;e++)n+=vr(t[e],t[e+1]);return n}function Fg(t,n){const e=[0,1],r=[[0,1]],o=Rr(t);for(;r.length;){const t=r.pop();if(Dg(o(t[0],t[1]))>n){const n=(t[0]+t[1])/2;r.push([t[0],n]),r.push([n,t[1]]),e.push(n)}}return e.sort(((t,n)=>t-n)),e}function Cg(t,n,e){let r=Fg(t,e),o=[];for(let e=0;e<r.length;e++){let i=Vr(t,r[e]),u=_h(n,i);o.push({p1:i,p2:u.p,d:vr(i,u.p)})}return o}function Lg(t,n,e){let r=Cg(t,n,e),o=Number.NEGATIVE_INFINITY;for(let t of r)t.d>o&&(o=t.d);return o}function qg(t){if(So(t))return{minima:[],maxima:[],inflections:[]};if(4===t.length&&Mo(t)&&(t=wi(t)),3===t.length){const n=function(t){const[[n,e],[r,o],[i,u]]=t,c=i-r,s=c-(r-n),f=u-o,l=f-(o-e);return[s*s+l*l,-(n*(s-r)-r*(c-r)+e*(l-o)-o*(f-o))]}(t);return{minima:[],maxima:Ze(n,0,1),inflections:[]}}const n=function(t){const[[n,e,r],[o,i,u]]=cr(t),[[c,s],[f,l]]=vv(t),[h,a]=mv(t),v=h*i,g=a*e,d=s*u,p=s*i,b=f*f,m=c*u,E=l*r,I=l*e,N=f*r,_=r*e,M=r*n,x=r*o,S=e*e,T=e*n,B=e*i,y=n*u,w=n*o,z=n*n,O=u*i,P=u*o,D=i*i,F=i*o,C=o*o,L=h*u-a*r,q=s*r+l*u,A=d-E,Y=r*r+u*u,V=B+y,R=P+D,k=M+S,$=e*o+n*i,G=z-C,W=T-F,j=_-O,H=r*i+e*u,X=P+R,Q=M+k,U=x+V,K=B+V,J=Q-X,Z=V+y,tt=x+B+y,nt=2*I+N;return{inflectionPoly:[c*o-f*n,s*o+c*i-l*n-f*e,p+m-I-N,d-E],otherExtremaPoly:[z*(v-3*g)+C*(3*v-g)+2*(w*(h*e-a*i+3*(l*f-s*c))+3*c*f*W)+3*($*(b-c*c)+G*(s*f+l*c)),h*(o*(Q+3*R)+n*K)-a*(r*(3*z+C)+e*(3*T+2*F)+n*X)+3*(s*(l*G-s*w+2*(f*W-c*$))+c*(2*l*W+f*(2*(M-P)+(S-D))-c*tt)+l*(l*w+2*f*$)+b*U),h*(2*r*$+e*Z+i*(4*P+X))-a*(2*r*(3*T+F)+e*(S+2*P)+i*Z)+3*(s*(2*(l*W-c*tt)+f*J-s*$)+c*(2*f*j-c*H)+l*(l*$+2*f*U+c*J)+b*H),h*(r*(x+2*V)+u*(S+3*R))-a*(r*(3*k+X)+u*K)+3*(s*(l*J-s*U+2*(f*j-c*H))+c*(r*(nt-c*u)-u*(2*l*i+f*u))+l*(l*V+r*(2*f*i+l*o))+f*u*nt),Y*(v-g)+2*(_+O)*L-3*(q*(p+m-I-N)+(s*e+c*r+l*i+f*u)*A),L*Y-3*q*A]}}(t),e=n.inflectionPoly,r=n.otherExtremaPoly,o=Ze(r,0,1),i=Ct(r),u=[],c=[];for(let t=0;t<o.length;t++){const n=o[t],r=Ln(i,n);Ln(e,n)*r>=0?u.push(n):c.push(n)}return{minima:u,maxima:c,inflections:Ze(e,0,1)}}function Ag(t,n=1.001,e=10){const r=[0,1],o=[[0,1]],i=Rr(t);for(;o.length;){const t=o.pop(),u=i(t[0],t[1]),c=Dg(u);if(1+c/e*(c/vr(u[0],u[u.length-1])-1)>n){const n=(t[0]+t[1])/2;o.push([t[0],n]),o.push([n,t[1]]),r.push(n)}}return r.sort(((t,n)=>t-n)),r}function Yg(t,n){const e=t.length;if(0===n)return[[t[0][0]],[t[0][1]]];if(1===n)return[[t[e-1][0]],[t[e-1][1]]];const[r,o]=function(t){return 4===t.length?qo(t):3===t.length?Ao(t):Yo(t)}(t);return r[e-1]=[r[e-1]],o[e-1]=[o[e-1]],[Jn(r,n),Jn(o,n)]}function Vg(t,n){const e=(t.length-1)*(n.length-1)+1,r=Math.ceil(e/2);for(let o=1;o<e+1;o++)if(!Ys(n,Yg(t,2**(o-r))))return!1;return!0}function Rg(t){if(!So(t))return!1;const n=t.map((t=>t[0])),e=t.map((t=>t[1]));return!(kg(n)&&kg(e))}function kg(t){return function(t){for(let n=1;n<t.length;n++)if(t[n-1]>t[n])return!1;return!0}(t)||function(t){for(let n=1;n<t.length;n++)if(t[n-1]<t[n])return!1;return!0}(t)}const{sqrtWithErr:$g,divWithErr:Gg}=Tn,Wg=Math.abs,jg=Number.EPSILON/2,Hg=so(1);function Xg([t,n]){const e=-n/t,r=jg*Wg(n/t);return e+r>0&&e-r<1?[{r:e,rE:r}]:[]}function Qg([t,n,e]){if(0===t)return Xg([n,e]);const r=n*n,o=r-4*t*e,i=jg*r+4*jg*Wg(t*e)+Hg*Wg(o);if(o<=-i)return[];const{est:u,err:c}=$g(o,i);let s;s=n>=0?-n-u:-n+u;const f=c+Hg*Wg(s),{est:l,err:h}=Gg(s,2*t,f,0),{est:a,err:v}=Gg(2*e,s,0,f),g=[];return l+h>0&&l-h<1&&g.push({r:l,rE:h}),a+v>0&&a-v<1&&g.push({r:a,rE:v}),g}function Ug(t){const n=cr(t),e=Ze(n[0],0,1),r=Ze(n[1],0,1);e.push(0,1),r.push(0,1);let o,i,u,c,s=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n],[u]=Vr(t,r);u<s&&(s=u,o=r),u>f&&(f=u,i=r)}for(let n=0;n<r.length;n++){const e=r[n],[,o]=Vr(t,e);o<l&&(l=o,u=e),o>h&&(h=o,c=e)}return{ts:[[o,u],[i,c]],box:[[s,l],[f,h]]}}function Kg(t){const n=function(t){const n=t[0],e=t[t.length-1];let r,o;if(n[0]<e[0]?(r={ts:[0,0],box:[n,n]},o={ts:[1,1],box:[e,e]}):(r={ts:[1,1],box:[e,e]},o={ts:[0,0],box:[n,n]}),2===t.length)return{minX:r,maxX:o};const[i]=cr(t);let u;u=4===t.length?Qg(i):Xg(i);for(let n=0;n<u.length;n++){const e=u[n],i=[e.r-e.rE,e.r+e.rE],c=Hf(t,i);c[0][0]<r.box[0][0]&&(r={ts:i,box:c}),c[1][0]>o.box[0][0]&&(o={ts:i,box:c})}return{minX:r,maxX:o}}(t),e=function(t){const n=t[0],e=t[t.length-1];let r,o;if(n[1]<e[1]?(r={ts:[0,0],box:[n,n]},o={ts:[1,1],box:[e,e]}):(r={ts:[1,1],box:[e,e]},o={ts:[0,0],box:[n,n]}),2===t.length)return{minY:r,maxY:o};const[,i]=cr(t);let u;u=4===t.length?Qg(i):Xg(i);for(let n=0;n<u.length;n++){const e=u[n],i=[e.r-e.rE,e.r+e.rE],c=Hf(t,i);c[0][1]<r.box[0][1]&&(r={ts:i,box:c}),c[1][1]>o.box[0][1]&&(o={ts:i,box:c})}return{minY:r,maxY:o}}(t);return[[n.minX.box[0][0],e.minY.box[0][1]],[n.maxX.box[1][0],e.maxY.box[1][1]]]}function Jg(t){const[n,e]=t[0],[r,o]=t[t.length-1];let i,u;const c=Dg(t);if(256*gr(t[0],t[t.length-1])<c*c){const[r,o]=Vr(t,.5),c=Math.sqrt((r-n)*(r-n)+(o-e)*(o-e));i=(o-e)/c,u=(r-n)/c}else{const t=Math.sqrt((r-n)*(r-n)+(o-e)*(o-e));i=(o-e)/t,u=(r-n)/t}const s=function(t,n,e){const r=lr(t[0].map((t=>-t)));return Kg(t.map((t=>hr(-n,e,r(t)))))}(t,i,u),[[f,l],[h,a]]=s,v=[s[0],[h,l],s[1],[f,a]],g=hr(i,u);return v.map((n=>lr(t[0],g(n))))}function Zg(t){if(4===t.length){const[[n,e],[r,o],[i,u],[c,s]]=t;return[[n,e],[[(3*r-n)/2,(3*o-e)/2],[(3*i-c)/2,(3*u-s)/2]],[c,s]]}throw new Error("The given bezier curve is invalid (it must be a cubic)")}const td=Mn,nd=vn,ed=dn,rd=mn,od=gn,id=En,ud=fn,cd=st,sd=dt,fd=x;function ld(t,n){const{radius:e,center:r}=t,[o,i]=r,[[u,c,s,f],[l,h,a,v]]=qo(n),g=[f],d=[v];return[sd([[u,u],[l,l]]),fd(sd([[c,u],[h,l]]),2),sd([[[2],s,u],[c,c],[[2],a,l],[h,h]]),fd(sd([[g,u],[s,c],[[-1],u,[o]],[d,l],[a,h],[[-1],l,[i]]]),2),sd([[[2],g,c],[s,s],[[-2],c,[o]],[[2],d,h],[a,a],[[-2],h,[i]]]),fd(sd([[g,s],[[-1],s,[o]],[d,a],[[-1],a,[i]]]),2),sd([[g,g],[[-2],g,[o]],[d,d],[[-2],d,[i]],[cd(o,o)],[cd(i,i)],[cd(-e,e)]])]}function hd(t,n){const{radius:e,center:r}=t,[o,i]=r,[[u,c,s],[f,l,h]]=Ao(n),a=[s],v=[h];return[sd([[u,u],[f,f]]),fd(sd([[c,u],[l,f]]),2),sd([[[2],a,u],[c,c],[[-2],u,[o]],[[2],v,f],[l,l],[[-2],f,[i]]]),fd(sd([[a,c],[[-1],c,[o]],[v,l],[[-1],l,[i]]]),2),sd([[a,a],[[-2],a,[o]],[v,v],[[-2],v,[i]],[cd(o,o)],[cd(i,i)],[cd(-e,e)]])]}function ad(t,n){const{radius:e,center:r}=t,[o,i]=r,[[u,c],[s,f]]=Yo(n),l=[c],h=[f];return[sd([[u,u],[s,s]]),fd(sd([[l,u],[[-1],u,[o]],[h,s],[[-1],s,[i]]]),2),sd([[l,l],[[-2],l,[o]],[h,h],[[-2],h,[i]],[cd(o,o)],[cd(i,i)],[cd(-e,e)]])]}const vd=Math.abs,gd=fo(6);function dd(t,n){let e,r,o;if(4===n.length)e=function(t,n){const{radius:e,center:[r,o]}=t,[[i,u,c,s],[f,l,h,a]]=Ca(n);return[nd(id(i,i),id(f,f)),ed(nd(id(u,i),id(l,f))),nd(ed(nd(id(c,i),id(h,f))),nd(id(u,u),id(l,l))),nd(nd(nd(ud(2*s,i),id(ed(c),u)),nd(ud(2*a,f),id(ed(h),l))),nd(ud(-2*r,i),ud(-2*o,f))),nd(nd(nd(ud(2*s,u),ud(2*a,l)),nd(id(c,c),id(h,h))),nd(ud(-2*r,u),ud(-2*o,l))),od(nd(ud(2*s,c),ud(2*a,h)),nd(ud(2*r,c),ud(2*o,h))),nd(rd(nd(td(s,r),td(a,o))),od(nd(nd(td(s,s),td(a,a)),nd(td(r,r),td(o,o))),td(e,e)))]}(t,n),r=function(t,n){const{radius:e,center:[r,o]}=t,[[i,u,c],[s,f,l]]=hs(n),h=n[0],a=vd(h[0]),v=vd(h[1]),g=vd(r),d=vd(o);return[i*i+s*s,2*(u*i+f*s),2*(c*i+l*s)+(u*u+f*f),2*(a*i+c*u+(v*s+l*f)+(i*g+s*d)),2*(a*u+v*f)+(c*c+l*l)+2*(u*g+f*d),2*(a*c+v*l+(c*g+l*d)),2*(a*g+v*d)+(a*a+v*v+(g*g+d*d)+e*e)]}(t,n),o=ld;else if(3===n.length)e=function(t,n){const{radius:e,center:[r,o]}=t,[[i,u,c],[s,f,l]]=La(n);return[nd(id(i,i),id(s,s)),nd(id(ed(u),i),id(ed(f),s)),nd(nd(nd(ud(2*c,i),ud(2*l,s)),nd(id(u,u),id(f,f))),nd(ud(-2*r,i),ud(-2*o,s))),nd(nd(ud(2*c,u),ud(2*l,f)),nd(ud(-2*r,u),ud(-2*o,f))),nd(nd(nd(td(c,c),td(l,l)),nd(td(-2*c,r),td(-2*l,o))),od(nd(td(r,r),td(o,o)),td(e,e)))]}(t,n),r=function(t,n){const{radius:e,center:[r,o]}=t,[[i,u],[c,s]]=ls(n),f=n[0],l=vd(f[0]),h=vd(f[1]),a=vd(r),v=vd(o);return[i*i+c*c,2*(u*i+s*c),2*(l*i+h*c)+(u*u+s*s)+2*(i*a+c*v),2*(l*u+h*s+(u*a+s*v)),l*l+h*h+2*(l*a+h*v)+(a*a+v*v+e*e)]}(t,n),o=hd;else{if(2!==n.length)throw new Error("The given bezier curve is invalid");e=function(t,n){const{radius:e,center:[r,o]}=t,[[i,u],[c,s]]=qa(n);return[nd(id(i,i),id(c,c)),ed(od(nd(ud(u,i),ud(s,c)),nd(ud(r,i),ud(o,c)))),nd(nd(rd(nd(td(u,r),td(s,o))),nd(td(u,u),td(s,s))),od(nd(td(r,r),td(o,o)),td(e,e)))]}(t,n),r=function(t,n){const{radius:e,center:[r,o]}=t,[[i],[u]]=fs(n),c=n[0],s=vd(c[0]),f=vd(c[1]),l=vd(r),h=vd(o);return[i*i+u*u,2*(s*i+f*u+(i*l+u*h)),2*(s*l+f*h)+(s*s+f*f)+(l*l+h*h+e*e)]}(t,n),o=ad}return Ye(e,0,1,r.map((t=>gd*t)),(()=>o(t,n)))}function pd(t,n){const e=t.length;if(0===n)return t[0];if(1===n)return t[e-1];const[r,o]=rr(t);return[Ln(r,n),Ln(o,n)]}function bd(t,n){const[e,r]=vv(t),o=t=>[Ln(e,t),Ln(r,t)];return void 0===n?o:o(n)}function md(t,n){const[e,r]=cr(t),o=t=>[Ln(e,t),Ln(r,t)];return void 0===n?o:o(n)}const Ed=function(t,n=!1){if(!t.length)return;function e(t,e,r){let o=St(t,e,r);return n?o<0:o<=0}let r=t.slice(),o=r.length,i=function(t){let n,e=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY];for(let r=0;r<t.length;r++){let o=t[r][1];(o<e[1]||o===e[1]&&t[r][0]<e[0])&&(n=r,e=t[r])}return n}(r),[u]=r.splice(i,1);r.sort(((t,n)=>{let e=-St(u,t,n);return 0!==e?e:(e=t[1]-n[1],0!==e?e:t[0]-n[0])})),r.unshift(u);let c=1;for(let t=2;t<o;t++){for(;e(r[c-1],r[c],r[t]);)if(c>1)c-=1;else{if(t===o-1){c-=1;break}t+=1}c+=1,zt(r,c,t)}return r.slice(0,c+1)};function Id(t){if(4===t.length){const[[n,e],[r,o],[i,u],[c,s]]=t;return`[[${n},${e}],[${r},${o}],[${i},${u}],[${c},${s}]]`}if(3===t.length){const[[n,e],[r,o],[i,u]]=t;return`[[${n},${e}],[${r},${o}],[${i},${u}]]`}if(2===t.length){const[[n,e],[r,o]]=t;return`[[${n},${e}],[${r},${o}]]`}if(1===t.length){const[[n,e]]=t;return`[[${n},${e}]]`}}FloBezier=n})();