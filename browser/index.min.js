var FloBezier=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=37)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);function o(e,t){let n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function i(e,t){return Math.sqrt(o(e,t))}function u(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function s(e){return e[0]*e[0]+e[1]*e[1]}function l(e,t,n){return e[0]*(t[1]*n[2]-t[2]*n[1])-e[1]*(t[0]*n[2]-t[2]*n[0])+e[2]*(t[0]*n[1]-t[1]*n[0])}function c(e,t){function n(t){return[e[0]+t[0],e[1]+t[1]]}return void 0===t?n:n(t)}t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},t.cross=function(e,t){return e[0]*t[1]-e[1]*t[0]},t.ccw=function(e,t,n){return r.orient2d(e,t,n)},t.segSegIntersection=function(e,t){let[n,o]=e,[i,u]=t,[s,l]=n,[c,a]=o,[f,d]=i,[p,g]=u,h=r.expansionDiff(r.expansionProduct(r.twoDiff(c,s),r.twoDiff(g,d)),r.expansionProduct(r.twoDiff(a,l),r.twoDiff(p,f))),b=r.expansionDiff(r.expansionProduct(r.twoDiff(l,d),r.twoDiff(p,f)),r.expansionProduct(r.twoDiff(s,f),r.twoDiff(g,d))),v=r.expansionDiff(r.expansionProduct(r.twoDiff(l,d),r.twoDiff(c,s)),r.expansionProduct(r.twoDiff(s,f),r.twoDiff(a,l)));if(0!==h[h.length-1]){if(r.sign(b)*r.sign(h)>=0&&r.compare(r.abs(h),r.abs(b))>=0&&r.sign(v)*r.sign(h)>=0&&r.compare(r.abs(h),r.abs(v))>=0){r.estimate(b),r.estimate(h);return[r.estimate(r.twoSum(r.estimate(r.expansionProduct(r.twoDiff(c,s),b))/r.estimate(h),s)),r.estimate(r.twoSum(r.estimate(r.expansionProduct(r.twoDiff(a,l),b))/r.estimate(h),l))]}}else b[b.length-1]},t.doesSegSegIntersect=function(e,t){return!(r.orient2d(e[0],e[1],t[0])*r.orient2d(e[0],e[1],t[1])>0)&&!(r.orient2d(t[0],t[1],e[0])*r.orient2d(t[0],t[1],e[1])>0)},t.squaredDistanceBetween=o,t.scale=function(e,t){return[e[0]*t,e[1]*t]},t.reverse=function(e){return[-e[0],-e[1]]},t.toUnitVector=function(e){let t=1/u(e);return[e[0]*t,e[1]*t]},t.toLength=function(e,t){let n=t/u(e);return[e[0]*n,e[1]*n]},t.fromTo=function(e,t){return[t[0]-e[0],t[1]-e[1]]},t.interpolate=function(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]},t.mean=function(e){let t=e[0],n=e[1];return[(t[0]+n[0])/2,(t[1]+n[1])/2]},t.distanceBetween=i,t.len=u,t.lengthSquared=s,t.manhattanDistanceBetween=function(e,t){return Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])},t.manhattanLength=function(e){return Math.abs(e[0])+Math.abs(e[1])},t.distanceBetweenPointAndLine=function(e,t){let[n,r]=e,[[o,i],[u,s]]=t,l=s-i,c=u-o,a=l*n-c*r+u*i-s*o,f=Math.sqrt(c*c+l*l);return Math.abs(a/f)},t.squaredDistanceBetweenPointAndLineSegment=function(e,t){const n=o;let r=t[0],i=t[1],u=n(r,i);if(0==u)return n(e,r);let s=((e[0]-r[0])*(i[0]-r[0])+(e[1]-r[1])*(i[1]-r[1]))/u;return s=Math.max(0,Math.min(1,s)),n(e,[r[0]+s*(i[0]-r[0]),r[1]+s*(i[1]-r[1])])},t.circumCenter=function(e){let t=e[0],n=e[1],r=e[2];const o=s;let i=.5*l([o(t),t[1],1],[o(n),n[1],1],[o(r),r[1],1]),u=.5*l([t[0],o(t),1],[n[0],o(n),1],[r[0],o(r),1]),c=l([t[0],t[1],1],[n[0],n[1],1],[r[0],r[1],1]);return[i/c,u/c]},t.inCenter=function(e){const t=i;let n=e[0],r=e[1],o=e[2],u=t(r,o),s=t(n,o),l=t(n,r),c=u+s+l;return[(u*n[0]+s*r[0]+l*o[0])/c,(u*n[1]+s*r[1]+l*o[1])/c]},t.centroid=function(e){if(3===e.length){let t=e[0],n=e[1],r=e[2];return[(t[0]+n[0]+r[0])/3,(t[1]+n[1]+r[1])/3]}let t=0;for(let n=0;n<e.length;n++){let r=e[n],o=n===e.length-1?e[0]:e[n+1];t+=r[0]*o[1]-o[0]*r[1]}t/=2;let n=[0,0];for(let t=0;t<e.length;t++){let r=e[t],o=t===e.length-1?e[0]:e[t+1];n[0]=n[0]+(r[0]+o[0])*(r[0]*o[1]-o[0]*r[1]),n[1]=n[1]+(r[1]+o[1])*(r[0]*o[1]-o[0]*r[1])}return[n[0]/(6*t),n[1]/(6*t)]},t.det3=l,t.translate=c;let a=(f=c,function(e,t){let n=f(e),r=e=>e.map(n);return void 0===t?r:r(t)});var f;t.translatePs=a;let d=function(e){return function(t,n,r){let o=e(t,n),i=e=>e.map(o);return void 0===r?i:i(r)}}(p);function p(e,t,n){a([1,2]);function r(n){return[n[0]*t-n[1]*e,n[0]*e+n[1]*t]}return void 0===n?r:r(n)}t.rotatePs=d,t.rotate=p,t.equal=function(e,t){return e[0]===t[0]&&e[1]===t[1]},t.reverseRotate=function(e,t,n){return[+n[0]*t+n[1]*e,-n[0]*e+n[1]*t]},t.rotate90Degrees=function(e){return[-e[1],e[0]]},t.rotateNeg90Degrees=function(e){return[e[1],-e[0]]},t.getClosestTo=function(e,t){let n=void 0,r=Number.POSITIVE_INFINITY;for(let i=0;i<t.length;i++){let u=t[i],s=o(e,u);s<r&&(n=u,r=s)}return n},t.getObjClosestTo=function(e,t,n){let r=void 0,i=Number.POSITIVE_INFINITY;for(let u=0;u<t.length;u++){let s=t[u],l=o(e,n(s));l<i&&(r=s,i=l)}return r},t.translateThenRotatePs=function(e,t,n,r){const o=c(e);return r.map(e=>p(t,n,o(e)))},t.rotateThenTranslatePs=function(e,t,n,r){return r.map(r=>c(n,p(e,t,r)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(13);t.equal=r.equal,t.add=r.add,t.subtract=r.subtract,t.multiplyByConst=r.multiplyByConst,t.negate=r.negate,t.differentiate=r.differentiate,t.multiply=r.multiply,t.degree=r.degree,t.evaluate=r.evaluate,t.evaluateAt0=r.evaluateAt0,t.signChanges=r.signChanges,t.invert=r.invert,t.changeVariables=r.changeVariables,t.reflectAboutYAxis=r.reflectAboutYAxis,t.sturmChain=r.sturmChain,t.clip=r.clip,t.clip0=r.clip0,t.deflate=r.deflate,t.maxCoefficient=r.maxCoefficient,t.toCasStr=r.toCasStr;const o=n(38);t.quadraticRoots=o.quadraticRoots,t.numRootsWithin=o.numRootsWithin,t.brent=o.brent,t.bisection=o.bisection;const i=n(39);t.rootMagnitudeUpperBound_fujiwara=i.rootMagnitudeUpperBound_fujiwara,t.positiveRootUpperBound_LMQ=i.positiveRootUpperBound_LMQ,t.positiveRootLowerBound_LMQ=i.positiveRootLowerBound_LMQ,t.negativeRootUpperBound_LMQ=i.negativeRootUpperBound_LMQ,t.negativeRootLowerBound_LMQ=i.negativeRootLowerBound_LMQ,t.rootMagnitudeUpperBound_rouche=i.rootMagnitudeUpperBound_rouche;const u=n(76);t.allRoots=u.allRoots;const s=n(77);t.flatRoots=s.flatRoots,t.flatRootsArr=s.flatRootsArr,t.flatCoefficients=s.flatCoefficients,t.flatCoefficientsArr=s.flatCoefficientsArr,t.predictiveRandom=s.predictiveRandom;const l=n(78);t.hornerErrorBound=l.hornerErrorBound;const c=n(40);t.fromRoots=c.fromRoots},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DEFAULT_CLASS="red thin10 nofill "},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.evaluate=function(e,t){const n=e.length;return void 0===t?r:r(t);function r(t){if(0===t)return e[0];if(1===t)return e[n-1];let r=1-t;if(4===e.length){let[[n,o],[i,u],[s,l],[c,a]]=e;return[n*Math.pow(r,3)+3*i*Math.pow(r,2)*t+3*s*r*Math.pow(t,2)+c*Math.pow(t,3),o*Math.pow(r,3)+3*u*Math.pow(r,2)*t+3*l*r*Math.pow(t,2)+a*Math.pow(t,3)]}if(3===e.length){let[[n,o],[i,u],[s,l]]=e;return[n*Math.pow(r,2)+2*i*r*t+s*Math.pow(t,2),o*Math.pow(r,2)+2*u*r*t+l*Math.pow(t,2)]}if(2===e.length){let[[n,o],[i,u]]=e;return[n*r+i*t,o*r+u*t]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.XMLNS="http://www.w3.org/2000/svg"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7);t.compress=r.compress;const o=n(79);t.compare=o.compare;const i=n(80);t.abs=i.abs;const u=n(42);t.estimate=u.estimate;const s=n(19);t.expansionDiff=s.expansionDiff;const l=n(8);t.fastExpansionSum=l.fastExpansionSum;const c=n(81);t.fastTwoDiff=c.fastTwoDiff;const a=n(20);t.fastTwoSum=a.fastTwoSum;const f=n(23);t.growExpansion=f.growExpansion;const d=n(43);t.isAdjacent=d.isAdjacent;const p=n(44);t.isOverlapping=p.isOverlapping,t.isNonOverlapping=p.isNonOverlapping,t.isNonOverlappingAll=p.isNonOverlappingAll;const g=n(41);t.merge=g.merge;const h=n(21);t.negativeOf=h.negativeOf;const b=n(82);t.orient2d=b.orient2d;const v=n(26);t.scaleExpansion=v.scaleExpansion;const _=n(47);t.split=_.split;const m=n(48);t.twoDiff=m.twoDiff;const M=n(16);t.twoProduct=M.twoProduct;const P=n(9);t.twoSum=P.twoSum;const x=n(83);t.reduceSignificand=x.reduceSignificand;const y=n(49);t.expansionProduct=y.expansionProduct;const w=n(24);t.parseDouble=w.parseDouble,t.parseDoubleDetailed=w.parseDoubleDetailed;const S=n(84);t.isBitAligned=S.isBitAligned;const O=n(85);t.msbExponent=O.msbExponent;const D=n(86);t.lsbExponent=D.lsbExponent;const N=n(22);t.sign=N.sign;const T=n(87);t.bitLength=T.bitLength;const E=n(88);t.calculate=E.calculate;const I=n(89);t.calculateSum=I.calculateSum;const j=n(14);t.exponent=j.exponent;const A=n(45);t.significand=A.significand;const B=n(90);t.binaryStringToDouble=B.binaryStringToDouble;const L=n(46);t.doubleToBinaryString=L.doubleToBinaryString;const C=n(25);t.doubleToOctets=C.doubleToOctets;const z=n(50);t.octetsToDouble=z.octetsToDouble;const F=n(10);t.getHighestSetBit=F.getHighestSetBit,t.getLowestSetBit=F.getLowestSetBit;const R=n(91);t.isValid=R.isValid},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getY=function(e){if(4===e.length){let[[,t],[,n],[,r],[,o]]=e;return[o-3*r+3*n-t,3*r-6*n+3*t,3*n-3*t,t]}if(3===e.length){let[[,t],[,n],[,r]]=e;return[r-2*n+t,2*n-2*t,t]}if(2===e.length){let[[,t],[,n]]=e;return[n-t,t]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compress=function(e){let t=e.slice(),n=t.length;if(1===t.length)return t;let r=t[t.length-1],o=n;for(let e=n-2;e>=0;--e){let n=r,i=t[e],u=i-((r=n+i)-n);u&&(t[--o]=r,r=u)}let i=0;for(let e=o;e<n;++e){let n=t[e],o=r-((r=n+r)-n);o&&(t[i++]=o)}return t[i++]=r,t.length=i,0===t.length?[0]:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(41),o=n(20),i=n(9),u=n(7);t.fastExpansionSum=function(e,t){let n=r.merge(e,t);if(1===n.length)return n;let s,l=n.length,c=new Array(l);[c[0],s]=o.fastTwoSum(n[1],n[0]);for(let e=2;e<l;e++)[c[e-1],s]=i.twoSum(s,n[e]);return c[l-1]=s,u.compress(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.twoSum=function(e,t){let n=e+t,r=n-e;return[e-(n-r)+(t-r),n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(45);function o(e){return Math.log2(e&-e)}function i(e){return e>=128?7:e>=64?6:e>=32?5:e>=16?4:e>=8?3:e>=4?2:e>=2?1:e>=1?0:NaN}t.getLowestSetBit=function(e){if(0===e||!Number.isFinite(e))return NaN;let t=r.significand(e),n=t.length;for(let e=n-1;e>=0;e--){if(0===t[e])continue;let r=o(t[e]);if(Number.isFinite(r))return 8*(n-e-1)+r}return NaN},t.getHighestSetBit=function(e){if(0===e||!Number.isFinite(e))return NaN;let t=r.significand(e),n=t.length;for(let e=0;e<n;e++){let r=i(t[e]);if(Number.isFinite(r))return 8*(n-e-1)+r}return NaN}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getX=function(e){if(4===e.length){let[[t],[n],[r],[o]]=e;return[o-3*r+3*n-t,3*r-6*n+3*t,3*n-3*t,t]}if(3===e.length){let[[t],[n],[r]]=e;return[r-2*n+t,2*n-2*t,t]}if(2===e.length){let[[t],[n]]=e;return[n-t,t]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);t.splitAt=function(e,t){return 2===e.length?function(e,t){let[[n,r],[o,i]]=e,u=1-t,s=[u*n+t*o,u*r+t*i];return[[[n,r],s],[s,[o,i]]]}(e,t):3===e.length?function(e,t){let[[n,r],[o,i],[u,s]]=e,l=1-t,c=[n*Math.pow(l,2)+2*o*l*t+u*Math.pow(t,2),r*Math.pow(l,2)+2*i*l*t+s*Math.pow(t,2)];return[[[n,r],[n*l+o*t,r*l+i*t],c],[c,[o*l+u*t,i*l+s*t],[u,s]]]}(e,t):4===e.length?function(e,t){let[[n,r],[o,i],[u,s],[l,c]]=e,a=1-t,f=[l*Math.pow(t,3)+3*u*a*Math.pow(t,2)+3*o*Math.pow(a,2)*t+n*Math.pow(a,3),c*Math.pow(t,3)+3*s*a*Math.pow(t,2)+3*i*Math.pow(a,2)*t+r*Math.pow(a,3)],d=[[n,r],[o*t+n*a,i*t+r*a],[u*Math.pow(t,2)+2*o*a*t+n*Math.pow(a,2),s*Math.pow(t,2)+2*i*a*t+r*Math.pow(a,2)],f],p=[f,[l*Math.pow(t,2)+2*u*t*a+o*Math.pow(a,2),c*Math.pow(t,2)+2*s*t*a+i*Math.pow(a,2)],[l*t+u*a,c*t+s*a],[l,c]];return[d,p]}(e,t):[]},t.splitAtPrecise=function(e,t){return 2===e.length?function(e,t){let[[n,o],[i,u]]=e,s=1-t,l=[r.estimate(r.fastExpansionSum(r.twoProduct(s,n),r.twoProduct(t,i))),r.estimate(r.fastExpansionSum(r.twoProduct(s,o),r.twoProduct(t,u)))];return[[[n,o],l],[l,[i,u]]]}(e,t):3===e.length?function(e,t){let[[n,o],[i,u],[s,l]]=e,c=1-t,a=r.twoProduct(t,t),f=r.twoProduct(c,c),d=r.twoProduct(c,t),p=[r.estimate(r.calculateSum([r.scaleExpansion(f,n),r.scaleExpansion(d,2*i),r.scaleExpansion(a,s)])),r.estimate(r.calculateSum([r.scaleExpansion(f,o),r.scaleExpansion(d,2*u),r.scaleExpansion(a,l)]))],g=[[n,o],[r.estimate(r.fastExpansionSum(r.twoProduct(n,c),r.twoProduct(i,t))),r.estimate(r.fastExpansionSum(r.twoProduct(o,c),r.twoProduct(u,t)))],p],h=[p,[r.estimate(r.fastExpansionSum(r.twoProduct(i,c),r.twoProduct(s,t))),r.estimate(r.fastExpansionSum(r.twoProduct(u,c),r.twoProduct(l,t)))],[s,l]];return[g,h]}(e,t):4===e.length?function(e,t){let[[n,o],[i,u],[s,l],[c,a]]=e,f=1-t,d=r.twoProduct(f,f),p=r.scaleExpansion(d,f),g=r.twoProduct(t,t),h=r.scaleExpansion(g,t),b=r.twoProduct(f,t),v=r.scaleExpansion(g,f),_=r.scaleExpansion(d,t),m=[r.estimate(r.calculateSum([r.scaleExpansion(h,c),r.scaleExpansion(v,3*s),r.scaleExpansion(_,3*i),r.scaleExpansion(p,n)])),r.estimate(r.calculateSum([r.scaleExpansion(h,a),r.scaleExpansion(v,3*l),r.scaleExpansion(_,3*u),r.scaleExpansion(p,o)]))],M=[[n,o],[r.estimate(r.fastExpansionSum(r.twoProduct(i,t),r.twoProduct(n,f))),r.estimate(r.fastExpansionSum(r.twoProduct(u,t),r.twoProduct(o,f)))],[r.estimate(r.calculateSum([r.scaleExpansion(g,s),r.scaleExpansion(b,2*i),r.scaleExpansion(d,n)])),r.estimate(r.calculateSum([r.scaleExpansion(g,l),r.scaleExpansion(b,2*u),r.scaleExpansion(d,o)]))],m],P=[m,[r.estimate(r.calculateSum([r.scaleExpansion(g,c),r.scaleExpansion(b,2*s),r.scaleExpansion(d,i)])),r.estimate(r.calculateSum([r.scaleExpansion(g,a),r.scaleExpansion(b,2*l),r.scaleExpansion(d,u)]))],[r.estimate(r.fastExpansionSum(r.twoProduct(c,t),r.twoProduct(s,f))),r.estimate(r.fastExpansionSum(r.twoProduct(a,t),r.twoProduct(l,f)))],[c,a]];return[M,P]}(e,t):[]}},function(e,t,n){"use strict";function r(e,t){let n=e.length-1,r=t.length-1,o=n-r,i=0,u=0;o>0?u=-o:o<0&&(i=+o);let l=Math.max(n,r),c=[];for(let n=0;n<l+1;n++){let r=e[n+i],o=t[n+u];c.push((r||0)-(o||0))}return s(c)}function o(e){let t=[],n=e.length-1;for(let r=0;r<n;r++)t.push((n-r)*e[r]);return t}function i(e,t){let n=e.length-1,r=t.length-1,o=n+r,i=new Array(o+1).fill(0);for(let u=0;u<n+1;u++)for(let s=0;s<r+1;s++)i[o-(u+s)]+=e[n-u]*t[r-s];return s(i)}function u(e,t){if(0===e)return[];let n=t.length-1,r=[];for(let o=0;o<n+1;o++)r.push(e*t[o]);return s(r)}function s(e){return 0!==e[0]?e:s(e.slice(1))}function l(e){let t=0;for(let n=0;n<e.length;n++){let r=Math.abs(e[n]);r>t&&(t=r)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.equal=function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},t.add=function(e,t){let n=e.length-1,r=t.length-1,o=n-r,i=0,u=0;o>0?u=-o:o<0&&(i=+o);let l=Math.max(n,r),c=[];for(let n=0;n<l+1;n++){let r=e[n+i],o=t[n+u];c.push((r||0)+(o||0))}return s(c)},t.subtract=r,t.negate=function(e){return u(-1,e)},t.differentiate=o,t.multiply=i,t.multiplyByConst=u,t.degree=function(e){return e.length-1},t.evaluate=function(e,t){function n(t){if(0===e.length)return 0;let n=e[0];for(let r=1;r<e.length;r++)n=e[r]+n*t;return n}return void 0===t?n:n(t)},t.evaluateAt0=function(e){return e[e.length-1]},t.signChanges=function(e){let t=e.length-1,n=0,r=Math.sign(e[0]);for(let o=1;o<t+1;o++){let t=Math.sign(e[o]);t!==r&&0!==t&&(n++,r=t)}return n},t.deflate=function(e,t){let n=e.length-1,r=[e[0]];for(let o=1;o<n;o++)r.push(e[o]+t*r[o-1]);return r},t.invert=function(e){return e.slice().reverse()},t.changeVariables=function(e,t,n){let r=e.length-1,o=[];for(let e=0;e<r+1;e++)o.push(new Array(r+1).fill(0));o[0][0]=1;for(let e=1;e<=r;e++){o[0][e]=n*o[0][e-1];for(let r=1;r<=e;r++)o[r][e]=n*o[r][e-1]+t*o[r-1][e-1]}let i=new Array(r+1).fill(0);for(let t=0;t<=r;t++){i[r-t]=0;for(let n=t;n<=r;n++){let u=o[t][n]*e[r-n];i[r-t]+=u}}return i},t.reflectAboutYAxis=function(e){let t=e.length-1,n=e.slice();for(let e=0;e<t+1;e++)e%2&&(n[e]=-n[e]);return n},t.sturmChain=function(e){function t(e,t){e.length,t.length;let n=e[1]/e[0]-t[1]/t[0];return r(i(u(e[0]/t[0],t),[1,n]),e)}let n=[];n.push(e),n.push(o(e));let s=1;for(;n[s].length-1>0;){let e=t(n[s-1],n[s]);for(;n[s].length-e.length<1;)e.shift();n.push(e),s++}return n},t.clip=function e(t,n){n=void 0===n?Number.EPSILON:n;let r=l(t);if(0===r)return[];if(Math.abs(t[0])>n*r)return t;let o=t.slice(1);for(;Math.abs(o[0])<n*r;)o=o.slice(1);return e(o,n)},t.clip0=s,t.maxCoefficient=l,t.toCasStr=function(e){let t=e.length-1,n="";for(let r=0;r<t+1;r++){let o=e[r].toString();n+=r===t?o:r===t-1?"x*"+o+" + ":"x^"+(t-r).toString()+"*"+o+" + "}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(24);t.exponent=function(e){return r.parseDouble(e).exponent}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(12);t.fromTo=function(e){return function(t,n){let i,u=t>n;if(t>n&&([t,n]=[n,t]),0===t&&1===n)i=e;else if(0===t)i=o.splitAt(e,n)[0];else if(1===n)i=o.splitAt(e,t)[1];else if(t===n){let n=r.evaluate(e,t);if(2===e.length)return[n,n];if(3===e.length)return[n,n,n];if(4===e.length)return[n,n,n,n]}else i=o.splitAt(o.splitAt(e,t)[1],(n-t)/(1-t))[0];return u?i.slice().reverse():i}},t.fromToPrecise=function(e){return function(t,n){let i,u=t>n;if(t>n&&([t,n]=[n,t]),0===t&&1===n)i=e;else if(0===t)i=o.splitAtPrecise(e,n)[0];else if(1===n)i=o.splitAtPrecise(e,t)[1];else if(t===n){let n=r.evaluate(e,t);if(2===e.length)return[n,n];if(3===e.length)return[n,n,n];if(4===e.length)return[n,n,n,n]}else i=o.splitAtPrecise(o.splitAtPrecise(e,t)[1],(n-t)/(1-t))[0];return u?i.slice().reverse():i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(47);t.twoProduct=function(e,t){let n=e*t,[o,i]=r.split(e),[u,s]=r.split(t);return[i*s-(n-o*u-i*u-o*s),n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="function"==typeof WeakMap;t.memoize=function(e){if(!r)return e;let t=new WeakMap;return function(n){let r=t.get(n);return void 0!==r?r:(r=e(n),t.set(n,r),r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.lengthUpperBound=function(e){let t=0;for(let n=0;n<e.length-1;n++)t+=r.distanceBetween(e[n],e[n+1]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),o=n(21);t.expansionDiff=function(e,t){let n=o.negativeOf(t);return r.fastExpansionSum(e,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fastTwoSum=function(e,t){let n=e+t;return[t-(n-e),n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.negativeOf=function(e){let t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=-e[r];return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sign=function(e){return 0===e.length?0:Math.sign(e[e.length-1])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),o=n(7);t.growExpansion=function(e,t){let n=e.length,i=t,u=new Array(n+1);for(let t=0;t<n;t++)[u[t],i]=r.twoSum(i,e[t]);return u[n]=i,o.compress(u)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(46),o=n(25);t.parseDouble=function(e){let t=o.doubleToOctets(e),n=t[0],r=t[1],i=n>>7,u=((127&n)<<4)+((240&r)>>4),s=0===u?0:16,l=0===u?u-1022:u-1023,c=t.slice(1);return c[0]=(15&r)+s,{sign:i,exponent:l,significand:c}},t.parseDoubleDetailed=function(e){let t=r.doubleToBinaryString(e),[,n,o,i]=t.match(/^(.)(.{11})(.{52})$/),u=0===parseInt(o,2)?"0":"1";return{full:n+o+u+i,sign:n,exponent:o,hidden:u,significand:i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doubleToOctets=function(e){var t=new ArrayBuffer(8);return new DataView(t).setFloat64(0,e,!1),Array.from(new Uint8Array(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),o=n(9),i=n(20),u=n(7);t.scaleExpansion=function(e,t){let n,s,l=e.length,c=new Array(2*l);[c[0],n]=r.twoProduct(e[0],t);for(let u=1;u<l;u++){let[l,a]=r.twoProduct(e[u],t);[c[2*u-1],s]=o.twoSum(n,l),[c[2*u],n]=i.fastTwoSum(a,s)}return c[2*l-1]=n,u.compress(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDx=function(e){if(4===e.length){let[[t],[n],[r],[o]]=e;return[3*o-9*r+9*n-3*t,6*r-12*n+6*t,3*n-3*t]}if(3===e.length){let[[t],[n],[r]]=e;return[2*r-4*n+2*t,2*n-2*t]}if(2===e.length){let[[t],[n]]=e;return[n-t]}return[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDy=function(e){if(4===e.length){let[[,t],[,n],[,r],[,o]]=e;return[3*o-9*r+9*n-3*t,6*r-12*n+6*t,3*n-3*t]}if(3===e.length){let[[,t],[,n],[,r]]=e;return[2*r-4*n+2*t,2*n-2*t]}if(2===e.length){let[[,t],[,n]]=e;return[n-t]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(27);t.evaluateDx=function(e,t){const n=o.getDx(e),i=r.evaluate(n);return void 0===t?i:i(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(28);t.evaluateDy=function(e,t){const n=o.getDy(e),i=r.evaluate(n);return void 0===t?i:i(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(64),o=n(3),i=n(0),u=n(1);t.closestPointOnBezier=function(e,t){let n=r.getTangentPolyFromPoint(e,t),s=u.allRoots(n,0,1);s.push(0),s.push(1);let l=o.evaluate(e),c=s.map(e=>({p:l(e),t:e})),a=Number.POSITIVE_INFINITY,f=void 0;return c.forEach(e=>{let n=i.squaredDistanceBetween(e.p,t);n<a&&(a=n,f=e)}),f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(4);t.circle=function(e,t,n=r.DEFAULT_CLASS,i){let u=t.center,s=t.radius,l=document.createElementNS(o.XMLNS,"circle");return l.setAttributeNS(null,"cx",u[0].toString()),l.setAttributeNS(null,"cy",u[1].toString()),l.setAttributeNS(null,"r",s.toString()),l.setAttributeNS(null,"class",n),e.appendChild(l),i&&setTimeout(()=>l.remove(),i),[l]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(32),i=n(34);t.crossHair=function(e,t,n=r.DEFAULT_CLASS,u=3,s){let l={center:t,radius:u},c=o.circle(e,l,n),a=[[t[0]-u,t[1]],[t[0]+u,t[1]]],f=[[t[0],t[1]-u],[t[0],t[1]+u]],d=i.line(e,a,n),p=i.line(e,f,n);return s&&setTimeout(()=>{c.forEach(e=>e.remove()),d.forEach(e=>e.remove()),p.forEach(e=>e.remove())},s),[...c,...d,...p]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(4);t.line=function(e,t,n=r.DEFAULT_CLASS,i){let u=document.createElementNS(o.XMLNS,"line");return u.setAttributeNS(null,"x1",t[0][0].toString()),u.setAttributeNS(null,"y1",t[0][1].toString()),u.setAttributeNS(null,"x2",t[1][0].toString()),u.setAttributeNS(null,"y2",t[1][1].toString()),u.setAttributeNS(null,"class",n),e.appendChild(u),i&&setTimeout(()=>u.remove(),i),[u]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(34),i=n(65),u=n(66);t.bezier=function(e,t,n=r.DEFAULT_CLASS,s){return 2===t.length?o.line(e,t,n,s):3===t.length?i.quadBezier(e,t,n,s):4===t.length?u.cubicBezier(e,t,n,s):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(29),o=n(30),i=n(58),u=n(59),s=n(5),l=n(53),c=n(54),a=n(55);t.κ=function(e,t){let n=r.evaluateDx(e),s=o.evaluateDy(e),l=i.evaluateDdx(e),c=u.evaluateDdy(e);function a(e){let t=n(e),r=s(e),o=l(e);return(t*c(e)-r*o)/Math.sqrt(Math.pow(t*t+r*r,3))}return void 0===t?a:a(t)},t.compareCurvaturesAtInterface=function(e,t){let[n,r]=l.getDxyAt0(e),[o,i]=c.getDdxyAt0(e),[u,f]=l.getDxyAt0(t),[d,p]=c.getDdxyAt0(t),g=s.expansionDiff(s.twoProduct(n,i),s.twoProduct(r,o)),h=s.expansionDiff(s.twoProduct(u,p),s.twoProduct(f,d)),b=s.sign(g),v=s.sign(h);if(b!==v)return b-v;let _=s.fastExpansionSum(s.twoProduct(u,u),s.twoProduct(f,f)),m=s.fastExpansionSum(s.twoProduct(n,n),s.twoProduct(r,r)),M=s.expansionProduct(_,_),P=s.expansionProduct(M,_),x=s.expansionProduct(m,m),y=s.expansionProduct(x,m);if(0!==b||0!==v){let e=s.expansionProduct(g,g),t=s.expansionProduct(h,h),n=s.expansionProduct(e,P),r=s.expansionProduct(t,y),o=s.sign(s.expansionDiff(n,r));if(0!==o)return b>0?o:-o}let[w,S]=a.getDddxy(e),[O,D]=a.getDddxy(t),N=s.expansionDiff(s.twoProduct(n,S),s.twoProduct(r,w)),T=s.fastExpansionSum(s.twoProduct(n,o),s.twoProduct(r,i)),E=s.expansionDiff(s.twoProduct(u,D),s.twoProduct(f,O)),I=s.fastExpansionSum(s.twoProduct(u,d),s.twoProduct(f,p)),j=s.expansionDiff(s.expansionProduct(m,N),s.scaleExpansion(s.expansionProduct(g,T),3)),A=s.expansionDiff(s.expansionProduct(_,E),s.scaleExpansion(s.expansionProduct(h,I),3)),B=s.sign(j),L=s.sign(A);if(b!==v)return B-L;if(0===B&&0===L)return 0;let C=s.expansionProduct(j,j),z=s.expansionProduct(M,P),F=s.expansionProduct(A,A),R=s.expansionProduct(x,y),Y=s.expansionProduct(C,z),q=s.expansionProduct(F,R),U=s.sign(s.expansionDiff(Y,q));return B>0?U:-U}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(0);t.rotate=o.rotatePs,t.translate=o.translatePs;const i=n(17),u=n(92),s=n(93),l=n(11);t.getX=l.getX;const c=n(6);t.getY=c.getY;const a=n(27);t.getDx=a.getDx;const f=n(28);t.getDy=f.getDy;const d=n(51);t.getDdx=d.getDdx;const p=n(52);t.getDdy=p.getDdy;const g=n(96);t.getDxyAt1=g.getDxyAt1;const h=n(97);t.getDdxyAt1=h.getDdxyAt1;const b=n(53);t.getDxyAt0=b.getDxyAt0;const v=n(54);t.getDdxyAt0=v.getDdxyAt0;const _=n(55);t.getDddxy=_.getDddxy;const m=n(56);t.evaluateX=m.evaluateX;const M=n(57);t.evaluateY=M.evaluateY;const P=n(3);t.evaluate=P.evaluate;const x=n(29);t.evaluateDx=x.evaluateDx;const y=n(58);t.evaluateDdx=y.evaluateDdx;const w=n(30);t.evaluateDy=w.evaluateDy;const S=n(59);t.evaluateDdy=S.evaluateDdy;const O=n(60);t.tangent=O.tangent;const D=n(61);t.normal=D.normal;const N=n(98);t.from0ToT=N.from0ToT;const T=n(99);t.fromTTo1=T.fromTTo1;const E=n(15);t.fromTo=E.fromTo,t.fromToPrecise=E.fromToPrecise;const I=n(62);t.coincident=I.coincident;const j=n(63);t.lineIntersection=j.lineIntersection;const A=n(100);t.bezier3Intersection=A.bezier3Intersection;const B=n(107);t.bezier3IntersectionSylvester=B.bezier3IntersectionSylvester;const L=n(108);t.tsAtX=L.tsAtX;const C=n(109);t.tsAtY=C.tsAtY;const z=n(110);t.BezDebug=z.BezDebug;const F=n(36);t.κ=F.κ;const R=n(122);t.quadToPolyline=R.quadToPolyline;const Y=n(68);t.isQuadObtuse=Y.isQuadObtuse;const q=n(12);t.splitAt=q.splitAt,t.splitAtPrecise=q.splitAtPrecise;const U=n(31);t.closestPointOnBezier=U.closestPointOnBezier;const V=n(124);t.hausdorffDistance=V.hausdorffDistance,t.hausdorffDistanceCandidates=V.hausdorffDistanceCandidates;const $=n(18);t.lengthUpperBound=$.lengthUpperBound;const Q=n(125);t.lengthSquaredUpperBound=Q.lengthSquaredUpperBound;const X=n(69);t.splitByMaxCurveLength=X.splitByMaxCurveLength;const H=n(126);t.getCurvatureExtrema=H.getCurvatureExtrema;const k=n(127);t.getInflections=k.getInflections;const G=n(71);t.flatness=G.flatness;const W=n(128);t.splitByMaxCurvature=W.splitByMaxCurvature;const K=n(129);t.splitByCurvatureAndLength=K.splitByCurvatureAndLength;const J=n(72);t.isPointOnBezierExtension=J.isPointOnBezierExtension;const Z=n(131);t.areBeziersInSameKFamily=Z.areBeziersInSameKFamily;const ee=n(132);t.getInterfaceCcw=ee.getInterfaceCcw;const te=n(73);t.isLine=te.isLine,t.isHorizontalLine=te.isHorizontalLine,t.isVerticalLine=te.isVerticalLine;const ne=n(133);t.isSelfOverlapping=ne.isSelfOverlapping;const re=n(64);t.getTangentPolyFromPoint=re.getTangentPolyFromPoint;const oe=n(74);t.getBounds=oe.getBounds;const ie=n(134);t.getBoundingBoxTight=ie.getBoundingBoxTight;const ue=n(75);t.getBoundingBox=ue.getBoundingBox;let se=i.memoize(s.grahamScan);t.getBoundingHull=se,t.fromLine=function(e){let[[t,n],[r,o]]=e,i=(r-t)/3,u=(o-n)/3;return[[t,n],[t+i,n+u],[t+2*i,n+2*u],[r,o]]};let le=F.κ;function ce(e,t){const n=x.evaluateDx(e),r=w.evaluateDy(e),o=y.evaluateDdx(e),i=S.evaluateDdy(e);function u(e){let t=n(e),u=r(e),s=o(e);return(t*i(e)-u*s)/(t*t+u*u)}return void 0===t?u:u(t)}function ae(e,t){let n=[,,pe,de,fe];function r(t){return n[t.length](e,t)}return void 0===t?r:r(t)}function fe(e,t){if(e[0]===e[1])return 0;let[[n,r],[o,i],[s,l],[c,a]]=t;if(n===o&&o===s&&s===c&&r===i&&i===l&&l===a)return 0;const f=ge(t);return u.gaussQuadrature(f,e)}function de(e,t){if(e[0]===e[1])return 0;let[[n,r],[o,i],[s,l]]=t;if(n===o&&o===s&&r===i&&i===l)return 0;const c=ge(t);return u.gaussQuadrature(c,e)}function pe(e,t){let[n,r]=e;if(n===r)return 0;let[[i,u],[s,l]]=t;if(i===s&&u===l)return 0;let c=[i+n*(s-i),u+n*(l-u)],a=[i+r*(s-i),u+r*(l-u)];return o.distanceBetween(c,a)}function ge(e,t){const n=x.evaluateDx(e),r=w.evaluateDy(e);function o(e){let t=n(e),o=r(e);return Math.sqrt(t*t+o*o)}return void 0===t?o:o(t)}function he(e){let[[t,n],[r,o],[i,u]]=e;return[[t,n],[1/3*t+2/3*r,1/3*n+2/3*o],[2/3*r+1/3*i,2/3*o+1/3*u],[i,u]]}function be(e){let[[t,n],[r,o]]=e,i=(r-t)/3,u=(o-n)/3;return[[t,n],[t+1*i,n+1*u],[t+2*i,n+2*u],[r,o]]}function ve(e){return 2===e.length?be(e):3===e.length?he(e):4===e.length?e:void 0}t.curvature=le,t.dκMod=function(e,t){let[[n,r],[o,i],[u,s],[l,c]]=e;function a(e){let t=e*e,a=1-e,f=2*e-3*t,d=(3*e-1)*a,p=a*a,g=3*(t*l+f*u-d*o-p*n),h=3*(t*c+f*s-d*i-p*r),b=6*(e*c-(3*e-1)*s+(3*e-2)*i+a*r),v=6*(e*l-(3*e-1)*u+(3*e-2)*o+a*n),_=Math.sqrt(g*g+h*h);return 4*(g*(c-3*s+3*i-r)-h*(l-3*u+3*o-n))*Math.pow(_,3)-(g*b-v*h)*(2*b*h+2*v*g)*_}return void 0===t?a:a(t)},t.totalCurvature=function(e,t){function n(t){return u.gaussQuadrature(ce(e),t)}return O.tangent(e),void 0===t?n:n(t)},t.totalAbsoluteCurvature=function(e,t){function n(t=[0,1]){return u.gaussQuadrature(t=>Math.abs(ce(e)(t)),t)}return void 0===t?n:n(t)},t.length=ae,t.getTAtLength=function(e,t){let n=ve(e);const o=e=>ae([0,e],n);function i(e){return r.brent(t=>o(t)-e,-.1,1.1)}return void 0===t?i:i(t)},t.ds=ge,t.bezierFromBezierPiece=function(e,t){if(0===t[0]&&1===t[1])return e;if(t[0]===t[1]){let n=P.evaluate(e)(t[0]);return[n,n,n,n]}return 0===t[0]?N.from0ToT(e,t[1]):1===t[1]?T.fromTTo1(e,t[0]):N.from0ToT(T.fromTTo1(e,t[0]),(t[1]-t[0])/(1-t[0]))},t.toString=function(e){let[[t,n],[r,o],[i,u],[s,l]]=e;return`[[${t},${n}],[${r},${o}],[${i},${u}],[${s},${l}]]`},t.scale=function(e,t){return e.map(e=>[e[0]*t,e[1]*t])},t.toQuadratic=function(e){let[[t,n],[r,o],[i,u],[s,l]]=e;return[[.95*t+.15*r+-.15*i+.05*s,.95*n+.15*o+-.15*u+.05*l],[-.25*t+.75*r+.75*i+-.25*s,-.25*n+.75*o+.75*u+-.25*l],[.05*t+-.15*r+.15*i+.95*s,.05*n+-.15*o+.15*u+.95*l]]},t.evaluateHybridQuadratic=function(e,t,n){let r=e[0],o=P.evaluate(e[1],n),i=e[2];return P.evaluate([r,o,i],t)},t.clone=function(e){let[[t,n],[r,o],[i,u],[s,l]]=e;return[[t,n],[r,o],[i,u],[s,l]]},t.quadraticToCubic=he,t.linearToCubic=be,t.toCubic=ve,t.reverse=function(e){return e.slice().reverse()},t.equal=function(e,t){let[[n,r],[o,i],[u,s],[l,c]]=e,[[a,f],[d,p],[g,h],[b,v]]=t;return n===a&&o===d&&u===g&&l===b&&r===f&&i===p&&s===h&&c===v}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(13);t.quadraticRoots=function(e){let t,n,[r,o,i]=e,u=o*o-4*r*i;return u<0?[]:0===u?[-o/(2*r)]:(u=Math.sqrt(u),o>=0?(t=(-o-u)/(2*r),n=2*i/(-o-u)):(t=2*i/(-o+u),n=(-o+u)/(2*r)),t<n?[t,n]:[n,t])},t.numRootsWithin=function(e,t,n){let o=r.sturmChain(e),i=(r.evaluate(e),o.map(e=>r.evaluate(e)(t))),u=o.map(e=>r.evaluate(e)(n));return r.signChanges(i)-r.signChanges(u)},t.bisection=function(e,t,n){if(t===n)return t;n<t&&([t,n]=[n,t]);let r=e(t),o=e(n);if(0===r)return t;if(0===o)return n;if(r*o>0)throw new Error("Root not bracketed");for(;;){let o=t+(n-t)/2,i=e(o);if(0===i)return o;r*i<0?n=o:t=o;let u=2*Number.EPSILON*Math.abs(n);if(Math.abs(t-n)<=u)return n}},t.brent=function(e,t,n){if(t===n)return t;let r,o=e(t),i=e(n);if(o*i>0)throw new Error("Root not bracketed");if(Math.abs(o)<Math.abs(i)){r=t,t=n,n=r;let e=o;o=i,i=e}r=t;let u,s=!0;for(;;){let l,c=2*Number.EPSILON*Math.abs(n),a=e(r);if(o!==a&&i!==a){let e=o-a,u=o-i,s=i-a;l=((t*i*s-n*o*e)*a+r*o*u*i)/(u*e*s)}else l=n-i*((n-t)/(i-o));let f=(3*t+n)/4,d=Math.abs(n-r),p=Math.abs(l-n),g=Math.abs(r-u);!(l>f&&l<n||l<f&&l>n)||s&&(p>=d/2||d<c)||!s&&(p>=g/2||g<c)?(l=(t+n)/2,s=!0):s=!1;let h=e(l);if(u=r,r=n,o*h<0?n=l:t=l,Math.abs(o)<Math.abs(i)){let e=t;t=n,n=e}if(0===i)return n;if(0===h)return l;if(Math.abs(t-n)<=c)return n;o=e(t),i=e(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(13);t.rootMagnitudeUpperBound_rouche=function(e){var t;return e.length,1+1/e[0]*(t=e.slice(1),Math.max(...t.map(e=>Math.abs(e))))},t.rootMagnitudeUpperBound_fujiwara=function(e){let t=e.length-1,n=e[0],r=[];for(let o=1;o<t;o++){let t=Math.pow(Math.abs(e[o]/n),1/o);r.push(t)}return r.push(Math.pow(Math.abs(e[t]/2*n),1/t)),2*Math.max.apply(void 0,r)};const o=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152];function i(e){let t=e.length-1;if(t<1)return 0;e[0]<0&&(e=r.negate(e));let n=[];for(let e=0;e<t;e++)n.push(1);let i=0;for(let r=0;r<=t;r++){if(e[r]>=0)continue;let t=Number.POSITIVE_INFINITY,u=!1;for(let i=0;i<r;i++){if(e[i]<=0)continue;let s,l=n[i];s=l>20?Math.pow(2,l):o[l];let c=Math.pow(-e[r]/(e[i]/s),1/(r-i));n[i]++,t>c&&(t=c),u=!0}u&&i<t&&(i=t)}return i}function u(e){let t=i(r.invert(e));return 0===t?0:1/t}t.positiveRootUpperBound_LMQ=i,t.positiveRootLowerBound_LMQ=u,t.negativeRootUpperBound_LMQ=function(e){return-u(r.reflectAboutYAxis(e))},t.negativeRootLowerBound_LMQ=function(e){return-i(r.reflectAboutYAxis(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(13);t.fromRoots=function(e){let t=[1];for(let n=0;n<e.length;n++)t=r.multiply(t,[1,-e[n]]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.merge=function(e,t){let n=e.length,r=t.length,o=0,i=0,u=[];for(;o<n&&i<r;)0!==e[o]?0!==t[i]?Math.abs(e[o])<=Math.abs(t[i])?(u.push(e[o]),o++):(u.push(t[i]),i++):i++:o++;for(;o<n;)u.push(e[o]),o++;for(;i<r;)u.push(t[i]),i++;return 0===u.length?[0]:u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.estimate=function(e){let t=e[0];for(let n=1;n<e.length;n++)t+=e[n];return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(44);t.isAdjacent=function(e,t){return r.isOverlapping(e,t)||r.isOverlapping(e,2*t)||r.isOverlapping(2*e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),o=n(14);function i(e,t){return!u(e,t)}function u(e,t){if(0===e||0===t)return!0;Math.abs(t)>Math.abs(e)&&([e,t]=[t,e]);let n=r.getLowestSetBit(e),i=r.getHighestSetBit(t);return n+(o.exponent(e)-o.exponent(t))>i}t.isOverlapping=i,t.isNonOverlapping=u,t.isNonOverlappingAll=function(e){for(let t=1;t<e.length;t++)if(i(e[t-1],e[t]))return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(24);t.significand=function(e){return r.parseDouble(e).significand}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25);function o(e){let t=e.toString(2);for(;t.length<8;t="0"+t);return t}t.doubleToBinaryString=function(e){return r.doubleToOctets(e).map(o).join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=Math.pow(2,27)+1;t.split=function(e){let t=r*e,n=t-(t-e);return[n,e-n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.twoDiff=function(e,t){let n=e-t,r=e-n;return[e-(n+r)+(r-t),n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),o=n(26),i=n(7);t.expansionProduct=function(e,t){let n=[0];for(let i=0;i<e.length;i++)n=r.fastExpansionSum(n,o.scaleExpansion(t,e[i]));return i.compress(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.octetsToDouble=function(e){var t=new ArrayBuffer(8);return new Uint8Array(t).set(e),new DataView(t).getFloat64(0,!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDdx=function(e){if(4===e.length){let[[t],[n],[r],[o]]=e;return[6*o-18*r+18*n-6*t,6*r-12*n+6*t]}if(3===e.length){let[[t],[n],[r]]=e;return[2*r-4*n+2*t]}if(2===e.length)return[0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDdy=function(e){if(4===e.length){let[[,t],[,n],[,r],[,o]]=e;return[6*o-18*r+18*n-6*t,6*r-12*n+6*t]}if(3===e.length){let[[,t],[,n],[,r]]=e;return[2*r-4*n+2*t]}if(2===e.length)return[0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDxyAt0=function(e){if(4===e.length){let[[t,n],[r,o]]=e;return[3*r-3*t,3*o-3*n]}if(3===e.length){let[[t,n],[r,o]]=e;return[2*r-2*t,2*o-2*n]}if(2===e.length){let[[t,n],[r,o]]=e;return[r-t,o-n]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDdxyAt0=function(e){if(4===e.length){let[[t,n],[r,o],[i,u]]=e;return[6*i-12*r+6*t,6*u-12*o+6*n]}if(3===e.length){let[[t,n],[r,o],[i,u]]=e;return[2*i-4*r+2*t,2*u-4*o+2*n]}if(2===e.length)return[0,0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDddxy=function(e){if(4===e.length){let[[t,n],[r,o],[i,u],[s,l]]=e;return[6*s-18*i+18*r-6*t,6*l-18*u+18*o-6*n]}if(3===e.length||2===e.length)return[0,0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(11);t.evaluateX=function(e,t){const n=o.getX(e),i=r.evaluate(n),u=e.length;function s(t){return 0===t?e[0][0]:1===t?e[u-1][0]:i(t)}return void 0===t?s:s(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(6);t.evaluateY=function(e,t){const n=o.getY(e),i=r.evaluate(n),u=e.length;function s(t){return 0===t?e[0][1]:1===t?e[u-1][1]:i(t)}return void 0===t?s:s(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(51),o=n(1);t.evaluateDdx=function(e,t){const n=r.getDdx(e),i=o.evaluate(n);return void 0===t?i:i(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(52),o=n(1);t.evaluateDdy=function(e,t){const n=r.getDdy(e),i=o.evaluate(n);return void 0===t?i:i(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(29),o=n(30);t.tangent=function(e,t){const n=r.evaluateDx(e),i=o.evaluateDy(e);function u(e){let t=n(e),r=i(e),o=Math.sqrt(t*t+r*r);return[t/o,r/o]}return void 0===t?u:u(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(60);t.normal=function(e,t){const n=r.tangent(e);function o(e){let t=n(e);return[t[1],-t[0]]}return void 0===t?o:o(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(3),i=n(63),u=n(61);function s(e,t,n){let s=o.evaluate(e)(n),l=u.normal(e)(n),c=r.translate(s,l),a=i.lineIntersection(t,[s,c]),f=void 0,d=void 0,p=Number.POSITIVE_INFINITY;for(let e of a){let n=o.evaluate(t)(e),i=r.distanceBetween(n,s);i<p&&(f=e,d=n,p=i)}return{t:f,p:d,d:p}}t.coincident=function(e,t,n=1e-6){let r=[.01,.99].map(n=>s(e,t,n)),o=[.01,.99].map(n=>s(t,e,n)),i=.01,u=.99,l=.01,c=.99;r[0].d<=n&&(i=r[0].t),r[1].d<=n&&(u=r[1].t),o[0].d<=n&&(l=o[0].t),o[1].d<=n&&(c=o[1].t),l>c&&([l,c]=[c,l]),i>u&&([i,u]=[u,i]);let a=c-l;if(a<.1&&u-i<.1)return;for(let r=0;r<10;r++){let o=l+a*(r/10),{d:i}=s(e,t,o);if(i>n)return}return{p:[l,c],q:[i,u]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(0),i=n(6);t.lineIntersection=function(e,t){let[[n,u],[s,l]]=t,[c,a]=[s-n,l-u];if(0===c&&0===a)return[];e=o.translatePs([-n,-u],e);let f=Math.sqrt(c*c+a*a),d=a/f,p=c/f;return e=o.rotatePs(-d,p,e),r.allRoots(i.getY(e),0,1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTangentPolyFromPoint=function(e,t){return 4===e.length?function(e,t){let[[n,r],[o,i],[u,s],[l,c]]=e,[a,f]=t,d=n-a,p=o-a,g=u-a,h=l-a,b=r-f,v=i-f,_=s-f,m=c-f,M=d*d,P=6*d*p,x=6*d*g,y=2*d*h,w=9*p*p,S=18*p*g,O=6*p*h,D=9*g*g,N=6*g*h,T=b*b,E=6*b*v,I=6*b*_,j=2*b*m,A=9*v*v,B=18*v*_,L=6*v*m,C=9*_*_,z=6*_*m;return[6*(h*h-N+O-y+D-S+x+w-P+M+(m*m-z+L-j+C-B+I+A-E+T)),5*(N-2*O+3*y-2*D+3*S-4*x-4*w+5*P-6*M+(z-2*L+3*j-2*C+3*B-4*I-4*A+5*E-6*T)),4*(O-3*y+D-3*S+6*x+6*w-10*P+15*M+(L-3*j+C-3*B+6*I+6*A-10*E+15*T)),3*(y+S-4*x-4*w+10*P-20*M+(j+B-4*I-4*A+10*E-20*T)),2*(x+w-5*P+15*M+(I+A-5*E+15*T)),P-6*M+(E-6*T)]}(e,t):3===e.length?function(e,t){let[[n,r],[o,i],[u,s]]=e,[l,c]=t,a=n-l,f=o-l,d=u-l,p=r-c,g=i-c,h=s-c,b=1*a*a,v=1*a*f,_=1*a*d,m=1*f*f,M=1*f*d,P=1*p*p,x=1*p*g,y=1*p*h,w=1*g*g,S=1*g*h;return[4*(1*h*h+2*y-4*S+4*w-4*x+P+1*d*d+2*_-4*M+4*m-4*v+b),12*(S-y-2*w+3*x-P+M-_-2*m+3*v-b),4*(y+2*w-6*x+3*P+_+2*m-6*v+3*b),4*(x-P+v-b)]}(e,t):2===e.length?function(e,t){let[[n,r],[o,i]]=e,[u,s]=t,l=n-u,c=o-u,a=r-s,f=i-s,d=1*l*l,p=1*l*c,g=1*a*a,h=1*a*f;return[2*(1*f*f-2*h+g+1*c*c-2*p+d),2*(h-g+p-d)]}(e,t):void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(4);t.quadBezier=function(e,t,n=r.DEFAULT_CLASS,i){let[[u,s],[l,c],[a,f]]=t,d=document.createElementNS(o.XMLNS,"path");return d.setAttributeNS(null,"d",`M${u} ${s} Q${l} ${c} ${a} ${f}`),n&&d.setAttributeNS(null,"class",n),e.appendChild(d),i&&setTimeout(()=>d.remove(),i),[d]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(4),i=n(33);t.cubicBezier=function(e,t,n=r.DEFAULT_CLASS,u){let[[s,l],[c,a],[f,d],[p,g]]=t;if(s===p&&l===g)return i.crossHair(e,[s,l],n,.2,u);let h=document.createElementNS(o.XMLNS,"path");return h.setAttributeNS(null,"d",`M${s} ${l} C${c} ${a} ${f} ${d} ${p} ${g}`),h.setAttributeNS(null,"class",n),e.appendChild(h),u&&setTimeout(()=>h.remove(),u),[h]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateBezier=function(e,t){let n=1-t;if(4===e.length){let[[r,o],[i,u],[s,l],[c,a]]=e;return[r*Math.pow(n,3)+3*i*Math.pow(n,2)*t+3*s*n*Math.pow(t,2)+c*Math.pow(t,3),o*Math.pow(n,3)+3*u*Math.pow(n,2)*t+3*l*n*Math.pow(t,2)+a*Math.pow(t,3)]}if(3===e.length){let[[r,o],[i,u],[s,l]]=e;return[r*Math.pow(n,2)+2*i*n*t+s*Math.pow(t,2),o*Math.pow(n,2)+2*u*n*t+l*Math.pow(t,2)]}if(2===e.length){let[[r,o],[i,u]]=e;return[r*n+i*t,o*n+u*t]}return[NaN,NaN]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.isQuadObtuse=function(e){let t=r.fromTo(e[0],e[1]),n=r.fromTo(e[1],e[2]),o=r.fromTo(e[2],e[0]),i=r.dot(o,t)>0,u=r.dot(n,o)>0;return i||u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(18),o=n(15);t.splitByMaxCurveLength=function(e,t){let n=[0,1],i=[[0,1]],u=o.fromTo(e);for(;i.length;){let e=i.pop(),o=u(e[0],e[1]);if(r.lengthUpperBound(o)>t){let t=(e[0]+e[1])/2;i.push([e[0],t]),i.push([t,e[1]]),n.push(t)}}return n.sort((e,t)=>e-t),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=1e-6;function o(e){let[t,n]=e;if(!(t<0&&n<0||t>1&&n>1))return t<0&&(t=0),t>1&&(t=1),n<0&&(n=0),n>1&&(n=1),[t,n]}function i(e,t,n){return r=>t/n*(r-e)}t.getCurvatureExtremaBrackets=function(e){let t={brackets:[],inflections:[]},[[n,u],[s,l],[c,a],[f,d]]=e,p=s-n,g=l-u,h=c-n,b=a-u,v=f-n,_=d-u,m=p,M=h-p,P=v-h,x=g,y=b-g,w=_-b;Math.abs(m-2*M+P)<r&&Math.abs(x-2*y+w);let S,O=v-3*h+3*p,D=_-3*b+3*g,N=O*O,T=D*D,E=Math.sqrt(N/T+1),I=1/E,j=p*I-g*(S=0===I?1:O/(D*E)),A=p*S+g*I,B=h*I-b*S,L=h*S+b*I,C=v*I-_*S;P=C-B;let z=3*((x=A)-2*(y=L-A)+(w=v*S+_*I-L)),F=(M=B-j)-(m=j);if(0===F)return 0===m?t:(m<0&&(j=-j,B=-B,C=-C,m=-m,M=-M,P=-P),t);{F<0&&(j=-j,B=-B,C=-C,m=-m,M=-M,P=-P,F=-F);let e=6*F,n=3*z*m/(e*e),r=3*(y-x)/e,u=n*n-2*r*n+3*z*x/(e*e),s=2*(r-n),l=function(e,t,n){return r=>r.map(i(e,t,n))}(n,e,z),c=i(n,e,z);if(u>0){let e=Math.sqrt(u),t=-e,n=e;return{brackets:[[Number.NEGATIVE_INFINITY,t],[t,n],[n,Number.POSITIVE_INFINITY]].map(l).map(o),inflections:[c(t),c(n)].filter(e=>e>0&&e<1)}}if(u<0){let e=2*s*s-8*u-3;if(e<0){return{brackets:[[0,Math.sqrt(-3*u)]].map(l).map(o),inflections:[]}}{let t=Math.sqrt(5*e),n=(-5*s-t)/10,r=(-5*s+t)/10;return{brackets:[[Number.NEGATIVE_INFINITY,n],[n,Math.min(0,r)],[Math.max(0,r),Math.sqrt(-3*u)]].map(l).map(o),inflections:[]}}}return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(18),o=n(0);t.flatness=function(e){return r.lengthUpperBound(e)/o.distanceBetween(e[0],e[e.length-1])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(6),i=n(130);t.isPointOnBezierExtension=function(e,t){let n=e.slice();if("undefined"!=typeof _bez_debug_)for(let e of n);let u=r.getX(n),s=o.getY(n);u[u.length-1]-=t[0],s[s.length-1]-=t[1];let l=0,c=0,a=0,f=0,d=0,p=0,g=0,h=0;4===u.length?[l,c,a,f]=u:3===u.length?[c,a,f]=u:2===u.length&&([a,f]=u),4===s.length?[d,p,g,h]=s:3===s.length?[p,g,h]=s:2===s.length&&([g,h]=s);let b,v=0!==l?3:0!==c?2:0!==a?1:0!==f?0:-1,_=0!==d?3:0!==p?2:0!==g?1:0!==h?0:-1;if(v<_&&([v,_]=[_,v],[l,d]=[d,l],[c,p]=[p,c],[a,g]=[g,a],[f,h]=[h,f]),3===v&&3===_)b=[[l,c,a,f,0,0],[0,l,c,a,f,0],[0,0,l,c,a,f],[d,p,g,h,0,0],[0,d,p,g,h,0],[0,0,d,p,g,h]];else if(3===v&&2===_)b=[[l,c,a,f,0],[0,l,c,a,f],[p,g,h,0,0],[0,p,g,h,0],[0,0,p,g,h]];else if(3===v&&1===_)b=[[l,c,a,f],[g,h,0,0],[0,g,h,0],[0,0,g,h]];else{if(3===v&&0===_)return!1;if(3===v&&-1===_)return!0;if(2===v&&2===_)b=[[c,a,f,0],[0,c,a,f],[p,g,h,0],[0,p,g,h]];else if(2===v&&1===_)b=[[c,a,f],[g,h,0],[0,g,h]];else{if(2===v&&0===_)return!1;if(2===v&&-1===_)return!0;if(1===v&&1===_)b=[[a,f],[g,h]];else{if(1===v&&0===_)return!1;if(1===v&&-1===_)return!0;if(0===v&&0===_)return!1;if(0===v&&-1===_)return!1;if(-1===v&&-1===_)return!0}}}let m=i.detSlowExact(b.map(e=>e.map(e=>[e])));return 0===m[m.length-1]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);t.isLine=function(e){return 2===e.length||(3===e.length?0===r.orient2d(e[0],e[1],e[2]):4===e.length?0===r.orient2d(e[0],e[1],e[2])&&0===r.orient2d(e[1],e[2],e[3])&&0===r.orient2d(e[0],e[2],e[3]):void 0)},t.isHorizontalLine=function(e){let t=e[0][1];for(let n=1;n<e.length;n++)if(e[n][1]!==t)return!1;return!0},t.isVerticalLine=function(e){let t=e[0][0];for(let n=1;n<e.length;n++)if(e[n][0]!==t)return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17),o=n(27),i=n(28),u=n(1),s=n(56),l=n(57);let c=r.memoize(function(e){let t=[o.getDx(e),i.getDy(e)].map(e=>u.allRoots(e,0,1));t[0].push(0,1),t[1].push(0,1);let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,f=void 0,d=void 0,p=void 0,g=void 0;for(let o=0;o<t[0].length;o++){let i=t[0][o],u=s.evaluateX(e,i);u<n&&(n=u,f=i),u>r&&(r=u,p=i)}for(let n=0;n<t[1].length;n++){let r=t[1][n],o=l.evaluateY(e,r);o<c&&(c=o,d=r),o>a&&(a=o,g=r)}return{ts:[[f,d],[p,g]],box:[[n,c],[r,a]]}});t.getBounds=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17),o=n(74);let i=r.memoize(function(e){return o.getBounds(e).box});t.getBoundingBox=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(13),o=n(38),i=n(39),u=Number.POSITIVE_INFINITY;t.allRoots=function e(t,n=-u,s=+u){let l=(t=r.clip0(t)).length-1,c=function(e,t){return n=>n>=e&&n<=t}(n,s);if(2===l)return o.quadraticRoots(t).filter(c);if(l>2){let l,a;n===-u||s===+u?(l=n===-u?i.negativeRootLowerBound_LMQ(t):n,a=s===+u?i.positiveRootUpperBound_LMQ(t):s):(l=n,a=s);let f=e(r.differentiate(t),l,a).filter(c);return f[0]!==l&&f.unshift(l),f[f.length-1]!==a&&f.push(a),function(e,t){let n,i=[],u=r.evaluate(e),s=t[0];for(let e=1;e<t.length;e++){let r,l=t[e],c=u(s),a=u(l);0===c*a?0===c?r=s:0===a&&e===t.length-1&&(r=l):c*a<0&&(r=o.brent(u,s,l)),void 0!==r&&r!==n&&(i.push(r),n=r),s=l}return i}(t,f)}return 1===l?[-t[1]/t[0]].filter(c):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(40),o=123456789,i=4294967296;function u(e){return function(t,n,r,i,u=o,s=0){let l=[];for(let o=0;o<t;o++){let t=e(n,r,i,u,s),o=t.p;u=t.seed,l.push(o)}return l}}let s=u(d);t.flatRootsArr=s;let l=u(p);function c(e){return(134775813*e+1)%i}function a(e,t,n,r=o,u=0){let s=[];for(let o=0;o<e;o++){r=f(r=c(r),s,r/i*(n-t)+t,u)}return{vs:s=s.slice(0,e),seed:r}}function f(e,t,n,r){return e=c(e),t.push(n),e/i<r&&(e=f(e,t,n,r)),e}function d(e,t=0,n=1,i=o,u=0){let s=a(e,t,n,i,u);return i=s.seed,{p:r.fromRoots(s.vs),seed:i}}function p(e,t=-1,n=1,r=o){let i=a(e,t=void 0===t?-1:t,n=void 0===n?1:n,r=void 0===r?o:r);return r=i.seed,{p:i.vs,seed:r}}t.flatCoefficientsArr=l,t.predictiveRandom=c,t.flatRoots=d,t.flatCoefficients=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hornerErrorBound=function(e,t){const n=Number.EPSILON;return 2*(e.length-1)*n*function(e,t){let n=e.length-1,r=0;for(let o=0;o<n;o++)r+=Math.abs(e[o]*Math.pow(t,n-o));return r}(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(19),o=n(22);t.compare=function(e,t){return o.sign(r.expansionDiff(e,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22),o=n(21);t.abs=function(e){return r.sign(e)<0?o.negativeOf(e):e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fastTwoDiff=function(e,t){let n=e-t;return[e-n-t,n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),o=n(19),i=n(42),u=n(48),s=n(8),l=n(7);let c=3330669073875472e-31,a=2220446049250315e-31,f=1109335647967049e-46,d=3330669073875471e-31;t.orient2d=function(e,t,n){let p,g=(e[0]-n[0])*(t[1]-n[1]),h=(e[1]-n[1])*(t[0]-n[0]),b=g-h;if(g>0){if(h<=0)return b;p=g+h}else{if(!(g<0))return b;if(h>=0)return b;p=-g-h}return Math.abs(b)>=c*p?b:function(e,t,n,c){let p=e[0]-n[0],g=t[0]-n[0],h=e[1]-n[1],b=t[1]-n[1],v=o.expansionDiff(r.twoProduct(p,b),r.twoProduct(h,g)),_=i.estimate(v);if(Math.abs(_)>=a*c)return _;let m=u.twoDiff(e[0],n[0])[0],M=u.twoDiff(t[0],n[0])[0],P=u.twoDiff(e[1],n[1])[0],x=u.twoDiff(t[1],n[1])[0];if(0===m&&0===P&&0===M&&0===x)return _;let y=f*c+d*Math.abs(_);if(_+=p*x+b*m-(h*M+g*P),Math.abs(_)>=y)return _;let w=o.expansionDiff(r.twoProduct(m,b),r.twoProduct(P,g)),S=s.fastExpansionSum(v,w),O=o.expansionDiff(r.twoProduct(p,x),r.twoProduct(h,M)),D=s.fastExpansionSum(S,O),N=o.expansionDiff(r.twoProduct(m,x),r.twoProduct(P,M)),T=s.fastExpansionSum(D,N);return(T=l.compress(T))[T.length-1]}(e,t,n,p)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reduceSignificand=function(e,t){let n=53-t,r=(Math.pow(2,n)+1)*e;return r-(r-e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),o=n(14);t.isBitAligned=function(e,t,n){if(0===e)return!0;let i=o.exponent(e),u=r.getHighestSetBit(e)-52+i;return r.getLowestSetBit(e)-52+i>=n&&u<=t-1+n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),o=n(14);t.msbExponent=function(e){if(0===e||!Number.isFinite(e))return NaN;let t=o.exponent(e);return r.getHighestSetBit(e)-52+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),o=n(14);t.lsbExponent=function(e){if(0===e||!Number.isFinite(e))return NaN;let t=o.exponent(e);return r.getLowestSetBit(e)-52+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10);t.bitLength=function(e){return 0===e?0:r.getHighestSetBit(e)-r.getLowestSetBit(e)+1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(49),o=n(16),i=n(26),u=n(9),s=n(23),l=n(8);t.calculate=function(e){let t=[0];for(let n=0;n<e.length;n++){let c=e[n],a=c[0];for(let e=1;e<c.length;e++){let t=c[e];a=1==t.length?1===a.length?o.twoProduct(a[0],t[0]):i.scaleExpansion(a,t[0]):1===a.length?i.scaleExpansion(t,a[1]):r.expansionProduct(t,a)}t=1===a.length?1===t.length?u.twoSum(t[0],a[0]):s.growExpansion(t,a[0]):1===t.length?s.growExpansion(a,t[0]):l.fastExpansionSum(t,a)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),o=n(23),i=n(8);t.calculateSum=function(e){let t=[0];for(let n=0;n<e.length;n++){let u=e[n];t=1===u.length?1===t.length?r.twoSum(t[0],u[0]):o.growExpansion(t,u[0]):1===t.length?o.growExpansion(u,t[0]):i.fastExpansionSum(t,u)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(50);function o(e){return parseInt(e,2)}t.binaryStringToDouble=function(e){return r.octetsToDouble(e.match(/.{8}/g).map(o))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(43);t.isValid=function(e){for(let t=1;t<e.length;t++){if(0!==e[t]&&0!==e[t-1]&&Math.abs(e[t-1])>=Math.abs(e[t]))return!1;if(r.isAdjacent(e[t-1],e[t]))return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gaussQuadrature=function(e,t,n=16){if(t[0]===t[1])return 0;let{weights:o,abscissas:i}=r[n],[u,s]=t,l=0,c=(s-u)/2,a=(s+u)/2;for(let t=0;t<=n-1;t++)l+=o[t]*e(c*i[t]+a);return c*l};const r={2:{weights:[1,1],abscissas:[-.5773502691896257,.5773502691896257]},4:{weights:[.6521451548625461,.6521451548625461,.3478548451374538,.3478548451374538],abscissas:[-.3399810435848563,.3399810435848563,-.8611363115940526,.8611363115940526]},8:{weights:[.362683783378362,.362683783378362,.3137066458778873,.3137066458778873,.2223810344533745,.2223810344533745,.1012285362903763,.1012285362903763],abscissas:[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363]},16:{abscissas:[-.9894009349916499,-.9445750230732326,-.8656312023878318,-.755404408355003,-.6178762444026438,-.45801677765722737,-.2816035507792589,-.09501250983763744,.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499],weights:[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685,.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),o=n(94),i=n(95);t.grahamScan=function(e,t=!1){if(!e.length)return;function n(e,n,o){let i=r.orient2d(e,n,o);return t?i<0:i<=0}let u=e.slice(),s=u.length,l=o.getSmallestIndxYThenX(u),[c]=u.splice(l,1);u.sort((e,t)=>{let n=-r.orient2d(c,e,t);return 0!==n?n:0!==(n=e[1]-t[1])?n:e[0]-t[0]}),u.unshift(c);let a=1;for(let e=2;e<s;e++){for(;n(u[a-1],u[a],u[e]);)if(a>1)a-=1;else{if(e===s-1){a-=1;break}e+=1}a+=1,i.swap(u,a,e)}return u.slice(0,a+1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSmallestIndxYThenX=function(e){let t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],n=void 0;for(let r=0;r<e.length;r++){let o=e[r][1];(o<t[1]||o===t[1]&&e[r][0]<t[0])&&(n=r,t=e[r])}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.swap=function(e,t,n){if(t===n)return;let r=e[t];e[t]=e[n],e[n]=r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDxyAt1=function(e){if(4===e.length){let[,,[t,n],[r,o]]=e;return[3*r-3*t,3*o-3*n]}if(3===e.length){let[,[t,n],[r,o]]=e;return[2*r-2*t,2*o-2*n]}if(2===e.length){let[[t,n],[r,o]]=e;return[r-t,o-n]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDdxyAt1=function(e){if(4===e.length){let[,[t,n],[r,o],[i,u]]=e;return[6*i-12*r+6*t,6*u-12*o+6*n]}if(3===e.length){let[[t,n],[r,o],[i,u]]=e;return[2*i-4*r+2*t,2*u-4*o+2*n]}if(2===e.length)return[0,0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(12);t.from0ToT=function(e,t){return r.splitAt(e,t)[0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(12);t.fromTTo1=function(e,t){return r.splitAt(e,t)[1]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(101),i=n(106);t.bezier3Intersection=function(e,t,n,u){const s=192*Number.EPSILON;void 0===n&&(n=0),n=Math.max(n,s),void 0===u&&(u=1e-6),u=Math.max(u,1e-6),"undefined"!=typeof _bez_debug_&&(_bez_debug_.generated.elems.beziers.push([e,t]),_bez_debug_.generated.elems.fatLine.push({l:[[0,0],[1e-10,1e-10]],minD:0,maxD:0}));let l=[],c={ps1:e,ps2:t,tRange1:[0,1],tRange2:[0,1],idx:1},a=[];for(a.push(c);0!==a.length;){let{ps1:r,ps2:u,tRange1:s,tRange2:c,idx:f}=a.pop(),{newIterations:d,t1:p}=o.checkIntersectionInRanges(r,u,s,c,f,n);if(a.push(...d),p){let n=0===f?[e,t]:[t,e],r=i.calcOtherT(p,n[0],n[1]);if(void 0===r)continue;let o=0===f?[p,r]:[r,p];l.push(o)}}if("undefined"!=typeof _bez_debug_)for(let t of l)_bez_debug_.generated.elems.intersection.push(r.evaluate(e,t[0]));return l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(102),o=n(103),i=n(104),u=n(62),s=n(15),l=n(0),c=n(12);t.checkIntersectionInRanges=function(e,t,n,a,f,d){let p=0===f?1:0;[t,e]=r.center(t,e);let g=e[0],h=e[e.length-1],b=o.getDistanceToLineFunction([g,h]),v=0,_=0;if(4===e.length){let t=b(e[1]),n=b(e[2]),r=t*n>0?.75:4/9;v=r*Math.min(0,t,n),_=r*Math.max(0,t,n)}else if(3===e.length){let t=b(e[1]);v=.5*Math.min(0,t),_=.5*Math.max(0,t)}else 2===e.length&&(v=_=0);"undefined"!=typeof _bez_debug_&&(_bez_debug_.generated.elems.beziers.push([t,e]),_bez_debug_.generated.elems.fatLine.push({l:[e[0],e[e.length-1]],minD:v,maxD:_}));let{tMin:m,tMax:M}=i.geoClip(t,b,v,_);if(m===Number.POSITIVE_INFINITY)return{newIterations:[],t1:void 0};if(M-m>.7){let n=l.fromTo(g,h),r=[-n[1],n[0]],u=l.len(n)/2*2,s=[(g[0]+h[0])/2,(g[1]+h[1])/2],c=l.translate(r,s),a=o.getDistanceToLineFunction([s,c]);"undefined"!=typeof _bez_debug_&&(_bez_debug_.generated.elems.beziers.push([t,e]),_bez_debug_.generated.elems.fatLine.push({l:[s,c],minD:-u,maxD:+u}));let{tMin:f,tMax:d}=i.geoClip(t,a,-u,+u);if(m===Number.POSITIVE_INFINITY)return{newIterations:[],t1:void 0};M=Math.min(M,d),m=Math.max(m,f)}if(M-m>.7){let r=a[1]-a[0],o=n[1]-n[0];if(void 0!==u.coincident(t,e))return{newIterations:[],t1:void 0};r<=o&&(p=f,[t,e]=[e,t],[a,n]=[n,a]);let i=a[1]-a[0],s=a[0],l=s+i/2,d=l,g=a[1],[h,b]=c.splitAtPrecise(t,.5);return{newIterations:[{ps1:h,ps2:e,tRange1:[s,l],tRange2:n,idx:p},{ps1:b,ps2:e,tRange1:[d,g],tRange2:n,idx:p}],t1:void 0}}let P=a[1]-a[0],x=m*P+a[0],y=M*P+a[0];if(Math.abs((M-m)*P)<d){return{newIterations:[],t1:(M+m)*P/2+a[0]}}return{newIterations:[{ps1:t=s.fromToPrecise(t)(m,M),ps2:e,tRange1:[x,y],tRange2:n,idx:p}],t1:void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.center=function(e,t){let n=0;for(let t=1;t<e.length;t++)n+=r.squaredDistanceBetween(e[t-1],e[t]);let o,i,u=0;for(let e=1;e<t.length;e++)u+=r.squaredDistanceBetween(t[e-1],t[e]);return u<n?(o=t.reduce((e,t)=>e+t[0],0)/t.length,i=t.reduce((e,t)=>e+t[1],0)/t.length):(o=e.reduce((e,t)=>e+t[0],0)/e.length,i=e.reduce((e,t)=>e+t[1],0)/e.length),[e=e.map(e=>[e[0]-o,e[1]-i]),t=t.map(e=>[e[0]-o,e[1]-i])]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDistanceToLineFunction=function(e){let[t,n,r]=function(e){let[[t,n],[r,o]]=e,i=n-o,u=r-t,s=t*o-r*n,l=Math.sqrt(Math.pow(i,2)+Math.pow(u,2));return[i/l,u/l,s/l]}(e);return function(e){return t*e[0]+n*e[1]+r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(105);t.geoClip=function(e,t,n,i){let u=o.toHybridQuadratic(e),s=t(u[0]),l=t(u[2]),c=t(u[1][0]),a=t(u[1][1]),f=Math.min(c,a),d=Math.max(c,a),p=[s-2*f+l,-2*s+2*f,s],g=[s-2*d+l,-2*s+2*d,s],h=2*Math.max(r.hornerErrorBound(p,1),r.hornerErrorBound(g,1));n-=h,i+=h;let b=p.slice();b[2]=b[2]-n;let v=p.slice();v[2]=v[2]-i;let _=g.slice();_[2]=_[2]-n;let m=g.slice();m[2]=m[2]-i;let M=Number.POSITIVE_INFINITY,P=Number.NEGATIVE_INFINITY,x=r.allRoots(b,0,1),y=r.allRoots(v,0,1),w=r.allRoots(_,0,1),S=r.allRoots(m,0,1);return M=Math.min(...x,...y,...w,...S),P=Math.max(...x,...y,...w,...S),s>=n&&s<=i&&(M=0),l>=n&&l<=i&&(P=1),M<0&&(M=0),P>1&&(P=1),{tMin:M,tMax:P}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toHybridQuadratic=function(e){if(4===e.length){let[[t,n],[r,o],[i,u],[s,l]]=e;return[[t,n],[[(3*r-t)/2,(3*o-n)/2],[(3*i-s)/2,(3*u-l)/2]],[s,l]]}if(3===e.length){let[[t,n],[r,o],[i,u]]=e;return[[t,n],[[r,o],[r,o]],[i,u]]}if(2===e.length){let[[t,n],[r,o]]=e;return[[t,n],[[(r+t)/2,(o+n)/2],[(r+t)/2,(o+n)/2]],[r,o]]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(3),i=n(31);t.calcOtherT=function(e,t,n){let u=0;for(let e of t)u<Math.abs(e[0])&&(u=Math.abs(e[0])),u<Math.abs(e[1])&&(u=Math.abs(e[1]));for(let e of n)u<Math.abs(e[0])&&(u=Math.abs(e[0])),u<Math.abs(e[1])&&(u=Math.abs(e[1]));let s=o.evaluate(t)(e),l=i.closestPointOnBezier(n,s),c=r.squaredDistanceBetween(s,l.p),a=1536*Number.EPSILON*u;if(!(c>a*a))return l.t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(0),i=n(11),u=n(6);let s=4;t.bezier3IntersectionSylvester=function(e,t){let n,l,[c,a]=e[0],[f,d]=t[0];if(Math.abs(c-f)>1e-12){let r=(c-f)/(a-d),i=r*r,u=i/(1+i),s=u/r;n=o.rotatePs(u,s,e),l=o.rotatePs(u,s,t)}else n=e,l=t;let[p,g,h,b]=i.getX(n),[v,_,m,M]=u.getY(n),[P,x,y,w]=i.getX(l),[S,O,D,N]=u.getY(l),[T,E,I,j,A,B]=[P,p,x,g,y,h],[L,C,z,F,R,Y]=[S,v,O,_,D,m],q=N-M,U=T*T,V=E*E,$=I*I,Q=j*j,X=A*A,H=B*B,k=L*L,G=C*C,W=z*z,K=F*F,J=R*R,Z=Y*Y,ee=q*q,te=$*I,ne=Q*j,re=X*A,oe=H*B,ie=ee*q,ue=j*q,se=j*ee,le=E*ue,ce=E*se,ae=I*q,fe=I*ee,de=E*q,pe=E*ee,ge=[-V*q*B*Z+le*B*F*Y+2*de*H*C*Y-Q*q*B*C*Y-V*se*Y-de*H*K+ue*H*C*F-2*V*ee*B*F+Q*pe*F-q*oe*G+3*ce*B*C-ne*ee*C-V*E*ie,V*q*A*Z+2*V*q*B*R*Y-le*A*F*Y-4*de*A*B*C*Y+Q*q*A*C*Y-le*B*F*R-2*de*H*C*R+Q*q*B*C*R+V*se*R+2*de*A*B*K-2*ue*A*B*C*F+2*V*ee*A*F+3*q*A*H*G-3*ce*A*C,-2*V*q*A*R*Y-E*ae*B*F*Y-le*B*z*Y+2*I*ue*B*C*Y+2*de*X*C*Y+V*fe*Y-V*q*B*J+le*A*F*R+4*de*A*B*C*R-Q*q*A*C*R-de*X*K+2*de*H*z*F-ae*H*C*F+ue*X*C*F-2*E*I*se*F-ue*H*C*z+2*V*ee*B*z-E*Q*ee*z-3*q*X*B*G-3*E*fe*B*C+3*I*Q*ee*C,2*T*de*B*Z-T*ue*B*F*Y+E*ae*A*F*Y+le*A*z*Y-2*T*q*H*C*Y-2*I*ue*A*C*Y-2*de*H*L*Y+Q*q*B*L*Y+2*T*ce*Y+V*q*A*J+E*ae*B*F*R+le*B*z*R-2*I*ue*B*C*R-2*de*X*C*R-V*fe*R+T*q*H*K-4*de*A*B*z*F+2*ae*A*B*C*F-ue*H*L*F+4*T*pe*B*F-T*Q*ee*F+2*ue*A*B*C*z-2*V*ee*A*z+q*re*G+2*q*oe*L*C-3*T*se*B*C+3*E*fe*A*C-3*ce*B*L+ne*ee*L+3*T*V*ie,-2*T*de*A*Z-4*T*de*B*R*Y+T*ue*A*F*Y+E*ae*B*z*Y+4*T*q*A*B*C*Y-$*q*B*C*Y+4*de*A*B*L*Y-Q*q*A*L*Y+T*ue*B*F*R-E*ae*A*F*R-le*A*z*R+2*T*q*H*C*R+2*I*ue*A*C*R+2*de*H*L*R-Q*q*B*L*R-2*T*ce*R-2*T*q*A*B*K+2*de*X*z*F-ae*X*C*F+2*ue*A*B*L*F-4*T*pe*A*F+E*$*ee*F-de*H*W+ae*H*C*z-ue*X*C*z+2*E*I*se*z-6*q*A*H*L*C+3*T*se*A*C-3*$*se*C+3*ce*A*L,4*T*de*A*R*Y+T*ae*B*F*Y+T*ue*B*z*Y-E*ae*A*z*Y-2*T*q*X*C*Y+$*q*A*C*Y-2*I*ue*B*L*Y-2*de*X*L*Y-2*T*E*fe*Y+2*T*de*B*J-T*ue*A*F*R-E*ae*B*z*R-4*T*q*A*B*C*R+$*q*B*C*R-4*de*A*B*L*R+Q*q*A*L*R+T*q*X*K-2*T*q*H*z*F+ae*H*L*F-ue*X*L*F+2*T*I*se*F+2*de*A*B*W-2*ae*A*B*C*z+ue*H*L*z-4*T*pe*B*z+T*Q*ee*z+6*q*X*B*L*C+3*T*fe*B*C+3*E*fe*B*L-3*I*Q*ee*L,-U*q*B*Z-T*ae*A*F*Y-T*ue*A*z*Y+2*T*q*H*L*Y+2*I*ue*A*L*Y-U*se*Y-2*T*de*A*J-T*ae*B*F*R-T*ue*B*z*R+E*ae*A*z*R+2*T*q*X*C*R-$*q*A*C*R+2*I*ue*B*L*R+2*de*X*L*R+2*T*E*fe*R+4*T*q*A*B*z*F-2*ae*A*B*L*F-2*U*ee*B*F-de*X*W+ae*X*C*z-2*ue*A*B*L*z+4*T*pe*A*z-E*$*ee*z-2*q*re*L*C-3*T*fe*A*C+te*ee*C-q*oe*k+3*T*se*B*L-3*E*fe*A*L-3*U*(E*ie),U*q*A*Z+2*U*q*B*R*Y-T*ae*B*z*Y-4*T*q*A*B*L*Y+$*q*B*L*Y+T*ae*A*F*R+T*ue*A*z*R-2*T*q*H*L*R-2*I*ue*A*L*R+U*se*R-2*T*q*X*z*F+ae*X*L*F+2*U*ee*A*F-T*$*ee*F+T*q*H*W-ae*H*L*z+ue*X*L*z-2*T*I*se*z+3*q*A*H*k-3*T*se*A*L+3*$*se*L,-2*U*q*A*R*Y+T*ae*A*z*Y+2*T*q*X*L*Y-$*q*A*L*Y+U*fe*Y-U*q*B*J+T*ae*B*z*R+4*T*q*A*B*L*R-$*q*B*L*R-2*T*q*A*B*W+2*ae*A*B*L*z+2*U*ee*B*z-3*q*X*B*k-3*T*fe*B*L,U*q*A*J-T*ae*A*z*R-2*T*q*X*L*R+$*q*A*L*R-U*fe*R+T*q*X*W-ae*X*L*z-2*U*ee*A*z+T*$*ee*z+q*re*k+3*T*fe*A*L-te*ee*L+U*T*ie],he=r.allRoots(ge,0),be=[];for(let e=0;e<he.length;e++){let t=he[e],n=t*t,o=n*t,c={x:[p*o,g*n,h*t,b],y:[v*o,_*n,m*t,M]},a=r.subtract(i.getX(l),c.x),f=r.subtract(u.getY(l),c.y),d=r.allRoots(a,0,1),P=r.allRoots(f,0,1);for(let e=0;e<d.length;e++){let n=d[e];for(let e=0;e<P.length;e++){let r=P[e];if(Math.abs(n-r)<s){let e=(n+r)/2,o=e*t;e>=0&&e<=1&&o>=0&&o<=1&&be.push([o,e])}}}}return be}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(11);t.tsAtX=function(e,t){return e=e.map(e=>[e[0]-t,e[1]]),r.allRoots(o.getX(e),0,1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(6);t.tsAtY=function(e,t){return e=e.map(e=>[e[0],e[1]-t]),r.allRoots(o.getY(e),0,1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(111);t.BezDebug=class{constructor(e){this.g=e,this.generated={elems:{beziers:[],fatLine:[],looseBoundingBox:[],tightBoundingBox:[],extreme:[],boundingHull:[],intersection:[]}},this.fs={drawElem:r.drawElemFunctions}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(112);let i={beziers:function(e,t){let n=o.drawFs.bezier(e,t[0],"blue thin5 nofill"),r=o.drawFs.bezier(e,t[1],"green thin5 nofill"),i=function(e){let t=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY;for(let i of e)i[0]<t&&(t=i[0]),i[1]<n&&(n=i[1]),i[0]>r&&(r=i[0]),i[1]>o&&(o=i[1]);let i=r-t,u=o-n;return Math.max(i,u)}([...t[0],...t[1]])/400,u=[];for(let n=0;n<t.length;n++){let r=t[n];for(let t=0;t<r.length;t++){let s=r[t];u.push(...o.drawFs.dot(e,s,i,0===n?"blue":"green"))}}return[...n,...r,...u]},intersection:function(e,t){return o.drawFs.crossHair(e,t,"red thin5 nofill",.5)},extreme:function(e,t){return o.drawFs.crossHair(e,t.p,"red thin10 nofill",.05)},boundingHull:function(e,t){return o.drawFs.polygon(e,t,"thin5 black nofill")},looseBoundingBox:function(e,t){return o.drawFs.rect(e,t,"thin5 brown nofill")},tightBoundingBox:function(e,t){return o.drawFs.polygon(e,t,"thin5 black nofill")},fatLine:function(e,t){let{l:n,minD:i,maxD:u}=t,[s,l]=n;const c=1024;let a=r.fromTo(s,l),f=[+c*a[0],+c*a[1]],d=[-c*a[0],-c*a[1]],p=[-a[1],a[0]],g=r.toLength(p,i),h=r.toLength(p,u),b=r.translate(s,d),v=r.translate(l,f),_=[r.translate(b,g),r.translate(v,g)],m=[r.translate(b,h),r.translate(v,h)];return[...o.drawFs.line(e,_),...o.drawFs.line(e,m)]}};t.drawElemFunctions=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(32),o=n(33),i=n(113),u=n(34),s=n(114),l=n(115),c=n(116),a=n(117),f=n(118),d=n(66),p=n(35),g=n(119),h=n(65);let b={circle:r.circle,crossHair:o.crossHair,dot:i.dot,line:u.line,rect:s.rect,beziers:f.beziers,bezier:p.bezier,bezierPiece:g.bezierPiece,quadBezier:h.quadBezier,cubicBezier:d.cubicBezier,polygon:l.polygon,loop:c.loop,polyline:a.polyline};t.drawFs=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(32);t.dot=function(e,t,n=3,o="red",i){let u=r.circle(e,{center:t,radius:n},"dot "+o,i);return i&&setTimeout(()=>u.forEach(e=>e.remove(),i)),[...u]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(4);t.rect=function(e,t,n=r.DEFAULT_CLASS,i){let u=document.createElementNS(o.XMLNS,"rect");return u.setAttributeNS(null,"x",t[0][0].toString()),u.setAttributeNS(null,"y",t[0][1].toString()),u.setAttributeNS(null,"width",(t[1][0]-t[0][0]).toString()),u.setAttributeNS(null,"height",(t[1][1]-t[0][1]).toString()),n&&u.setAttributeNS(null,"class",n),e.appendChild(u),i&&setTimeout(()=>u.remove(),i),[u]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(4);t.polygon=function(e,t,n=r.DEFAULT_CLASS,i){let u=document.createElementNS(o.XMLNS,"path"),s=`M${t[0][0]} ${t[0][1]} L`;for(let e=0;e<t.length;e++)s+=`${t[e][0]} ${t[e][1]} `;return s+=" z",u.setAttributeNS(null,"d",s),n&&u.setAttributeNS(null,"class",n),e.appendChild(u),i&&setTimeout(()=>u.remove(),i),[u]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(4);function i(e){return 2===e?"L":3===e?"Q":4===e?"C":void 0}t.loop=function(e,t,n=r.DEFAULT_CLASS,u){if(!t.length)return[];let s=document.createElementNS(o.XMLNS,"path"),l=`M${t[0][0][0]} ${t[0][0][1]} `;for(let e=0;e<t.length;e++){let n=t[e];l+=`${i(n.length)} `;for(let e=1;e<n.length;e++)l+=`${n[e][0]} ${n[e][1]} `}return l+=" z",s.setAttributeNS(null,"d",l),n&&s.setAttributeNS(null,"class",n),e.appendChild(s),u&&setTimeout(()=>s.remove(),u),[s]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(4);t.polyline=function(e,t,n=r.DEFAULT_CLASS,i){if(t.length<2)return[];let u=document.createElementNS(o.XMLNS,"path"),s=`M${t[0][0]} ${t[0][1]} L`;for(let e=0;e<t.length;e++)s+=`${t[e][0]} ${t[e][1]} `;return u.setAttributeNS(null,"d",s),n&&u.setAttributeNS(null,"class",n),e.appendChild(u),i&&setTimeout(()=>u.remove(),i),[u]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(35),o=["red","green","cyan","blue"];t.beziers=function(e,t,n,i){let u=void 0===n,s=[];for(let i=0;i<t.length;i++){let l=t[i],c=o[i%o.length],a=u?"thin5 nofill "+c:n;s.push(...r.bezier(e,l,a))}return i&&setTimeout(()=>s.forEach(e=>e.remove()),i),s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(33),i=n(35),u=n(67),s=n(120);t.bezierPiece=function(e,t,n,l=r.DEFAULT_CLASS,c){let a=[];if(n[0]===n[1]){let r=u.evaluateBezier(t,n[0]);a=o.crossHair(e,r,l,1.5)}else{let r=s.bezierFromBezierPiece(t,n);a=i.bezier(e,r,l)}return c&&setTimeout(()=>a.forEach(e=>e.remove()),c),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(67),o=n(121);t.bezierFromBezierPiece=function(e,t){if(0===t[0]&&1===t[1])return e;if(t[0]===t[1]){let n=r.evaluateBezier(e,t[0]);return[n,n,n,n]}return 0===t[0]?o.splitAt(e,t[1])[0]:1===t[1]?o.splitAt(e,t[0])[1]:o.splitAt(o.splitAt(e,t[0])[1],(t[1]-t[0])/(1-t[0]))[0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitAt=function(e,t){return 2===e.length?function(e,t){let[[n,r],[o,i]]=e,u=1-t,s=[u*n+t*o,u*r+t*i];return[[[n,r],s],[s,[o,i]]]}(e,t):3===e.length?function(e,t){let[[n,r],[o,i],[u,s]]=e,l=1-t,c=[l*l*n+2*l*t*o+t*t*u,l*l*r+2*l*t*i+t*t*s];return[[[n,r],[l*n+t*o,l*r+t*i],c],[c,[l*o+t*u,l*i+t*s],[u,s]]]}(e,t):4===e.length?function(e,t){let[[n,r],[o,i],[u,s],[l,c]]=e,a=1-t,f=t*t,d=f*t,p=a*a,g=p*a,h=[d*l+3*a*f*u+3*p*t*o+g*n,d*c+3*a*f*s+3*p*t*i+g*r];return[[[n,r],[t*o+a*n,t*i+a*r],[f*u+2*a*t*o+p*n,f*s+2*a*t*i+p*r],h],[h,[f*l+2*t*a*u+p*o,f*c+2*t*a*s+p*i],[t*l+a*u,t*c+a*s],[l,c]]]}(e,t):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(123),o=n(12);t.quadToPolyline=function(e,t){let n=[],i={ps:e,prev:void 0,next:void 0};for(n.push(i);n.length;){let e=n.pop();if(r.isQuadFlat(e.ps,t))continue;let u=o.splitAt(e.ps,.5),s=e.prev,l=e.next,c={ps:u[0],prev:s,next:void 0},a={ps:u[1],prev:void 0,next:l};c.next=a,a.prev=c,s&&(s.next=c),l&&(l.prev=a),i===e&&(i=c),n.push(c),n.push(a)}let u=[],s=i;for(u.push(i.ps[0]);s;)u.push(s.ps[2]),s=s.next;return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(68),i=n(3);t.isQuadFlat=function(e,t){if(o.isQuadObtuse(e))return!1;let[[n,u],,[s,l]]=e;if(n===s&&u===l)return!0;let[c,a]=i.evaluate(e,.5),f=Math.pow((l-u)*c-(s-n)*a+s*u-l*n,2),d=r.squaredDistanceBetween(e[0],e[2]);return Math.abs(f/d)<Math.pow(t,2)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1);const r=n(0),o=(n(11),n(6),n(3)),i=n(31),u=n(69);function s(e,t,n){let s=u.splitByMaxCurveLength(e,n),l=[];for(let n=0;n<s.length;n++){let u=s[n],c=o.evaluate(e,u),a=i.closestPointOnBezier(t,c);l.push({p1:c,p2:a.p,d:r.distanceBetween(c,a.p)})}return l}t.hausdorffDistanceCandidates=s,t.hausdorffDistance=function(e,t,n){let r=s(e,t,n),o=Number.NEGATIVE_INFINITY;for(let e of r)e.d>o&&(o=e.d);return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.lengthSquaredUpperBound=function(e){let t=0;for(let n=0;n<e.length-1;n++)t+=r.squaredDistanceBetween(e[n],e[n+1]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(70),i=n(36),u=n(37);function s(e,[t,n]){let o=u.dκMod(e);if(!(o(t)*o(n)>=0))return r.brent(o,t,n)}t.getCurvatureExtrema=function(e){if(2===e.length)return{maxCurvatureTs:[],maxNegativeCurvatureTs:[]};if(3===e.length)return{maxCurvatureTs:[],maxNegativeCurvatureTs:[]};let t=[],n=[],r=o.getCurvatureExtremaBrackets(e).brackets,u=i.κ(e),l=r.length;for(let o=0;o<l;o++){let i=r[o];if(!i)continue;let l=s(e,i);if(!l)continue;let c=-u(l),a=-u(i[0]),f=-u(i[1]);c>a&&c>f?c>0&&t.push(l):c<=a&&c<=f&&c<0&&n.push(l)}return{maxCurvatureTs:t,maxNegativeCurvatureTs:n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(70);t.getInflections=function(e){return r.getCurvatureExtremaBrackets(e).inflections}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15),o=n(71);t.splitByMaxCurvature=function(e,t=1.1){let n=[0,1],i=[[0,1]],u=r.fromTo(e);for(;i.length;){let e=i.pop(),r=u(e[0],e[1]);if(o.flatness(r)>t){let t=(e[0]+e[1])/2;i.push([e[0],t]),i.push([t,e[1]]),n.push(t)}}return n.sort((e,t)=>e-t),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15),o=n(18),i=n(0);t.splitByCurvatureAndLength=function(e,t=1.01,n=100){let u=[0,1],s=[[0,1]],l=r.fromTo(e);for(;s.length;){let e=s.pop(),r=l(e[0],e[1]),c=o.lengthUpperBound(r);if(1+c/n*(c/i.distanceBetween(r[0],r[r.length-1])-1)>t){let t=(e[0]+e[1])/2;s.push([e[0],t]),s.push([t,e[1]]),u.push(t)}}return u.sort((e,t)=>e-t),u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);t.detNaive=function e(t){let n=0;if(1===t.length)return t[0][0];if(2==t.length)return n=t[0][0]*t[1][1]-t[1][0]*t[0][1];for(let i=0;i<t.length;i++){let u=[];for(let e=0;e<t.length-1;e++){let e=[];for(let n=0;n<t.length-1;n++)e.push(0);u.push(e)}for(var r=1;r<t.length;r++)for(var o=0;o<t.length;o++)o<i?u[r-1][o]=t[r][o]:o>i&&(u[r-1][o-1]=t[r][o]);n+=(i%2==0?1:-1)*t[0][i]*e(u)}return n},t.detSlowExact=function e(t){var n=[0];if(1===t.length)return t[0][0];if(2==t.length){let e=r.expansionProduct(t[0][0],t[1][1]),n=r.negativeOf(r.expansionProduct(t[1][0],t[0][1]));return r.fastExpansionSum(e,n)}for(let u=0;u<t.length;u++){let s=[];for(let e=0;e<t.length-1;e++){for(var o=[],i=0;i<t.length-1;i++)o.push([0]);s.push(o)}for(let e=1;e<t.length;e++)for(let n=0;n<t.length;n++)n<u?s[e-1][n]=t[e][n]:n>u&&(s[e-1][n-1]=t[e][n]);let l=r.expansionProduct(t[0][u],e(s));u%2!=0&&(l=r.negativeOf(l)),n=r.fastExpansionSum(n,l)}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(72);t.areBeziersInSameKFamily=function(e,t){let n=r.evaluate(e),i=[.03125,.0625,.125,.25,.5,2,4,8,16,32].map(n);for(let e of i)if(!o.isPointOnBezierExtension(t,e))return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),o=n(0),i=n(36);t.getInterfaceCcw=function(e,t){let n=e[e.length-2],u=t[0],s=t[1],l=[u[0]-n[0],u[1]-n[1]],c=[s[0]-u[0],s[1]-u[1]],a=r.orient2d(n,u,s);return 0!==a?a:o.dot(l,c)>0?0:i.compareCurvaturesAtInterface(e.slice().reverse(),t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(73);function o(e){return function(e){for(let t=1;t<e.length;t++)if(e[t-1]>e[t])return!1;return!0}(e)||function(e){for(let t=1;t<e.length;t++)if(e[t-1]<e[t])return!1;return!0}(e)}t.isSelfOverlapping=function(e){if(!r.isLine(e))return!1;let t=e.map(e=>e[0]),n=e.map(e=>e[1]);return!(o(t)&&o(n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17),o=n(0),i=n(75);let u=r.memoize(function(e){let[t,n]=e[0],[r,u]=e[e.length-1],s=Math.sqrt((r-t)*(r-t)+(u-n)*(u-n)),l=(u-n)/s,c=(r-t)/s,a=function(e,t,n){let r=e[0].map(e=>-e),u=o.translateThenRotatePs(r,-t,n,e);return i.getBoundingBox(u)}(e,l,c),[[f,d],[p,g]]=a,h=[a[0],[p,d],a[1],[f,g]];return o.rotateThenTranslatePs(l,c,e[0],h)});t.getBoundingBoxTight=u}]);