const t=134217729;function n(n,r){const e=n*r,o=t*n,u=o-(o-n),i=n-u,c=t*r,s=c-(c-r),f=r-s;return[i*f-(e-u*s-i*s-u*f),e]}function r(t,n){const r=t.length,e=n.length;let o=0,u=0;const i=[];for(;o<r&&u<e;)0!==t[o]?0!==n[u]?Math.abs(t[o])<=Math.abs(n[u])?(i.push(t[o]),o++):(i.push(n[u]),u++):u++:o++;for(;o<r;)i.push(t[o]),o++;for(;u<e;)i.push(n[u]),u++;if(0===i.length)return[0];const c=i.length;if(1===c)return i;const s=[],f=i[1],l=i[0];let h=f+l;const a=l-(h-f);0!==a&&s.push(a),u=0;for(let t=2;t<c;t++){const n=i[t],r=h+n,e=r-h,o=h-(r-e)+(n-e);0!==o&&s.push(o),h=r}return 0===h&&0!==s.length||s.push(h),s}function e(t){const n=t.length,r=new Array(n);for(let e=0;e<n;e++)r[e]=-t[e];return r}const o=e,u=r;function i(t,n){const r=o(n);return u(t,r)}function c(t){let n=t[0];for(let r=1;r<t.length;r++)n+=t[r];return n}function s(t,n){const r=t-n,e=t-r;return[t-(r+e)+(e-n),r]}function f(t){const n=t.slice(),r=n.length;if(1===r)return n;let e=n[r-1],o=r;for(let t=r-2;t>=0;--t){const r=e,u=n[t];e=r+u;const i=u-(e-r);i&&(n[--o]=e,e=i)}let u=0;for(let t=o;t<r;++t){const r=n[t],o=e;e=r+o;const i=o-(e-r);i&&(n[u++]=i)}return n[u++]=e,n.length=u,n}function l(t,e,o){const u=(t[0]-o[0])*(e[1]-o[1]),l=(t[1]-o[1])*(e[0]-o[0]),h=u-l;let a;if(u>0){if(l<=0)return h;a=u+l}else{if(!(u<0))return h;if(l>=0)return h;a=-u-l}return Math.abs(h)>=3330669073875472e-31*a?h:function(t,e,o,u){const l=t[0]-o[0],h=e[0]-o[0],a=t[1]-o[1],g=e[1]-o[1],v=i(n(l,g),n(a,h));let p=c(v);if(Math.abs(p)>=2220446049250315e-31*u)return p;const d=s(t[0],o[0])[0],b=s(e[0],o[0])[0],m=s(t[1],o[1])[0],_=s(e[1],o[1])[0];if(0===d&&0===m&&0===b&&0===_)return p;const E=1109335647967049e-46*u+3330669073875471e-31*Math.abs(p);if(p+=l*_+g*d-(a*b+h*m),Math.abs(p)>=E)return p;const I=r(v,i(n(d,g),n(m,h))),N=r(I,i(n(l,_),n(a,b)));let T=r(N,i(n(d,_),n(m,b)));return T=f(T),T[T.length-1]}(t,e,o,a)}function h(t,n,r){const e=n[0]-t[0],o=n[1]-t[1];return e*(r[0]-n[0])+o*(r[1]-n[1])}const a=function(t,n){if(0===t.length)return;const r=t.slice(),e=function(t){let n,r=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY];for(let e=0;e<t.length;e++){const o=t[e][1];(o<r[1]||o===r[1]&&t[e][0]<r[0])&&(n=e,r=t[e])}return n}(r),[o]=r.splice(e,1);r.sort((t,n)=>{let r=-l(o,t,n);return 0!==r?r:(r=t[1]-n[1],0!==r?r:t[0]-n[0])}),r.unshift(o);const u=function(t){const n=[t[0]],r=t.length;for(let e=1;e<t.length;e++){const o=t[(e+r-1)%r],u=t[e];o[0]===u[0]&&o[1]===u[1]||n.push(u)}return n}(r),i=[];for(const t of u){for(;i.length>=2&&l(i[i.length-2],i[i.length-1],t)<0;)i.pop();i.push(t)}if(n||i.length<3)return i;const c=[];{const t=i.length;for(let n=0;n<t;n++){const r=(n+1)%t,e=i[(n+t-1)%t],o=i[n],u=i[r];(0!==l(e,o,u)||h(e,o,u)<0)&&c.push(o)}}return c};function g(t,n){const r=t-n,e=t-r;return[t-(r+e)+(e-n),r]}function v(t,n){const r=t+n,e=r-t;return[t-(r-e)+(n-e),r]}const p=134217729;function d(t,n){const r=t.length;let e;const o=t[0];let u=o*n;const i=p*o,c=i-(i-o),s=o-c,f=p*n,l=f-(f-n),h=n-l,a=[],g=s*h-(u-c*l-s*l-c*h);0!==g&&a.push(g);for(let o=1;o<r;o++){const r=t[o],i=r*n,c=p*r,s=c-(c-r),f=r-s,l=p*n,h=l-(l-n),g=n-h,v=f*g-(i-s*h-f*h-s*g),d=u+v,b=d-u,m=u-(d-b)+(v-b);0!==m&&a.push(m),e=d;const _=i+e,E=e-(_-i);0!==E&&a.push(E),u=_}return 0===u&&0!==a.length||a.push(u),a}function b(t,n){const r=n.length;let e;const o=n[0];let u=o*t;const i=p*o,c=i-(i-o),s=o-c,f=p*t,l=f-(f-t),h=t-l,a=[],g=s*h-(u-c*l-s*l-c*h);0!==g&&a.push(g);for(let o=1;o<r;o++){const r=n[o],i=r*t,c=p*r,s=c-(c-r),f=r-s,l=p*t,h=l-(l-t),g=t-h,v=f*g-(i-s*h-f*h-s*g),d=u+v,b=d-u,m=u-(d-b)+(v-b);0!==m&&a.push(m),e=d;const _=i+e,E=e-(_-i);0!==E&&a.push(E),u=_}return 0===u&&0!==a.length||a.push(u),a}const m=d,_=r;function E(t,n){let r=[0];for(let e=0;e<t.length;e++)r=_(r,m(n,t[e]));return r}function I(t,n){const r=t.length;let e=n;const o=[];for(let n=0;n<r;n++){const r=t[n],u=e+r,i=u-e,c=e-(u-i)+(r-i);0!==c&&o.push(c),e=u}return 0===e&&0!==o.length||o.push(e),o}function N(t){return t[t.length-1]}function T(t,n){return N(i(t,n))}const M=Number.EPSILON/2,w=M*M;function x(t){const n=t*M;return n/(1-n)}function S(t){const n=t*w;return n/(1-n)}function y(t){const n=t[0][0],r=t[0][1];for(let e=1;e<t.length;e++)if(n!==t[e][0]||r!==t[e][1])return!1;return!0}function P(t,n){const r=t+n,e=r-t;return[t-(r-e)+(n-e),r]}x(1),S(3);const B=i,O=N,z=P,{abs:L}=Math;function F(t){const[[n,r],[e,o],[u,i]]=t,c=n+u,s=c-2*e,f=L(c)+L(s);if(L(s)-f>0)return!1;const l=r+i,h=l-2*o,a=L(l)+L(h);return!(L(h)-a>0)&&0===O(B(z(n,u),[2*e]))&&0===O(B(z(r,i),[2*o]))}const A=n,Y=r,R=N,V=i,q=Number.EPSILON/2,G=Math.abs;function D(t){const[[n,r],[e,o],[u,i],[c,s]]=t,f=c+3*e,l=n+3*u,h=f-l,a=G(3*e)+G(f)+(G(3*u)+G(l))+G(h);if(G(h)-q*a>0)return!1;const g=s+3*o,v=r+3*i,p=g-v,d=G(3*o)+G(g)+(G(3*i)+G(v))+G(p);return!(G(p)-q*d>0)&&0===R(V(Y([c],A(3,e)),Y([n],A(3,u))))&&0===R(V(Y([s],A(3,o)),Y([r],A(3,i))))}const C=l;function k(t){if(4===t.length)return 0===C(t[0],t[1],t[2])&&0===C(t[1],t[2],t[3])&&0===C(t[0],t[2],t[3]);if(3===t.length)return 0===C(t[0],t[1],t[2]);if(t.length<=2)return!0;throw new Error("The given bezier curve must be of order <= 3.")}function H(t){const n=t[0][1];for(let r=1;r<t.length;r++)if(t[r][1]!==n)return!1;return!0}function Q(t){const n=t[0][0];for(let r=1;r<t.length;r++)if(t[r][0]!==n)return!1;return!0}const X=d,j=i,$=P,U=N;function J(t){if(!k(t))return!1;const[n,r,e,o]=t,[u,i]=n,[c,s]=r,[f,l]=e,[h,a]=o,g=j(X($(c/4,f/4),3),$(u/4,h/4)),v=j(X($(s/4,l/4),3),$(i/4,a/4));return 0===U(j($(u/2,h/2),g))&&0===U(j($(i/2,a/2),v))}const K=Math.abs;function W(t){if(4===t.length)return Z(t);if(3===t.length)return function(t){const[[n,r],[e,o],[u,i]]=t,c=u+n,s=c-2*e,f=2*(e-n),l=i+r,h=l-2*o,a=2*(o-r);return{coeffs:[[s,f,n],[h,a,r]],errorBound:[[K(c)+K(s),K(f),0],[K(l)+K(h),K(a),0]]}}(t);if(2===t.length)return function(t){const[[n,r],[e,o]]=t,u=e-n,i=o-r;return{coeffs:[[u,n],[i,r]],errorBound:[[K(u),0],[K(i),0]]}}(t);if(1===t.length)return function(t){const[[n,r]]=t;return{coeffs:[[n],[r]],errorBound:[[0],[0]]}}(t);throw new Error("The given bezier curve must be of order <= 3.")}function Z(t){const[[n,r],[e,o],[u,i],[c,s]]=t,f=c-n,l=e-u,h=f+3*l,a=u+n,g=a-2*e,v=e-n,p=s-r,d=o-i,b=p+3*d,m=i+r,_=m-2*o,E=o-r;return{coeffs:[[h,3*g,3*v,n],[b,3*_,3*E,r]],errorBound:[[K(f)+6*K(l)+K(h),6*(K(a)+K(g)),6*K(v),0],[K(p)+6*K(d)+K(b),6*(K(m)+K(_)),6*K(E),0]]}}const tt=Math.abs,nt=x(1);function rt(t){const{coeffs:[[n,r,e],[o,u,i]],errorBound:[[c,s],[f,l]]}=Z(t),h=tt(n),a=tt(r),g=tt(e),v=tt(o),p=tt(u),d=tt(i),b=r*o,m=n*u,_=n*i,E=e*o,I=r*i,N=e*u,T=s*v+a*f+tt(b),M=c*p+h*l+tt(m),w=c*d+tt(_),x=g*f+tt(E),S=s*d+tt(I),y=g*l+tt(N),P=b-m,B=tt(P),O=T+M+B,z=E-_,L=tt(z),F=x+w+L,A=I-N,Y=tt(A),R=S+y+Y,V=P*P,q=P*z,G=A*P,D=z*z,C=G+D;return{coeffs:[V,q,C],errBound:[2*O*B+tt(V),O*L+B*F+tt(q),R*B+Y*O+tt(G)+(2*L*F+tt(D))+tt(C)].map(t=>nt*t)}}const et=s,ot=P,ut=b,it=I,ct=r;function st(t){if(4===t.length)return ft(t);if(3===t.length)return lt(t);if(2===t.length)return ht(t);if(1===t.length)return at(t);throw new Error("The given bezier curve must be of order <= cubic.")}function ft(t){const[[n,r],[e,o],[u,i],[c,s]]=t;return[[ct(et(c,n),ut(3,et(e,u))),ut(3,it(ot(u,n),-2*e)),ut(3,et(e,n)),[n]],[ct(et(s,r),ut(3,et(o,i))),ut(3,it(ot(i,r),-2*o)),ut(3,et(o,r)),[r]]]}function lt(t){const[[n,r],[e,o],[u,i]]=t;return[[it(ot(u,n),-2*e),et(2*e,2*n),[n]],[it(ot(i,r),-2*o),et(2*o,2*r),[r]]]}function ht(t){const[[n,r],[e,o]]=t;return[[et(e,n),[n]],[et(o,r),[r]]]}function at(t){const[[n,r]]=t;return[[[n]],[[r]]]}const gt=E,vt=r,pt=i;function dt(t){const[[n,r,e],[o,u,i]]=ft(t),c=gt(r,o),s=gt(n,u),f=gt(n,i),l=gt(e,o),h=gt(r,i),a=gt(e,u),g=pt(c,s),v=pt(l,f),p=pt(h,a),d=gt(g,g),b=gt(g,v),m=gt(g,p),_=gt(v,v);return[d,b,vt(m,_)]}const bt=N,mt=T,_t=i,Et=E,It=b,Nt=g,Tt=v,Mt=r,wt=I,xt=Math.abs,St=x(1),yt={order:0,realOrder:0,collinear:!0,nodeType:"n/a"},Pt={order:1,realOrder:1,collinear:!0,nodeType:"n/a"},Bt={order:1,realOrder:0,collinear:!0,nodeType:"n/a"},Ot={order:2,realOrder:2,collinear:!1,nodeType:"n/a"},zt={order:2,realOrder:2,collinear:!0,nodeType:"n/a"},Lt={order:2,realOrder:1,collinear:!0,nodeType:"n/a"},Ft={order:2,realOrder:0,collinear:!0,nodeType:"n/a"},At={order:3,realOrder:3,collinear:!1,nodeType:"crunode"},Yt={order:3,realOrder:3,collinear:!1,nodeType:"acnode"},Rt={order:3,realOrder:3,collinear:!1,nodeType:"cusp"},Vt={order:3,realOrder:3,collinear:!1,nodeType:"explicit"},qt={order:3,realOrder:3,collinear:!0,nodeType:"n/a"},Gt={order:3,realOrder:2,collinear:!1,nodeType:"n/a"},Dt={order:3,realOrder:2,collinear:!0,nodeType:"n/a"},Ct={order:3,realOrder:1,collinear:!0,nodeType:"n/a"},kt={order:3,realOrder:0,collinear:!0,nodeType:"n/a"},Ht={point:yt,lineGeneral:Pt,lineDegenPoint:Bt,quadGeneral:Ot,quadDegenCollinear:zt,quadDegenLine:Lt,quadDegenPoint:Ft,cubicGeneralCrunode:At,cubicGeneralAcnode:Yt,cubicGeneralCusp:Rt,cubicGeneralExplicit:Vt,cubicDegenCollinearCubic:qt,cubicDegenQuad:Gt,cubicDegenCollinearQuad:Dt,cubicDegenLine:Ct,cubicDegenPoint:kt},Qt={isPoint:function(t){return Xt(t)===yt},isLineGeneral:function(t){return Xt(t)===Pt},isLineDegenPoint:function(t){return Xt(t)===Bt},isQuadGeneral:function(t){return Xt(t)===Ot},isQuadDegenCollinear:function(t){return Xt(t)===zt},isQuadDegenLine:function(t){return Xt(t)===Lt},isQuadDegenPoint:function(t){return Xt(t)===Ft},isCubicGeneralCrunode:function(t){return Xt(t)===At},isCubicGeneralAcnode:function(t){return Xt(t)===Yt},isCubicGeneralCusp:function(t){return Xt(t)===Rt},isCubicGeneralExplicit:function(t){return Xt(t)===Vt},isCubicDegenCollinearCubic:function(t){return Xt(t)===qt},isCubicDegenQuad:function(t){return Xt(t)===Gt},isCubicDegenCollinearQuad:function(t){return Xt(t)===Dt},isCubicDegenLine:function(t){return Xt(t)===Ct},isCubicDegenPoint:function(t){return Xt(t)===kt}};function Xt(t){if(4===t.length)return D(t)?J(t)?y(t)?kt:Ct:k(t)?Dt:Gt:k(t)?qt:function(t){const{coeffs:[n,r,e],errBound:[o,u,i]}=rt(t);if(xt(n)<=o){const[[n,r],[e,o],[u,i],[c,s]]=t,f=Mt(Nt(c,n),It(3,Nt(e,u))),l=wt(Tt(u,n),-2*e),h=Mt(Nt(s,r),It(3,Nt(o,i))),a=wt(Tt(i,r),-2*o),g=Et(l,h),v=Et(f,a);if(0===mt(g,v))return Vt}const c=r*r,s=4*n*e,f=c-s,l=2*u*xt(r)+St*c+(4*(o*xt(e)+xt(n)*i)+St*xt(s))+St*xt(f);if(f<-l)return Yt;if(f>l)return At;const[h,a,g]=dt(t),v=_t(Et(a,a),It(4,Et(h,g))),p=bt(v);return p<0?Yt:p>0?At:Rt}(t);if(3===t.length)return k(t)?F(t)?y(t)?Ft:Lt:zt:Ot;if(2===t.length)return y(t)?Bt:Pt;if(1===t.length)return yt;throw new Error("The given bezier curve must be of order <= 3")}function jt(t){let n=0;for(let r=0;r<=t.length-1&&0===t[r];r++)n++;return 0!==n&&(t=t.slice(n)),t}const $t=jt,Ut=jt;function Jt(t,n){const r=t.length-1,e=n.length-1;if(r<0||e<0)return[];const o=r+e,u=new Array(o+1).fill(0);for(let i=0;i<r+1;i++)for(let c=0;c<e+1;c++)u[o-(i+c)]+=t[r-i]*n[e-c];return Ut(u)}function Kt(t){if(4===t.length)return Wt(t);if(3===t.length)return Zt(t);if(2===t.length)return tn(t);if(1===t.length)return function(t){const[[n,r]]=t;return[[n],[r]]}(t);throw new Error("The given bezier curve must be of order <= 3.")}function Wt(t){const[[n,r],[e,o],[u,i],[c,s]]=t;return[[c-n+3*(e-u),3*(u+n-2*e),3*(e-n),n],[s-r+3*(o-i),3*(i+r-2*o),3*(o-r),r]]}function Zt(t){const[[n,r],[e,o],[u,i]]=t;return[[u+n-2*e,2*(e-n),n],[i+r-2*o,2*(o-r),r]]}function tn(t){const[[n,r],[e,o]]=t;return[[e-n,n],[o-r,r]]}function nn(t){if(4===t.length)return function(t){const[[n,r],[e,o],[u,i],[c,s]]=t;return[[3*(c-n+3*(e-u)),6*(u+n-2*e),3*(e-n)],[3*(s-r+3*(o-i)),6*(i+r-2*o),3*(o-r)]]}(t);if(3===t.length)return function(t){const[[n,r],[e,o],[u,i]]=t;return[[2*(u+n-2*e),2*(e-n)],[2*(i+r-2*o),2*(o-r)]]}(t);if(2===t.length)return function(t){const[[n,r],[e,o]]=t;return[[e-n],[o-r]]}(t);if(1===t.length)return[[0],[0]];throw new Error("The bezier curve must be of order <= 3.")}function rn(t){const[n,r]=Kt(t),[e,o]=nn(t),u=function(t){const n=[],r=t.length-1;for(let e=0;e<r+1;e++)n.push(t[e]/(r+1-e));return n.push(0),n}(function(t,n){const r=t.length-1,e=n.length-1,o=r-e,u=o<0?+o:0,i=o>0?-o:0,c=Math.max(r,e),s=[];for(let r=0;r<c+1;r++){const e=t[r+u]||0,o=n[r+i]||0;s.push(e-o)}return $t(s)}(Jt(n,o),Jt(r,e)));let i=0;for(let t=0;t<u.length;t++)i+=u[t];return i/2}function en(t,n){const r=n[0]-t[0],e=n[1]-t[1];return Math.sqrt(r*r+e*e)}function on(t,n){const[r,e]=t,[[o,u],[i,c]]=n;return en([o+r*(i-o),u+r*(c-u)],[o+e*(i-o),u+e*(c-u)])}function un(t,n,r=16){if(n[0]===n[1])return 0;const{weights:e,abscissas:o}=cn[r],[u,i]=n;let c=0;const s=(i-u)/2,f=(i+u)/2;for(let n=0;n<=r-1;n++)c+=e[n]*t(s*o[n]+f);return s*c}const cn={2:{weights:[1,1],abscissas:[-.5773502691896257,.5773502691896257]},4:{weights:[.6521451548625461,.6521451548625461,.3478548451374538,.3478548451374538],abscissas:[-.3399810435848563,.3399810435848563,-.8611363115940526,.8611363115940526]},8:{weights:[.362683783378362,.362683783378362,.3137066458778873,.3137066458778873,.2223810344533745,.2223810344533745,.1012285362903763,.1012285362903763],abscissas:[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363]},16:{weights:[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685,.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096],abscissas:[-.9894009349916499,-.9445750230732326,-.8656312023878318,-.755404408355003,-.6178762444026438,-.45801677765722737,-.2816035507792589,-.09501250983763744,.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]},64:{weights:[.048690957009139724,.048690957009139724,.04857546744150343,.04857546744150343,.048344762234802954,.048344762234802954,.04799938859645831,.04799938859645831,.04754016571483031,.04754016571483031,.04696818281621002,.04696818281621002,.046284796581314416,.046284796581314416,.04549162792741814,.04549162792741814,.044590558163756566,.044590558163756566,.04358372452932345,.04358372452932345,.04247351512365359,.04247351512365359,.04126256324262353,.04126256324262353,.03995374113272034,.03995374113272034,.038550153178615626,.038550153178615626,.03705512854024005,.03705512854024005,.035472213256882386,.035472213256882386,.033805161837141606,.033805161837141606,.03205792835485155,.03205792835485155,.030234657072402478,.030234657072402478,.028339672614259483,.028339672614259483,.02637746971505466,.02637746971505466,.024352702568710874,.024352702568710874,.022270173808383253,.022270173808383253,.02013482315353021,.02013482315353021,.017951715775697343,.017951715775697343,.015726030476024718,.015726030476024718,.013463047896718643,.013463047896718643,.011168139460131128,.011168139460131128,.008846759826363947,.008846759826363947,.006504457968978363,.006504457968978363,.004147033260562468,.004147033260562468,.001783280721696433,.001783280721696433],abscissas:[-.024350292663424433,.024350292663424433,-.07299312178779904,.07299312178779904,-.12146281929612056,.12146281929612056,-.16964442042399283,.16964442042399283,-.21742364374000708,.21742364374000708,-.2646871622087674,.2646871622087674,-.31132287199021097,.31132287199021097,-.3572201583376681,.3572201583376681,-.4022701579639916,.4022701579639916,-.4463660172534641,.4463660172534641,-.48940314570705296,.48940314570705296,-.5312794640198946,.5312794640198946,-.571895646202634,.571895646202634,-.6111553551723933,.6111553551723933,-.6489654712546573,.6489654712546573,-.6852363130542333,.6852363130542333,-.7198818501716109,.7198818501716109,-.7528199072605319,.7528199072605319,-.7839723589433414,.7839723589433414,-.8132653151227975,.8132653151227975,-.8406292962525803,.8406292962525803,-.8659993981540928,.8659993981540928,-.8893154459951141,.8893154459951141,-.9105221370785028,.9105221370785028,-.9295691721319396,.9295691721319396,-.9464113748584028,.9464113748584028,-.9610087996520538,.9610087996520538,-.973326827789911,.973326827789911,-.983336253884626,.983336253884626,-.9910133714767443,.9910133714767443,-.9963401167719553,.9963401167719553,-.9993050417357722,.9993050417357722]}};function sn(t,n){let r=0;for(let e=0;e<t.length;e++)r=r*n+t[e];return r}function fn(t){const[n,r]=nn(t);return function(t){const e=sn(n,t),o=sn(r,t);return Math.sqrt(e*e+o*o)}}const ln=Math.abs,hn=[[0,0],[0,0],[0,0]];function an(t,n,r){return 0===n?1===r?{ps:t,_ps:hn}:function(t,n){const r=t[0],e=t[1],o=t[2],u=r[0],i=r[1],c=e[0],s=e[1],f=o[0],l=o[1],h=n*n,a=u-c,g=i-s,v=[[u,i],[-n*a+u,-n*g+i],[h*(a+(f-c))-(2*n*a-u),h*(g+(l-s))-(2*n*g-i)]],p=ln(n),d=ln(u),b=ln(c),m=ln(f),_=d+b,E=ln(i),I=ln(s),N=E+I;return{ps:v,_ps:[[0,0],[p*_+d,p*N+E],[h*(_+(m+b))+(2*p*_+d),h*(N+(ln(l)+I))+(2*p*N+E)]]}}(t,r):1===r?function(t,n){const r=t[0],e=t[1],o=t[2],u=r[0],i=r[1],c=e[0],s=e[1],f=o[0],l=o[1],h=n*n,a=u-c,g=f-c,v=i-s,p=l-s,d=[[h*(a+g)-(2*n*a-u),h*(v+p)-(2*n*v-i)],[n*g+c,n*p+s],[f,l]],b=ln(n),m=ln(u),_=ln(c),E=m+_,I=ln(f)+_,N=ln(i),T=ln(s),M=N+T;return{ps:d,_ps:[[h*(E+I)+(2*b*E+m),h*(M+(ln(l)+T))+(2*b*M+N)],[b*I+_,0],[0,0]]}}(t,n):function(t,n,r){const e=t[0],o=t[1],u=t[2],i=e[0],c=e[1],s=o[0],f=o[1],l=u[0],h=u[1],a=n*n,g=r*r,v=n*r,p=i-s,d=p+(l-s),b=c-f,m=b+(h-f),_=a*d-(2*n*p-i),E=v*d-(p*(r+n)-i),I=g*d-(2*r*p-i),N=a*m-(2*n*b-c),T=v*m-(b*(r+n)-c),M=g*m-(2*r*b-c),w=ln(n),x=ln(r),S=ln(v),y=ln(i),P=ln(s),B=y+P,O=B+ln(l)+P,z=ln(c),L=ln(f),F=z+L,A=F+ln(h)+L;return{ps:[[_,N],[E,T],[I,M]],_ps:[[a*O+(2*w*B+y),a*A+(2*w*F+z)],[S*O+(B*(x+w)+y),S*m+(F*(x+w)+z)],[g*O+(2*x*B+y),g*A+(2*x*F+z)]]}}(t,n,r)}const gn=134217729;function vn(t,n){const r=t*n,e=gn*t,o=e-(e-t),u=t-o,i=gn*n,c=i-(i-n),s=n-c;return[u*s-(r-o*c-u*c-o*s),r]}function pn(t,n){const r=t[0],e=t[1],o=n[0],u=n[1],i=e+u,c=i-e,s=r+o,f=s-r,l=e-(i-c)+(u-c)+s,h=i+l,a=r-(s-f)+(o-f)+(l-(h-i)),g=h+a;return[a-(g-h),g]}function dn(t,n){const r=t[0],e=t[1],o=n[0],u=n[1],i=e-u,c=i-e,s=r-o,f=s-r,l=e-(i-c)+(-u-c)+s,h=i+l,a=r-(s-f)+(-o-f)+(l-(h-i)),g=h+a;return[a-(g-h),g]}const bn=vn,mn=pn,_n=dn,{atan2:En}=Math;function In(t,n){const r=t[0],e=t[1],o=n[0],u=n[1],i=_n(bn(u,r),bn(o,e))[1],c=mn(bn(o,r),bn(u,e))[1];return En(i,c)}const{abs:Nn}=Math;function Tn(t){const n=[];for(let r=0;r<t.length-1;r++){const e=[t[r+1][0]-t[r][0],t[r+1][1]-t[r][1]];0!==(0!==e[0]||e[1])&&n.push(e)}const r=n.length;let e=0;for(let t=0;t<r-1;t++)e+=Nn(In(n[t],n[t+1]));return e}function Mn(t,n,r){if(4===t.length)return function(t,n,r){return 0===n?1===r?t:function(t,n){const r=t[0],e=t[1],o=t[2],u=t[3],i=r[0],c=r[1],s=e[0],f=e[1],l=o[0],h=o[1],a=i-n*(i-s),g=s-n*(s-l),v=a-n*(a-g),p=c-n*(c-f),d=f-n*(f-h),b=p-n*(p-d);return[r,[a,p],[v,b],[v-n*(v-(g-n*(g-(l-n*(l-u[0]))))),b-n*(b-(d-n*(d-(h-n*(h-u[1])))))]]}(t,r):1===r?function(t,n){const r=t[0],e=t[1],o=t[2],u=t[3],i=r[0],c=r[1],s=e[0],f=e[1],l=o[0],h=o[1],a=i-n*(i-s),g=s-n*(s-l),v=l-n*(l-u[0]),p=a-n*(a-g),d=g-n*(g-v),b=c-n*(c-f),m=f-n*(f-h),_=h-n*(h-u[1]),E=b-n*(b-m),I=m-n*(m-_);return[[p-n*(p-d),E-n*(E-I)],[d,I],[v,_],u]}(t,n):function(t,n,r){const e=t[0],o=t[1],u=t[2],i=t[3],c=e[0],s=e[1],f=o[0],l=o[1],h=u[0],a=u[1],g=n*n,v=n*g,p=r*r,d=r*p,b=n*r,m=c-f,_=h-f,E=m+_,I=n*m,N=r*m,T=i[0]-c-3*_,M=s-l,w=a-l,x=M+w,S=n*M,y=r*M,P=i[1]-s-3*w;return[[v*T+(3*n*(n*E-m)+c),v*P+(3*n*(n*x-M)+s)],[b*(n*T+2*E)+(g*E+c-(N+2*I)),b*(n*P+2*x)+(g*x+s-(y+2*S))],[b*(r*T+2*E)+(p*E+c-(2*N+I)),b*(r*P+2*x)+(p*x+s-(2*y+S))],[d*T+(3*r*(r*E-m)+c),d*P+(3*r*(r*x-M)+s)]]}(t,n,r)}(t,n,r);if(3===t.length)return function(t,n,r){return 0===n?1===r?t:function(t,n){const r=t[0],e=t[1],o=t[2],u=r[0],i=r[1],c=e[0],s=e[1],f=n*n,l=u-c,h=i-s;return[r,[-n*l+u,-n*h+i],[f*(l+(o[0]-c))-(2*n*l-u),f*(h+(o[1]-s))-(2*n*h-i)]]}(t,r):1===r?function(t,n){const r=t[0],e=t[1],o=t[2],u=r[0],i=r[1],c=e[0],s=e[1],f=n*n,l=u-c,h=o[0]-c,a=i-s,g=o[1]-s;return[[f*(l+h)-(2*n*l-u),f*(a+g)-(2*n*a-i)],[n*h+c,n*g+s],o]}(t,n):function(t,n,r){const e=t[0],o=t[1],u=t[2],i=e[0],c=e[1],s=o[0],f=o[1],l=n*n,h=r*r,a=n*r,g=i-s,v=g+(u[0]-s),p=c-f,d=p+(u[1]-f);return[[l*v-(2*n*g-i),l*d-(2*n*p-c)],[a*v-(g*(r+n)-i),a*d-(p*(r+n)-c)],[h*v-(2*r*g-i),h*d-(2*r*p-c)]]}(t,n,r)}(t,n,r);if(2===t.length)return function(t,n,r){return 0===n?1===r?t:function(t,n){const r=t[0],e=t[1],o=r[0],u=r[1];return[r,[n*(e[0]-o)+o,n*(e[1]-u)+u]]}(t,r):1===r?function(t,n){const r=t[0],e=t[1],o=r[0],u=r[1];return[[n*(e[0]-o)+o,n*(e[1]-u)+u],e]}(t,n):function(t,n,r){const e=t[0],o=t[1],u=e[0],i=e[1],c=o[0],s=o[1];return[[n*(c-u)+u,n*(s-i)+i],[r*(c-u)+u,r*(s-i)+i]]}(t,n,r)}(t,n,r);if(1===t.length)return t;throw new Error("The given bezier curve must be of order <= 3.")}function wn(t,n=.4,r=2**-16){const e=[0],o=[1];for(;;){const u=e[e.length-1],i=o[o.length-1];if(Tn(Mn(t,u,i))<=n||i-u<=r){if(e.push(o.pop()),1===i)return e;continue}const c=(u+i)/2;o.push(c)}}function xn(t,n,r=.4,e=16){const o=t[0],u=t[1];if(o===u)return 0;const[[i,c],[s,f],[l,h]]=n;if(i===s&&s===l&&c===f&&f===h)return 0;const a=an(n,o,u).ps,g=wn(a,r);let v=0;for(let t=0;t<g.length-1;t++){const n=g[t],r=g[t+1];v+=un(fn(a),[n,r],e)}return v}const Sn=Math.abs,yn=[[0,0],[0,0],[0,0],[0,0]];function Pn(t,n,r){return 0===n?1===r?{ps:t,_ps:yn}:function(t,n){const r=t[0],e=t[1],o=t[2],u=t[3],i=r[0],c=r[1],s=e[0],f=e[1],l=o[0],h=o[1],a=u[0],g=u[1],v=i-n*(i-s),p=s-n*(s-l),d=v-n*(v-p),b=d-n*(d-(p-n*(p-(l-n*(l-a))))),m=c-n*(c-f),_=f-n*(f-h),E=m-n*(m-_),I=E-n*(E-(_-n*(_-(h-n*(h-g))))),N=Sn(n),T=Sn(i),M=Sn(s),w=Sn(l),x=Sn(a),S=Sn(c),y=Sn(f),P=Sn(h),B=T+N*(T+M),O=M+N*(M+w),z=B+N*(B+O),L=S+N*(S+y),F=y+N*(y+P),A=L+N*(L+F);return{ps:[[i,c],[v,m],[d,E],[b,I]],_ps:[[0,0],[B,L],[z,A],[z+N*(z+(O+N*(O+(w+N*(w+x))))),A+N*(A+(F+N*(F+(P+N*(P+Sn(g))))))]]}}(t,r):1===r?function(t,n){const r=t[0],e=t[1],o=t[2],u=t[3],i=r[0],c=r[1],s=e[0],f=e[1],l=o[0],h=o[1],a=u[0],g=u[1],v=i-n*(i-s),p=s-n*(s-l),d=l-n*(l-a),b=v-n*(v-p),m=p-n*(p-d),_=b-n*(b-m),E=c-n*(c-f),I=f-n*(f-h),N=h-n*(h-g),T=E-n*(E-I),M=I-n*(I-N),w=T-n*(T-M),x=Sn(n),S=Sn(i),y=Sn(s),P=Sn(l),B=Sn(a),O=Sn(c),z=Sn(f),L=Sn(h),F=S+x*(S+y),A=y+x*(y+P),Y=P+x*(P+B),R=F+x*(F+A),V=A+x*(A+Y),q=O+x*(O+z),G=z+x*(z+L),D=L+x*(L+Sn(g)),C=q+x*(q+G),k=G+x*(G+D);return{ps:[[_,w],[m,M],[d,N],[a,g]],_ps:[[R+x*(R+V),C+x*(C+k)],[V,k],[Y,D],[0,0]]}}(t,n):function(t,n,r){const e=t[0],o=t[1],u=t[2],i=t[3],c=e[0],s=e[1],f=o[0],l=o[1],h=u[0],a=u[1],g=n*n,v=n*g,p=r*r,d=r*p,b=n*r,m=c-f,_=h-f,E=i[0]-c,I=m+_,N=n*m,T=r*m,M=E-3*_,w=s-l,x=a-l,S=i[1]-s,y=w+x,P=n*w,B=r*w,O=S-3*x,z=v*M+(3*n*(n*I-m)+c),L=b*(n*M+2*I)+(g*I+c-(T+2*N)),F=b*(r*M+2*I)+(p*I+c-(2*T+N)),A=d*M+(3*r*(r*I-m)+c),Y=v*O+(3*n*(n*y-w)+s),R=b*(n*O+2*y)+(g*y+s-(B+2*P)),V=b*(r*O+2*y)+(p*y+s-(2*B+P)),q=d*O+(3*r*(r*y-w)+s),G=Sn(n),D=Sn(r),C=Sn(b),k=Sn(v),H=Sn(d),Q=Sn(c),X=Sn(f),j=Q+X,$=Sn(h)+X,U=j+$,J=G*j,K=D*j,W=Sn(E)+3*$,Z=Sn(s),tt=Sn(l),nt=Z+tt,rt=Sn(a)+tt,et=nt+rt,ot=G*nt,ut=D*nt,it=Sn(S)+3*rt;return{ps:[[z,Y],[L,R],[F,V],[A,q]],_ps:[[k*W+(3*G*(G*U+j)+Q),k*it+(3*G*(G*et+nt)+Z)],[C*(G*W+2*U)+(g*U+Q+(K+2*J)),C*(G*it+2*et)+(g*et+Z+(ut+2*ot))],[C*(D*W+2*U)+(p*U+Q+(2*K+J)),C*(D*it+2*et)+(p*et+Z+(2*ut+ot))],[H*W+(3*D*(D*U+j)+Q),H*it+(3*D*(D*et+nt)+Z)]]}}(t,n,r)}function Bn(t,n,r=.4,e=16){const o=t[0],u=t[1];if(o===u)return 0;const[[i,c],[s,f],[l,h],[a,g]]=n;if(i===s&&s===l&&l===a&&c===f&&f===h&&h===g)return 0;const v=Pn(n,o,u).ps,p=wn(v,r);let d=0;for(let t=0;t<p.length-1;t++){const n=p[t],r=p[t+1];d+=un(fn(v),[n,r],e)}return d}function On(t,n,r=.4,e=16){if(4===n.length)return Bn(t,n,r,e);if(3===n.length)return xn(t,n,r,e);if(2===n.length)return on(t,n);if(1===n.length)return 0;throw new Error("The given bezier curve must be of order <= 3.")}function zn(t,n=.4,r=16){if(4===t.length)return Bn([0,1],t,n,r);if(3===t.length)return xn([0,1],t,n,r);if(2===t.length)return on([0,1],t);if(1===t.length)return 0;throw new Error("The given bezier curve must be of order <= 3.")}function Ln(t){const n=[];for(let r=0;r<t.length;r++){const e=t[r];n.push([e[0],e[1]])}return n}const Fn=Number.EPSILON,An=Math.abs,Yn=Math.max;function Rn(t,n){return 0===n?0:function(t){let n=0,r=1.125,e=t(n),o=t(r),u=n,i=e,c=r-n,s=c;for(;;){An(i)<An(o)&&(n=r,r=u,u=n,e=o,o=i,i=e);const f=2*Fn*Yn(1,An(n),An(r)),l=.5*(u-r);if(An(l)<=f)return r;if(An(c)<f||An(e)<=An(o))c=l,s=c;else{let t,h,a=o/e;if(n===u)t=2*l*a,h=1-a;else{h=e/i;const u=o/i;t=a*(2*l*h*(h-u)-(r-n)*(u-1)),h=(h-1)*(u-1)*(a-1)}0<t?h=-h:t=-t,a=c,c=s,2*t<3*l*h-An(f*h)&&t<An(.5*a*h)?s=t/h:(c=l,s=c)}if(n=r,e=o,f<An(s)?r+=s:0<l?r+=f:r-=f,o=t(r),0===o)return r;o*i>0&&(u=n,i=e,c=r-n,s=c)}}(r=>(n=>On([0,n],t))(r)-n)}function Vn(t,n){if(t===n)return!0;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r][0]!==n[r][0]||t[r][1]!==n[r][1])return!1;return!0}const qn=Math.abs,Gn=[[0,0],[0,0]];function Dn(t,n,r){return 0===n?1===r?{ps:t,_ps:Gn}:function(t,n){const r=t[0],e=t[1],o=r[0],u=r[1],i=e[0],c=e[1],s=[[o,u],[n*(i-o)+o,n*(c-u)+u]],f=qn(n),l=qn(o),h=qn(i),a=qn(u);return{ps:s,_ps:[[0,0],[f*(h+l)+l,f*(qn(c)+a)+a]]}}(t,r):1===r?function(t,n){const r=t[0],e=t[1],o=r[0],u=r[1],i=e[0],c=e[1],s=[[n*(i-o)+o,n*(c-u)+u],[i,c]],f=qn(n),l=qn(o),h=qn(i),a=qn(u);return{ps:s,_ps:[[f*(h+l)+l,f*(qn(c)+a)+a],[0,0]]}}(t,n):function(t,n,r){const e=t[0],o=t[1],u=e[0],i=e[1],c=o[0],s=o[1],f=[[n*(c-u)+u,n*(s-i)+i],[r*(c-u)+u,r*(s-i)+i]],l=qn(n),h=qn(r),a=qn(u),g=qn(c),v=qn(i),p=qn(s);return{ps:f,_ps:[[l*(g+a)+a,l*(p+v)+v],[h*(g+a)+a,h*(p+v)+v]]}}(t,n,r)}const Cn=Pn,kn=an,Hn=Dn;function Qn(t,n,r){if(4===t.length)return Cn(t,n,r);if(3===t.length)return kn(t,n,r);if(2===t.length)return Hn(t,n,r);if(1===t.length)return{ps:t,_ps:[[0]]};throw new Error("The given bezier curve must be of order <= 3.")}const Xn=E,jn=s,$n=i,Un=N,Jn=c,Kn=d,Wn=P;function Zn(t,n=!1){const[r,e,o,u]=t;if(!n){const[t,n]=r,[i,c]=e,[s,f]=o,[l,h]=u;return[r,[Jn($n(Kn(Wn(i/4,s/4),3),Wn(t/4,l/4))),Jn($n(Kn(Wn(c/4,f/4),3),Wn(n/4,h/4)))],u]}const i=function(t,n){const[[r,e],[o,u]]=t,[[i,c],[s,f]]=n,l=jn(o,r),h=jn(u,e),a=jn(s,i),g=jn(f,c),v=$n(Xn(a,h),Xn(g,l));if(0===Un(v))return;const p=jn(i,r),d=jn(c,e),b=$n(Xn(d,l),Xn(p,h)),m=Jn(b)/Jn(v);return[i+m*Jn(a),c+m*Jn(g)]}([r,e],[u,o]);if(void 0!==i)return[r,i,u]}function tr(t){return{tS:t,tE:t,multiplicity:1}}function nr(t){return(t.tS+t.tE)/2}function rr(t){const n=t[0],r=t[1];return[(n[0]+r[0])/2,(n[1]+r[1])/2]}const er=Number.EPSILON/2,or=er*er,ur=134217729;function ir(t,n){const r=n[0],e=n[1],o=e*t,u=ur*e,i=u-(u-e),c=e-i,s=ur*t,f=s-(s-t),l=t-f,h=c*l-(o-i*f-c*f-i*l)+r*t,a=o+h;return[h-(a-o),a]}const cr=ir,sr=c,fr=function(){const t=3*or;return t/(1-t)}(),lr=d;function hr(t){const n=[],r=t.length-1;for(let e=0;e<r;e++)n.push(lr(t[e],r-e));return n}const ar=P,gr=n,vr=Math.abs,pr=Number.EPSILON/2;function dr(t,n){let r=t[0],e=.5*vr(r);for(let o=1;o<t.length;o++)r=r*n+t[o],e=e*vr(n)+vr(r);return e=pr*(2*e-vr(r)),[r,e]}const br=Math.abs,mr=function(t){const n=t*er;return n/(1-n)},_r=dr,Er=sn,Ir=mr(1),Nr=mr(2);function Tr(t,n,r=void 0,e=1){const o=Math.abs(n),u=t[0],[i,c]=_r(u,n),s=Nr*function(t,n){let r=0;for(let e=0;e<t.length;e++)r=r*n+br(t[e]);return r}(u,o),f=void 0!==r?Er(r,o):0;if((c+s+f)*e<Math.abs(i))return i;const l=function(t,n){const r=[],e=[];let o,u=t[0];for(let i=1;i<t.length;i++){const[c,s]=gr(u,n);[o,u]=ar(s,t[i]),r.push(c),e.push(o)}return{r̂:u,pπ:r,pσ:e}}(u,n),{pπ:h,pσ:a}=l;let{r̂:g}=l;const[v,p]=_r(h,n),[d,b]=_r(a,n),[m,_]=_r(t[1],n);let E=p+b+_+f;return g=v+d+m+g,E+=Ir*g,E*e<Math.abs(g)?g:0}const Mr=r,wr=d;function xr(t,n){let r=[0];for(let e=0;e<t.length;e++)r=Mr(t[e],wr(r,n));return r}const Sr=Tr,yr=xr,Pr=c,Br=Tr,Or=xr,zr=c,Lr=Number.EPSILON,Fr=Math.abs,Ar=Math.max,Yr=function(t){return n=>1/t(function(t){return t.slice().reverse()}(n))};function Rr(t){const n=t.length-1;if(n<1)return 0;t[0]<0&&(t=function(t){const n=[];for(let r=0;r<t.length;r++)n.push(-t[r]);return n}(t));const r=[];for(let t=0;t<n;t++)r.push(1);let e=0;for(let o=0;o<=n;o++){if(t[o]>=0)continue;let n=Number.POSITIVE_INFINITY,u=!1;for(let e=0;e<o;e++){if(t[e]<=0)continue;const i=(-t[o]/(t[e]/2**r[e]))**(1/(o-e));r[e]++,n>i&&(n=i),u=!0}u&&e<n&&(e=n)}return e}Yr(Rr);const Vr=(ne=Rr,t=>-ne(function(t){const n=t.length-1;if(n<0)return[];const r=t.slice();for(let t=0;t<n+1;t++)t%2==(n-1)%2&&(r[t]=-r[t]);return r}(t))),qr=(Yr(Vr),function(t){const{p:n,pE:r}=t,e=[],o=[],u=n.length-1;for(let t=0;t<u;t++){const i=u-t,c=cr(i,n[t]);e.push(c);const s=i&i-1?fr:0,f=sr(c);o.push(i*r[t]+Math.abs(f)*s)}return{p:e,pE:o}}),Gr=Tr,Dr=xr,Cr=function(t){const n=t[0].length,r=[];for(let e=0;e<n;e++){const o=[];for(let r=0;r<t.length;r++)o.push(t[r][n-(e+1)]);r.push(o)}return r},kr=function(t,n,r,e){const o=Sr(t,r,n,4);return 0!==o?o:Pr(yr(e(),r))},Hr=function(t,n,r,e,o,u,i,c){let s=r,f=e,l=s,h=o,a=f-s,g=a;for(;;){let v;Fr(h)<Fr(u)&&(s=f,f=l,l=s,o=u,u=h,h=o);const p=Ar(Fr(s),Fr(f));v=p<=1?Lr:Lr*2**Math.ceil(Math.log2(p));const d=.5*(l-f);if(Fr(d)<=v)return f<l?[f,l]:[l,f];if(Fr(a)<v||Fr(o)<=Fr(u))a=d,g=a;else{let t,n,r=u/o;if(s===l)t=2*d*r,n=1-r;else{n=o/h;const e=u/h;t=r*(2*d*n*(n-e)-(f-s)*(e-1)),n=(n-1)*(e-1)*(r-1)}0<t?n=-n:t=-t,r=a,a=g,2*t<3*d*n-Fr(v*n)&&t<Fr(.5*r*n)?g=t/n:(a=d,g=a)}if(s=f,o=u,v<Fr(g)?f+=g:0<d?f+=v:f-=v,0===(u=c?zr(Or(i(),f)):Br(t,f,n))){if(c)return[f,f];const o=Math.max(r,f-v),s=Math.min(e,f+v);if(Br(t,o,n)*Br(t,s,n)!==0)return[o,s];if(c=!0,0===(u=zr(Or(i(),f))))return[f,f]}(0<u&&0<h||u<=0&&h<=0)&&(l=s,h=o,a=f-s,g=a)}},Qr=Vr,Xr=Rr,jr=hr,$r=c,Ur=dr,Jr=N,Kr=Math.max,Wr=Math.min,Zr=Math.abs,te=1+Number.EPSILON;var ne;function re(t,n=0,r=1,e,o,u){o||(o=()=>t),e=e||new Array(t.length).fill(0);let i,c,s=0;for(;t.length>0&&Zr(t[0][1])<=e[0]&&(c=c||o(),0===Jr(c[0]));)(t=t.slice()).shift(),(e=e.slice()).shift(),c.shift();if(0===t.length)return u?void 0:[];if(1===t.length)return[];if(n===Number.NEGATIVE_INFINITY||r===Number.POSITIVE_INFINITY){const e=t.map(t=>t[1]);n===Number.NEGATIVE_INFINITY&&(n=Qr(e)),r===Number.POSITIVE_INFINITY&&(r=Xr(e))}const f=Cr(t);let l,h;const a=t.length-1;let g,v;l=0,h=!1;do{if(g=h?$r(Dr(E(),n)):Gr(f,n,e),0===g){if(l++,l>=3&&!h){h=!0;continue}n-=2*Number.EPSILON*Kr(1,Zr(n))}}while(0===g);l=0,h=!1;do{if(v=h?$r(Dr(E(),r)):Gr(f,r,e),0===v){if(l++,l>=3&&!h){h=!0;continue}r+=2*Number.EPSILON*Kr(1,Zr(r))}}while(0===v);const p=[{p:t,pE:e}],d=[Cr(t)];for(let t=1;t<=a;t++){const n=qr(p[t-1]);p.push(n),d.push(Cr(n.p))}let b,m,_=[];for(s=a-1;s>=0;s--)b=p[s].pE,m=d[s],_=I();function E(){if(void 0!==i)return i[s];let t=c||o();for(i=[t];t.length>1;)t=jr(t),i.push(t);return i[s]}return _;function I(){const t=[],e=kr(m,b,n,E);if(!_.length){const t=kr(m,b,r,E);if(e*t>=0)return[];const[o,u]=Hr(m,b,n,r,e,t,E);return[{tS:o,tE:u,multiplicity:1}]}let o=_[0].tS,u=kr(m,b,o,E);if(e*u>0);else if(e*u<0){const[r,i]=Hr(m,b,n,o,e,u,E);t.push({tS:r,tE:i,multiplicity:1})}let i,c=n,f=e,l=o,h=u;for(let n=0;n<_.length;n++){const e=_[n+1];i=_[n],o=l,c=_[n].tE,l=e?e.tS:r;const s=f;if(u=h,f=kr(m,b,c,E),h=kr(m,b,l,E),u*f>0)if(f*h>0)c!==o&&i.multiplicity%2==1&&g();else if(f*h<0){c!==o&&i.multiplicity%2==1&&g();const[n,r]=Hr(m,b,c,l,f,h,E);t.push({tS:n,tE:r,multiplicity:1})}else c!==o&&i.multiplicity%2==1&&g();else if(u*f<0){if(t.push({tS:i.tS,tE:i.tE,multiplicity:3}),f*h<0){const[n,r]=Hr(m,b,c,l,f,h,E);t.push({tS:n,tE:r,multiplicity:1})}}else if(0===f)0===u?t.push({tS:i.tS,tE:i.tE,multiplicity:i.multiplicity+1}):u*h>0?t.push({tS:i.tS,tE:i.tE,multiplicity:2}):t.push({tS:i.tS,tE:i.tE,multiplicity:3});else{if(f*h<0){const[n,r]=Hr(m,b,c,l,f,h,E);t.push({tS:n,tE:r,multiplicity:1})}s*f>0?t.push({tS:i.tS,tE:i.tE,multiplicity:2}):t.push({tS:i.tS,tE:i.tE,multiplicity:3})}}for(let n=0;n<t.length-1;n++){const r=t[n],e=t[n+1];if(r.tE>=e.tS)return ee(t)}return t;function g(){const n=(c-o)*te;let r=1,e=0;for(let t=s+2;t<=a;t++){const u=d[t][0],i=Ur(u,o);e+=(Zr(i[0])+i[1])*r,r*=n*te}const l=f>0?Wr(u,f):Kr(u,f),h=2*Number.EPSILON*Kr(1,Zr(c)),g=e*(2*h);(l+(f>0?2*-g*h:2*g*h))*f<0&&t.push({tS:i.tS,tE:i.tE,multiplicity:2})}}}function ee(t){const n=[],r=t[0];let e={tS:r.tS,tE:r.tE,multiplicity:r.multiplicity};for(let r=0;r<t.length-1;r++){const o=t[r],u=t[r+1];o.tE<u.tS?(n.push(e),e={tS:u.tS,tE:u.tE,multiplicity:u.multiplicity}):(e.tE=u.tE,e.multiplicity=o.multiplicity+u.multiplicity)}return n.push(e),n}const oe=2**27+1;function ue(t,n){const r=t[1],e=n[1],o=r*e,u=oe*r,i=u-(u-r),c=r-i,s=oe*e,f=s-(s-e),l=e-f,h=c*l-(o-i*f-c*f-i*l)+(r*n[0]+t[0]*e),a=o+h;return[h-(a-o),a]}function ie(t,n){const r=t[0],e=t[1],o=e+n,u=o-e,i=r+(e-(o-u)+(n-u)),c=o+i;return[i-(c-o),c]}const ce=g,se=ir,fe=pn,le=ie,he=Math.abs;function ae(t){if(4===t.length)return ge(t);if(3===t.length)return ve(t);if(2===t.length)return{coeffs:pe(t),errorBound:[[0,0],[0,0]]};if(1===t.length)return{coeffs:de(t),errorBound:[[0],[0]]};throw new Error("The given bezier curve must be of order <= cubic.")}function ge(t){const[[n,r],[e,o],[u,i],[c,s]]=t,f=ce(c,n),l=ce(e,u),h=3*(e-u),a=se(3,l),g=he(h),v=fe(f,a),p=g+he(c-n+h),d=ce(u,2*e),b=le(d,n),m=he(u-2*e+n),_=se(3,b),E=6*m,I=ce(e,n),N=se(3,I),T=he(3*(e-n)),M=ce(s,r),w=ce(o,i),x=3*(o-i),S=se(3,w),y=he(x),P=fe(M,S),B=y+he(s-r+x),O=ce(i,2*o),z=le(O,r),L=he(i-2*o+r),F=se(3,z),A=6*L,Y=ce(o,r);return{coeffs:[[v,_,N,[0,n]],[P,F,se(3,Y),[0,r]]],errorBound:[[p,E,T,0],[B,A,he(3*(o-r)),0]]}}function ve(t){const[[n,r],[e,o],[u,i]]=t,c=u-2*e,s=ce(u,2*e),f=le(s,n),l=he(c+n),h=ce(2*e,2*n),a=i-2*o,g=ce(i,2*o),v=le(g,r),p=he(a+r);return{coeffs:[[f,h,[0,n]],[v,ce(2*o,2*r),[0,r]]],errorBound:[[l,0,0],[p,0,0]]}}function pe(t){const[[n,r],[e,o]]=t;return[[ce(e,n),[0,n]],[ce(o,r),[0,r]]]}function de(t){const[[n,r]]=t;return[[[0,n]],[[0,r]]]}const be=dn,me=ir,_e=e,Ee=Math.abs;function Ie(t){const[[n,[,r]],[e,[,o]]]=pe(t),u=_e(e),i=n,c=me(o,n),s=Ee(c[1]),f=me(r,e),l=Ee(f[1]),h=be(f,c);return{coeffs:{vₓ:u,vᵧ:i,v:h},errorBound:{v_:s+l+Ee(h[1])}}}const Ne=pn,Te=ir,Me=ue,we=Math.abs,xe=S(3);function Se(t){return[-t[0],-t[1]]}function ye(t){return[2*t[0],2*t[1]]}const Pe=Se,Be=ye,Oe=ir,ze=ue,Le=dn,Fe=Math.abs;function Ae(t){const{coeffs:[[n,r,[,e]],[o,u,[,i]]],errorBound:[[c],[s]]}=ve(t),f=n[1],l=r[1],h=o[1],a=u[1],g=Fe(e),v=Fe(l),p=Fe(f),d=Fe(i),b=Fe(a),m=Fe(h),_=ze(n,u),E=c*b+2*Fe(f*a),I=ze(r,o),N=v*s+2*Fe(l*h),T=Oe(i,n),M=d*c+Fe(i*f),w=Oe(e,o),x=g*s+Fe(e*h),S=Oe(i,r),y=Fe(i*l),P=Oe(e,u),B=Fe(e*a),O=ze(n,n),z=2*(c*p+Fe(f*f)),L=ze(n,o),F=c*m+p*s+2*Fe(f*h),A=ze(o,o),Y=2*(s*m+Fe(h*h)),R=f*a-l*h,V=f*i-e*h,q=l*i-e*a,G=Le(_,I),D=Fe(R),C=E+N+Fe(R),k=Le(T,w),H=Fe(V),Q=M+x+Fe(V),X=Le(S,P),j=Fe(q),$=y+B+Fe(q),U=Pe(A),J=Y,K=Be(L),W=F,Z=Pe(O),tt=z,nt=a*R,rt=ze(u,G),et=b*C+2*Fe(nt),ot=2*V*h,ut=Be(ze(o,k)),it=2*(s*H+m*Q+2*Fe(ot)),ct=nt-ot,st=Le(rt,ut),ft=et+it+Fe(ct),lt=2*f*V,ht=Be(ze(n,k)),at=2*(c*H+p*Q+2*Fe(lt)),gt=l*R,vt=ze(r,G),pt=v*C+2*Fe(gt),dt=lt-gt,bt=Le(ht,vt),mt=at+pt+Fe(dt),_t=R*q,Et=ze(G,X),It=C*j+D*$+2*Fe(_t),Nt=V*V,Tt=ze(k,k),Mt=2*(Q*H+Fe(Nt)),wt=_t-Nt;return{coeffs:{vₓₓ:U,vₓᵧ:K,vᵧᵧ:Z,vₓ:st,vᵧ:bt,v:Le(Et,Tt)},errorBound:{vₓₓ_:J,vₓᵧ_:W,vᵧᵧ_:tt,vₓ_:ft,vᵧ_:mt,v_:It+Mt+Fe(wt)}}}const Ye=vn,Re=ye,Ve=ir,qe=ue,Ge=pn,De=Math.abs,Ce=S(3);function ke(t){return[t[0]/2,t[1]/2]}const He=Math.abs,Qe=Se,Xe=ye,je=ke,$e=ir,Ue=ue,Je=dn,Ke=pn;function We(t){const{coeffs:[[n,r,e,[,o]],[u,i,c,[,s]]],errorBound:[[f,l,h],[a,g,v]]}=ge(t),p=e[1],d=r[1],b=n[1],m=c[1],_=i[1],E=u[1],I=He(o),N=He(p),T=He(d),M=He(b),w=He(s),x=He(m),S=He(_),y=He(E),P=Ue(n,c),B=b*m,O=f*x+M*v+2*He(B),z=Ue(e,u),L=p*E,F=h*y+N*a+2*He(L),A=Ue(n,i),Y=b*_,R=f*S+M*g+2*He(Y),V=Ue(r,i),q=d*_,G=l*S+T*g+2*He(q),D=Ue(r,u),C=d*E,k=l*y+T*a+2*He(C),H=Ue(n,n),Q=b*b,X=He(Q),j=f*M+M*f+2*He(Q),$=Ue(i,i),U=_*_,J=g*S+S*g+2*He(U),K=Ue(u,u),W=E*E,Z=He(W),tt=a*y+y*a+2*He(W),nt=Ue(e,n),rt=p*b,et=h*M+N*f+2*He(rt),ot=Ue(r,r),ut=d*d,it=l*T+T*l+2*He(ut),ct=Ue(c,u),st=m*E,ft=v*y+x*a+2*He(st),lt=Ue(i,u),ht=He(_*E),at=g*y+S*a+2*ht,gt=Ue(r,n),vt=He(d*b),pt=l*M+T*f+2*vt,dt=Ue(n,u),bt=He(b*E),mt=f*y+M*a+2*bt,_t=$e(s,n),Et=b*s,It=f*w+He(Et),Nt=$e(o,u),Tt=o*E,Mt=I*a+He(Tt),wt=$e(s,r),xt=d*s,St=l*w+He(xt),yt=$e(o,i),Pt=o*_,Bt=I*g+He(Pt),Ot=Ue(r,c),zt=d*m,Lt=l*x+T*v+2*He(zt),Ft=Ue(e,i),At=p*_,Yt=h*S+N*g+2*He(At),Rt=$e(s,e),Vt=p*s,qt=h*w+He(Vt),Gt=$e(o,c),Dt=o*m,Ct=I*v+He(Dt),kt=Je(_t,Nt),Ht=It+Mt+He(Et-Tt),Qt=Je(P,z),Xt=O+F+He(B-L),jt=Je(A,D),$t=R+k+He(Y-C),Ut=Je(wt,yt),Jt=St+Bt+He(xt-Pt),Kt=Je(Ot,Ft),Wt=Lt+Yt+He(zt-At),Zt=Je(Rt,Gt),tn=qt+Ct+He(Vt-Dt),nn=He(st-U),rn=Je(ct,$),en=ft+J+nn,on=He(rt-ut),un=Je(nt,ot),cn=et+it+He(rt-ut),sn=He(C+Y),fn=Ke(D,A),ln=k+R+He(C+Y),hn=L+B,an=He(hn),gn=Ke(z,P),vn=F+O+an,pn=Xe(Qt),dn=2*Xt,bn=Et-Tt,mn=B-L,_n=Y-C,En=xt-Pt,In=zt-At,Nn=Vt-Dt,Tn=He(bn),Mn=He(mn),wn=He(_n),xn=He(En),Sn=He(In),yn=He(Nn),Pn=2*Mn,Bn=Ue(kt,kt),On=Ue(kt,Qt),zn=Ue(kt,jt),Ln=Ue(kt,Kt),Fn=Ue(Qt,Qt),An=Ue(pn,Ut),Yn=Ue(jt,Ut),Rn=Ue(jt,Kt),Vn=Ue(jt,Zt),qn=Ht*Tn+Tn*Ht+2*He(Bn[1]),Gn=Ht*Mn+Tn*Xt+2*He(On[1]),Dn=Ht*wn+Tn*$t+2*He(zn[1]),Cn=Ht*Sn+Tn*Wt+2*He(Ln[1]),kn=Xt*Mn+Mn*Xt+2*He(Fn[1]),Hn=dn*xn+Pn*Jt+2*He(An[1]),Qn=$t*xn+wn*Jt+2*He(Yn[1]),Xn=$t*Sn+wn*Wt+2*He(Rn[1]),jn=$t*yn+wn*tn+2*He(Yn[1]),$n=Ue(Qe(u),K),Un=a*Z+y*tt+2*He($n[1]),Jn=3*M,Kn=$e(3,n),Wn=3*f+Jn,Zn=Ue(Kn,K),tr=Wn*Z+Jn*tt+2*He(Zn[1]),nr=3*y,rr=$e(-3,u),er=3*a+nr,or=Ue(rr,H),ur=er*X+nr*j+2*He(or[1]),ir=Ue(n,H),cr=f*X+M*j+2*He(ir[1]),sr=-3*bn,fr=3*Tn,lr=$e(-3,kt),hr=3*Ht+fr,ar=Je(lr,Kt),gr=He(sr-In),vr=hr+Wt+gr,pr=Ue(ar,K),dr=vr*Z+gr*tt+2*He(pr[1]),br=Ue(jt,rn),mr=$t*nn+wn*en+2*He(br[1]),_r=Ke(pr,br),Er=dr+mr+He(_r[1]),Ir=Ue(pn,lt),Nr=dn*ht+Pn*at+2*He(Ir[1]),Tr=Ke(_r,Ir),Mr=Er+Nr+He(Tr[1]),wr=Ue(ar,H),xr=vr*X+gr*j+2*He(wr[1]),Sr=Ue(jt,un),yr=$t*on+wn*cn+2*He(Sr[1]),Pr=Ke(wr,Sr),Br=xr+yr+He(Pr[1]),Or=Ue(pn,gt),zr=dn*vt+Pn*pt+2*He(Or[1]),Lr=Ke(Pr,Or),Fr=Br+zr+He(Lr[1]),Ar=He(q-hn/2),Yr=Je(V,je(gn)),Rr=G+vn/2+He(Yr[1]),Vr=Ue(ar,dt),qr=vr*bt+gr*mt+2*He(Vr[1]),Gr=Ue(Qt,fn),Dr=Xt*sn+Mn*ln+2*He(Gr[1]),Cr=Ke(Vr,Gr),kr=qr+Dr+He(Cr[1]),Hr=Ue(jt,Yr),Qr=$t*Ar+wn*Rr+2*He(Hr[1]),Xr=Xe(Je(Hr,Cr)),jr=2*(Qr+kr)+He(Xr[1]),$r=$e(-3,Bn),Ur=3*qn+He($r[1]),Jr=Je($r,Xe(Ln)),Kr=Ur+2*Cn+He(Jr[1]),Wr=Ke(An,Vn),Zr=Hn+jn+He(Wr[1]),te=Ke(Jr,Wr),ne=He(te[1]),re=Kr+Zr+ne,ee=Xe(Je(On,Yn)),oe=He(ee[1]),ue=2*(Gn+Qn)+oe,ie=Je(zn,Fn),ce=Dn+kn+He(ie[1]),se=Ke(ie,Rn),fe=He(se[1]),le=ce+Xn+fe,he=Ue(u,te),ae=a*ne+y*re+2*He(he[1]),ve=Ue(i,ee),pe=g*oe+S*ue+2*He(ve[1]),de=Ue(c,se),be=v*fe+x*le+2*He(de[1]),me=Ke(ve,de),_e=pe+be+He(me[1]),Ee=Ke(he,me),Ie=ae+_e+He(Ee[1]),Ne=Ue(n,te),Te=f*ne+M*re+2*He(Ne[1]),Me=Ue(r,ee),we=l*oe+T*ue+2*He(Me[1]),xe=Ue(e,se),Se=h*fe+N*le+2*He(xe[1]),ye=Ke(Me,xe),Pe=we+Se+He(ye[1]),Be=Qe(Ke(Ne,ye)),Oe=Te+Pe+He(Be[1]),ze=Je(An,Bn),Le=Je(ze,Ln),Fe=He(Le[1]),Ae=Ue(se,Zt),Ye=Ue(Yn,Ut),Re=Je(Ae,Ye),Ve=le*He(Zt[1])+2*He(Ae[1])+Qn*He(Ut[1])+2*He(Ye[1])+He(Re[1]),qe=Ue(kt,Le),Ge=Ht*Fe+Tn*Hn+qn+He(ze[1])+Cn+Fe+2*He(qe[1]),De=Ke(qe,Re);return{coeffs:{vₓₓₓ:$n,vₓₓᵧ:Zn,vₓᵧᵧ:or,vᵧᵧᵧ:ir,vₓₓ:Tr,vₓᵧ:Xr,vᵧᵧ:Lr,vₓ:Ee,vᵧ:Be,v:De},errorBound:{vₓₓₓ_:Un,vₓₓᵧ_:tr,vₓᵧᵧ_:ur,vᵧᵧᵧ_:cr,vₓₓ_:Mr,vₓᵧ_:jr,vᵧᵧ_:Fr,vₓ_:Ie,vᵧ_:Oe,v_:Ge+Ve+He(De[1])}}}const Ze=vn,to=ye,no=ir,ro=ue,eo=pn,oo=Math.abs,uo=S(3),io=pn,co=ir,so=ue,fo=Math.abs,lo=S(3),ho=vn,ao=ye,go=ir,vo=ue,po=pn,bo=Math.abs,mo=S(3),_o=vn,Eo=ye,Io=ir,No=ue,To=pn,Mo=Math.abs,wo=S(3),xo=pn,So=ir,yo=ue,Po=Math.abs,Bo=S(3),Oo=vn,zo=ye,Lo=ir,Fo=ue,Ao=pn,Yo=Math.abs,Ro=S(3),Vo=vn,qo=ye,Go=ir,Do=ue,Co=pn,ko=Math.abs,Ho=S(3),Qo=b,Xo=i,jo=e,$o=N;function Uo(t){return Jo(ht(t))}function Jo(t){const[[n,[r]],[e,[o]]]=t;if(0!==$o(n)||0!==$o(e))return{vₓ:jo(e),vᵧ:n,v:Xo(Qo(r,e),Qo(o,n))}}const Ko=b,Wo=E,Zo=r;function tu(t,n){const r=ht(t),[[e,[o]],[u,[i]]]=ht(n),{vₓ:c,vᵧ:s,v:f}=Jo(r),l=Wo(e,c),h=Wo(u,s),a=Zo(l,h),g=Ko(o,c),v=Ko(i,s),p=Zo(g,v);return[a,Zo(p,f)]}function nu(t){const n=[];for(let r=0;r<t.length;r++)n.push(2*t[r]);return n}const ru=b,eu=nu,ou=i,uu=E,iu=e;function cu(t){return su(lt(t))}function su(t){const[[n,r,[e]],[o,u,[i]]]=t;if(0===N(n)&&0===N(o))return Jo([[r,[e]],[u,[i]]]);const c=uu(n,u),s=uu(r,o),f=ru(i,n),l=ru(e,o),h=ru(i,r),a=ru(e,u),g=uu(n,n),v=uu(n,o),p=uu(o,o),d=ou(c,s),b=ou(f,l),m=ou(h,a),_=iu(p),E=eu(v),I=iu(g),T=uu(u,d),M=eu(uu(o,b)),w=ou(T,M),x=eu(uu(n,b)),S=uu(r,d),y=ou(x,S),P=uu(d,m),B=uu(b,b);return{vₓₓ:_,vₓᵧ:E,vᵧᵧ:I,vₓ:w,vᵧ:y,v:ou(P,B)}}const fu=n,lu=b,hu=E,au=r,gu=nu,vu=N;function pu(t,n){const r=lt(t);if(0===vu(r[0][0])&&0===vu(r[1][0]))return tu([t[0],t[2]],n);const[[e,[o]],[u,[i]]]=ht(n),{vₓₓ:c,vₓᵧ:s,vᵧᵧ:f,vₓ:l,vᵧ:h,v:a}=su(r),g=fu(o,o),v=lu(o,e),p=fu(o,i),d=lu(o,u),b=hu(e,e),m=lu(i,e),_=hu(e,u),E=fu(i,i),I=lu(i,u),N=hu(u,u),T=hu(b,c),M=hu(N,f),w=hu(_,s),x=au(T,M),S=au(x,w),y=hu(v,c),P=hu(I,f),B=au(d,m),O=hu(B,s),z=gu(au(y,P)),L=au(z,O),F=hu(e,l),A=hu(u,h),Y=au(F,A),R=au(L,Y),V=hu(g,c),q=hu(p,s),G=hu(E,f),D=au(V,q),C=au(D,G),k=lu(o,l),H=lu(i,h),Q=au(k,H),X=au(C,Q);return[S,R,au(X,a)]}const du=b,bu=E,mu=r,_u=i,Eu=e,Iu=nu,Nu=N;function Tu(t){return Mu(ft(t))}function Mu(t){const[[n,r,e,[o]],[u,i,c,[s]]]=t;if(0===Nu(n)&&0===Nu(u))return su([[r,e,[o]],[i,c,[s]]]);const f=bu(n,c),l=bu(e,u),h=bu(n,i),a=bu(r,i),g=bu(r,u),v=bu(n,n),p=bu(i,i),d=bu(u,u),b=bu(e,n),m=bu(r,r),_=bu(c,u),E=bu(i,u),I=bu(r,n),N=bu(n,u),T=du(s,n),M=du(o,u),w=du(s,r),x=du(o,i),S=bu(r,c),y=bu(e,i),P=du(s,e),B=du(o,c),O=_u(T,M),z=_u(f,l),L=_u(h,g),F=_u(w,x),A=_u(S,y),Y=_u(P,B),R=_u(_,p),V=_u(b,m),q=mu(g,h),G=mu(l,f),D=Iu(z),C=bu(O,O),k=bu(O,z),H=bu(O,L),Q=bu(O,A),X=bu(z,z),j=bu(D,F),$=bu(L,F),U=bu(L,A),J=bu(L,Y),K=bu(Eu(u),d),W=bu(du(3,n),d),Z=bu(du(-3,u),v),tt=bu(n,v),nt=_u(du(-3,O),A),rt=bu(nt,d),et=bu(L,R),ot=mu(rt,et),ut=bu(D,E),it=mu(ot,ut),ct=bu(nt,v),st=bu(L,V),ft=mu(ct,st),lt=bu(D,I),ht=mu(ft,lt),at=_u(a,function(t){const n=[];for(let r=0;r<t.length;r++)n.push(.5*t[r]);return n}(G)),gt=bu(nt,N),vt=bu(z,q),pt=mu(gt,vt),dt=bu(L,at),bt=Iu(_u(dt,pt)),mt=du(-3,C),_t=_u(mt,Iu(Q)),Et=mu(j,J),It=mu(_t,Et),Nt=Iu(_u(k,$)),Tt=_u(H,X),Mt=mu(Tt,U),wt=bu(u,It),xt=bu(i,Nt),St=bu(c,Mt),yt=mu(xt,St),Pt=mu(wt,yt),Bt=bu(n,It),Ot=bu(r,Nt),zt=bu(e,Mt),Lt=mu(Ot,zt),Ft=Eu(mu(Bt,Lt)),At=_u(j,C),Yt=_u(At,Q),Rt=bu(Mt,Y),Vt=bu($,F),qt=_u(Rt,Vt),Gt=bu(O,Yt);return{vₓₓₓ:K,vₓₓᵧ:W,vₓᵧᵧ:Z,vᵧᵧᵧ:tt,vₓₓ:it,vₓᵧ:bt,vᵧᵧ:ht,vₓ:Pt,vᵧ:Ft,v:mu(Gt,qt)}}const wu=n,xu=b,Su=E,yu=r,Pu=nu,Bu=N;function Ou(t,n){const r=ft(t);if(0===Bu(r[0][0])&&0===Bu(r[1][0]))return pu(Zn(t),n);const[[e,[o]],[u,[i]]]=ht(n),{vₓₓₓ:c,vₓₓᵧ:s,vₓᵧᵧ:f,vᵧᵧᵧ:l,vₓₓ:h,vₓᵧ:a,vᵧᵧ:g,vₓ:v,vᵧ:p,v:d}=Mu(r),b=wu(o,o),m=xu(o,e),_=wu(o,i),E=xu(o,u),I=Su(e,e),N=xu(i,e),T=Su(e,u),M=wu(i,i),w=xu(i,u),x=Su(u,u),S=xu(o,c),y=Su(wu(3,o),c),P=xu(o,s),B=xu(i,s),O=xu(o,f),z=xu(i,f),L=xu(i,l),F=Su(wu(3,i),l),A=Su(e,c),Y=Su(e,f),R=Su(u,s),V=Su(u,l),q=yu(A,R),G=yu(Y,V),D=Su(I,q),C=Su(x,G),k=yu(D,C),H=yu(y,B),Q=Pu(yu(P,z)),X=yu(O,F),j=yu(H,h),$=yu(Q,a),U=yu(X,g),J=Su(I,j),K=Su(T,$),W=Su(x,U),Z=yu(J,K),tt=yu(Z,W),nt=Pu(yu(B,h)),rt=Pu(yu(O,g)),et=yu(y,nt),ot=yu(F,rt),ut=yu(P,a),it=yu(z,a),ct=Su(m,et),st=Su(w,ot),lt=Su(E,ut),at=Su(N,it),gt=Su(e,v),vt=Su(u,p),pt=yu(ct,st),dt=yu(lt,at),bt=yu(pt,dt),mt=yu(gt,vt),_t=yu(bt,mt),Et=yu(S,B),It=yu(L,O),Nt=yu(Et,h),Tt=yu(It,g),Mt=Su(b,Nt),wt=Su(M,Tt),xt=Su(_,a),St=yu(Mt,wt),yt=yu(St,xt),Pt=xu(o,v),Bt=xu(i,p),Ot=yu(Pt,Bt),zt=yu(yt,Ot);return[k,tt,_t,yu(zt,d)]}const zu=b,Lu=E,Fu=r,Au=N;function Yu(t,n){const r=ht(t),[[e,o,[u]],[i,c,[s]]]=lt(n);if(0===Au(e)&&0===Au(i))return tu(t,[n[0],n[2]]);const{vₓ:f,vᵧ:l,v:h}=Jo(r),a=Lu(e,f),g=Lu(i,l),v=Fu(a,g),p=Lu(o,f),d=Lu(c,l),b=Fu(p,d),m=zu(u,f),_=zu(s,l),E=Fu(m,_);return[v,b,Fu(E,h)]}const Ru=n,Vu=b,qu=E,Gu=r,Du=nu,Cu=N;function ku(t,n){const r=lt(t);if(0===Cu(r[0][0])&&0===Cu(r[1][0]))return Yu([t[0],t[2]],n);const[[e,o,[u]],[i,c,[s]]]=lt(n);if(0===Cu(e)&&0===Cu(i))return pu(t,[n[0],n[2]]);const{vₓₓ:f,vₓᵧ:l,vᵧᵧ:h,vₓ:a,vᵧ:g,v}=su(r),p=Ru(u,u),d=Vu(u,o),b=Vu(u,e),m=Ru(u,s),_=Vu(u,c),E=Vu(u,i),I=qu(o,o),N=qu(o,e),T=Vu(s,o),M=qu(o,c),w=qu(o,i),x=qu(e,c),S=qu(e,e),y=Vu(s,e),P=qu(e,i),B=Ru(s,s),O=Vu(s,c),z=Vu(s,i),L=qu(c,c),F=qu(c,i),A=qu(i,i),Y=qu(S,f),R=qu(P,l),V=qu(A,h),q=Gu(Y,R),G=Gu(q,V),D=qu(N,f),C=qu(F,h),k=Gu(w,x),H=qu(k,l),Q=Du(Gu(D,C)),X=Gu(Q,H),j=Gu(Du(b),I),$=Gu(Du(z),L),U=Gu(E,M),J=Gu(U,y),K=qu(j,f),W=qu($,h),Z=qu(J,l),tt=qu(e,a),nt=qu(i,g),rt=Gu(K,W),et=Gu(rt,Z),ot=Gu(tt,nt),ut=Gu(et,ot),it=qu(d,f),ct=qu(O,h),st=Gu(_,T),ft=qu(st,l),ht=Du(Gu(it,ct)),at=qu(o,a),gt=qu(c,g),vt=Gu(ht,ft),pt=Gu(at,gt),dt=Gu(vt,pt),bt=qu(p,f),mt=qu(m,l),_t=qu(B,h),Et=Vu(u,a),It=Vu(s,g),Nt=Gu(bt,mt),Tt=Gu(Nt,_t),Mt=Gu(Et,It),wt=Gu(Tt,Mt);return[G,X,ut,dt,Gu(wt,v)]}const Hu=n,Qu=b,Xu=E,ju=r,$u=nu,Uu=N;function Ju(t,n){const r=ft(t);if(0===Uu(r[0][0])&&0===Uu(r[1][0]))return ku(Zn(t),n);const[[e,o,[u]],[i,c,[s]]]=lt(n);if(0===Uu(e)&&0===Uu(i))return Ou(t,[n[0],n[2]]);const{vₓₓₓ:f,vₓₓᵧ:l,vₓᵧᵧ:h,vᵧᵧᵧ:a,vₓₓ:g,vₓᵧ:v,vᵧᵧ:p,vₓ:d,vᵧ:b,v:m}=Mu(r),_=Hu(u,u),E=Qu(u,o),I=Qu(u,e),N=Hu(u,s),T=Qu(u,c),M=Qu(u,i),w=Xu(o,o),x=Xu(o,e),S=Qu(s,o),y=Xu(o,c),P=Xu(o,i),B=Xu(e,c),O=Xu(e,e),z=Qu(s,e),L=Xu(e,i),F=Hu(s,s),A=Qu(s,c),Y=Qu(s,i),R=Xu(c,c),V=Xu(c,i),q=Xu(i,i),G=Xu(e,f),D=Xu(e,h),C=Xu(i,l),k=Xu(i,a),H=ju(G,C),Q=ju(D,k),X=Xu(O,H),j=Xu(q,Q),$=ju(X,j),U=ju(I,w),J=ju(Y,R),K=ju($u(I),w),W=ju($u(Y),R),Z=ju($u(y),z),tt=ju($u(y),M),nt=ju($u(z),y),rt=ju(Qu(6,I),w),et=ju(Qu(6,Y),R),ot=ju(P,B),ut=ju(M,z),it=ju($u(S),T),ct=ju($u(T),S),st=ju(M,y),ht=ju(st,z),at=Qu(3,O),gt=Qu(3,q),vt=Xu(at,f),pt=Xu(O,l),dt=$u(Xu(L,l)),bt=$u(Xu(L,h)),mt=Xu(q,h),_t=Xu(gt,a),Et=ju(vt,dt),It=ju(pt,bt),Nt=ju(Et,mt),Tt=ju(It,_t),Mt=Xu(o,Nt),wt=Xu(c,Tt),xt=ju(Mt,wt),St=Xu(i,K),yt=Xu(i,tt),Pt=Xu(e,Z),Bt=Xu(e,W),Ot=Xu(Qu(3,e),U),zt=Xu(Qu(3,i),J),Lt=ju(St,Pt),Ft=ju(yt,Bt),At=Xu(Ot,f),Yt=Xu(zt,a),Rt=Xu(Lt,l),Vt=Xu(Ft,h),qt=ju(At,Yt),Gt=ju(Rt,Vt),Dt=Xu(O,g),Ct=Xu(q,p),kt=Xu(L,v),Ht=ju(Dt,Ct),Qt=ju(qt,Gt),Xt=ju(Ht,kt),jt=ju(Qt,Xt),$t=Xu(o,rt),Ut=Xu(c,et),Jt=Qu(2*u,ot),Kt=Xu($u(c),ut),Wt=Xu(o,nt),Zt=Xu(o,W),tn=ju(Jt,Wt),nn=ju(Kt,Zt),rn=Xu(V,p),en=Xu(x,g),on=Xu(ot,v),un=ju(rn,en),cn=Xu($t,f),sn=Xu(tn,l),fn=Xu(Ut,a),ln=Xu(nn,h),hn=ju(cn,fn),an=ju(sn,ln),gn=ju(hn,an),vn=ju($u(un),on),pn=ju(gn,vn),dn=Xu(Hu(3,u),U),bn=Xu(Hu(3,s),J),mn=Qu(u,tt),_n=Qu(u,W),En=Qu(s,K),In=Qu(s,Z),Nn=ju(mn,En),Tn=ju(_n,In),Mn=Xu(dn,f),wn=Xu(bn,a),xn=Xu(Nn,l),Sn=Xu(Tn,h),yn=Xu(K,g),Pn=Xu(W,p),Bn=Xu(ht,v),On=Xu(e,d),zn=Xu(i,b),Ln=ju(Mn,wn),Fn=ju(xn,Sn),An=ju(yn,Pn),Yn=ju(Ln,Fn),Rn=ju(An,Bn),Vn=ju(On,zn),qn=ju(Yn,Rn),Gn=ju(qn,Vn),Dn=Xu(Hu(3,u),E),Cn=Xu(Hu(3,s),A),kn=Qu(u,it),Hn=Qu(s,ct),Qn=Xu(E,g),Xn=Xu(A,p),jn=Xu(T,v),$n=Xu(S,v),Un=$u(ju(Qn,Xn)),Jn=ju(jn,$n),Kn=Xu(o,d),Wn=Xu(c,b),tr=Xu(Dn,f),nr=Xu(Cn,a),rr=Xu(kn,l),er=Xu(Hn,h),or=ju(tr,nr),ur=ju(rr,er),ir=ju(or,ur),cr=ju(Un,Jn),sr=ju(Kn,Wn),fr=ju(ir,cr),lr=ju(fr,sr),hr=Qu(u,f),ar=Qu(u,h),gr=Qu(s,l),vr=Qu(s,a),pr=ju(hr,gr),dr=ju(ar,vr),br=ju(pr,g),mr=ju(dr,p),_r=Xu(_,br),Er=Xu(F,mr),Ir=Xu(N,v),Nr=Qu(u,d),Tr=Qu(s,b),Mr=ju(_r,Er),wr=ju(Mr,Ir),xr=ju(Nr,Tr),Sr=ju(wr,xr);return[$,xt,jt,pn,Gn,lr,ju(Sr,m)]}const Ku=b,Wu=E,Zu=r,ti=N;function ni(t,n){const r=ht(t),[[e,o,u,[i]],[c,s,f,[l]]]=ft(n);if(0===ti(e)&&0===ti(c))return Yu(t,Zn(n));const{vₓ:h,vᵧ:a,v:g}=Jo(r),v=Wu(e,h),p=Wu(c,a),d=Zu(v,p),b=Wu(o,h),m=Wu(s,a),_=Zu(b,m),E=Wu(u,h),I=Wu(f,a),N=Zu(E,I),T=Ku(i,h),M=Ku(l,a),w=Zu(T,M);return[d,_,N,Zu(w,g)]}const ri=n,ei=b,oi=E,ui=r,ii=nu,ci=N;function si(t,n){const r=lt(t);if(0===ci(r[0][0])&&0===ci(r[1][0]))return ni([t[0],t[2]],n);const[[e,o,u,[i]],[c,s,f,[l]]]=ft(n);if(0===ci(e)&&0===ci(c))return ku(t,Zn(n));const{vₓₓ:h,vₓᵧ:a,vᵧᵧ:g,vₓ:v,vᵧ:p,v:d}=su(r),b=ri(i,i),m=ei(i,u),_=ei(i,o),E=ei(i,e),I=ri(i,l),N=ei(i,f),T=ei(i,s),M=ei(i,c),w=oi(u,u),x=oi(u,o),S=oi(u,e),y=ei(l,u),P=oi(u,f),B=oi(u,s),O=oi(u,c),z=oi(o,f),L=oi(o,o),F=oi(o,e),A=ei(l,o),Y=oi(o,s),R=oi(o,c),V=oi(e,e),q=ei(l,e),G=oi(e,f),D=oi(e,s),C=oi(e,c),k=ri(l,l),H=ei(l,f),Q=ei(l,s),X=ei(l,c),j=oi(f,f),$=oi(f,s),U=oi(c,c),J=oi(s,s),K=oi(s,c),W=oi(f,c),Z=oi(V,h),tt=oi(C,a),nt=oi(U,g),rt=ui(Z,tt),et=ui(rt,nt),ot=oi(F,h),ut=oi(K,g),it=ui(ot,ut),ct=ui(R,D),st=oi(ct,a),ht=ui(ii(it),st),at=ui(ii(S),L),gt=ui(ii(W),J),vt=ui(O,Y),pt=ui(vt,G),dt=oi(at,h),bt=oi(gt,g),mt=ui(dt,bt),_t=oi(pt,a),Et=ui(mt,_t),It=ui(E,x),Nt=ui(X,$),Tt=ui(M,B),Mt=ui(z,q),wt=ui(Tt,Mt),xt=oi(It,h),St=oi(Nt,g),yt=ii(ui(xt,St)),Pt=oi(wt,a),Bt=oi(e,v),Ot=oi(c,p),zt=ui(Bt,Ot),Lt=ui(yt,Pt),Ft=ui(Lt,zt),At=ui(ii(_),w),Yt=ui(ii(Q),j),Rt=ui(T,P),Vt=ui(Rt,A),qt=oi(At,h),Gt=oi(Yt,g),Dt=oi(Vt,a),Ct=ui(qt,Gt),kt=ui(Ct,Dt),Ht=oi(o,v),Qt=oi(s,p),Xt=ui(Ht,Qt),jt=ui(kt,Xt),$t=oi(m,h),Ut=oi(H,g),Jt=ui(N,y),Kt=oi(Jt,a),Wt=ii(ui($t,Ut)),Zt=ui(Wt,Kt),tn=oi(u,v),nn=oi(f,p),rn=ui(tn,nn),en=ui(Zt,rn),on=oi(b,h),un=oi(I,a),cn=oi(k,g),sn=ei(i,v),fn=ei(l,p),ln=ui(on,un),hn=ui(ln,cn),an=ui(sn,fn),gn=ui(hn,an);return[et,ht,Et,Ft,jt,en,ui(gn,d)]}const fi=n,li=b,hi=E,ai=r,gi=nu,vi=N,pi=[[function(t,n){const{coeffs:{vₓ:r,vᵧ:e,v:o},errorBound:{v_:u}}=Ie(t),[[i,[,c]],[s,[,f]]]=pe(n),l=i[1],h=s[1],a=r[1],g=e[1],v=o[1],p=l*a,d=2*we(p),b=Me(i,r),m=h*g,_=2*we(m),E=Me(s,e),I=p+m,N=Ne(b,E),T=d+_+we(I),M=c*a,w=Te(c,r),x=we(M),S=f*g,y=Te(f,e),P=we(S),B=M+S,O=Ne(w,y),z=x+P+we(B),L=Ne(O,o),F=z+u+we(B+v);return{coeffs:[N,L],errBound:[xe*T,xe*F]}},function(t,n){const{coeffs:{vₓ:r,vᵧ:e,v:o},errorBound:{v_:u}}=Ie(t),{coeffs:[[i,c,[,s]],[f,l,[,h]]],errorBound:[[a],[g]]}=ve(n),v=r[1],p=e[1],d=o[1],b=fo(v),m=fo(p),_=(fo(d),c[1]),E=i[1],I=l[1],N=f[1],T=E*v,M=so(i,r),w=a*b+2*fo(T),x=N*p,S=so(f,e),y=g*m+2*fo(x),P=T+x,B=io(M,S),O=w+y+fo(P),z=_*v,L=so(c,r),F=2*fo(z),A=I*p,Y=so(l,e),R=2*fo(A),V=z+A,q=io(L,Y),G=F+R+fo(V),D=co(s,r),C=s*v,k=fo(C),H=co(h,e),Q=h*p,X=fo(Q),j=C+Q,$=io(D,H),U=k+X+fo(j),J=j+d,K=io($,o),W=U+u+fo(J);return{coeffs:[B,q,K],errBound:[lo*O,lo*G,lo*W]}},function(t,n){const{coeffs:{vₓ:r,vᵧ:e,v:o},errorBound:{v_:u}}=Ie(t),{coeffs:[[i,c,s,[,f]],[l,h,a,[,g]]],errorBound:[[v,p,d],[b,m,_]]}=ge(n),E=Po(r[1]),I=Po(e[1]),N=yo(i,r),T=v*E+2*Po(N[1]),M=yo(l,e),w=b*I+2*Po(M[1]),x=xo(N,M),S=T+w+Po(x[1]),y=yo(c,r),P=p*E+2*Po(y[1]),B=yo(h,e),O=m*I+2*Po(B[1]),z=xo(y,B),L=P+O+Po(z[1]),F=yo(s,r),A=d*E+2*Po(F[1]),Y=yo(a,e),R=_*I+2*Po(Y[1]),V=xo(F,Y),q=A+R+Po(V[1]),G=So(f,r),D=Po(G[1]),C=So(g,e),k=Po(C[1]),H=xo(G,C),Q=D+k+Po(H[1]),X=xo(H,o),j=Q+u+Po(X[1]);return{coeffs:[x,z,V,X],errBound:[Bo*S,Bo*L,Bo*q,Bo*j]}}],[function(t,n){const{coeffs:{vₓₓ:r,vₓᵧ:e,vᵧᵧ:o,vₓ:u,vᵧ:i,v:c},errorBound:{vₓₓ_:s,vₓᵧ_:f,vᵧᵧ_:l,vₓ_:h,vᵧ_:a,v_:g}}=Ae(t),[[v,[,p]],[d,[,b]]]=pe(n),m=r[1],_=e[1],E=o[1],I=u[1],N=i[1],T=c[1],M=De(m),w=De(_),x=De(E),S=v[1],y=d[1],P=De(p),B=De(S),O=De(b),z=De(y),L=p*p,F=p*S,A=p*b,Y=p*y,R=S*S,V=S*b,q=S*y,G=b*b,D=b*y,C=y*y,k=Ye(p,p),H=Ve(p,v),Q=De(F),X=Ye(p,b),j=Ve(p,d),$=De(Y),U=De(R),J=qe(v,v),K=2*U,W=Ve(b,v),Z=De(V),tt=De(q),nt=qe(v,d),rt=2*tt,et=Ye(b,b),ot=Ve(b,d),ut=De(D),it=De(C),ct=qe(d,d),st=2*it,ft=R*m,lt=qe(J,r),ht=K*M*U*s+2*De(ft),at=C*E,gt=qe(ct,o),vt=st*x*it*l+2*De(at),pt=q*_,dt=qe(nt,e),bt=rt*w*tt*f+2*De(pt),mt=ft+at,_t=Ge(lt,gt),Et=ht+vt+De(mt),It=mt+pt,Nt=Ge(_t,dt),Tt=Et+bt+De(It),Mt=F*m,wt=qe(H,r),xt=Q*(M+s)+2*De(Mt),St=D*E,yt=qe(ot,o),Pt=ut*(x+l)+2*De(St),Bt=Y+V,Ot=Ge(j,W),zt=$+Z+De(Bt),Lt=Bt*_,Ft=qe(Ot,e),At=zt*w+De(Bt)*f+2*De(Lt),Yt=2*(Mt+St),Rt=Re(Ge(wt,yt)),Vt=2*(xt+Pt)+De(Yt),qt=Yt+Lt,Gt=Ge(Rt,Ft),Dt=Vt+At+De(qt),Ct=S*I,kt=qe(v,u),Ht=B*h+2*De(Ct),Qt=y*N,Xt=qe(d,i),jt=z*a+2*De(Qt),$t=Ct+Qt,Ut=Ge(kt,Xt),Jt=Ht+jt+De($t),Kt=qt+$t,Wt=Ge(Gt,Ut),Zt=Dt+Jt+De(Kt),tn=L*m,nn=qe(k,r),rn=2*De(tn),en=A*_,on=qe(X,e),un=2*De(en),cn=G*E,sn=qe(et,o),fn=2*De(cn),ln=tn+en,hn=Ge(nn,on),an=rn+un+De(ln),gn=ln+cn,vn=Ge(hn,sn),pn=an+fn+De(gn),dn=p*I,bn=Ve(p,u),mn=P*h+De(dn),_n=b*N,En=Ve(b,i),In=O*a+De(_n),Nn=dn+_n,Tn=Ge(bn,En),Mn=mn+In+De(Nn),wn=gn+Nn,xn=Ge(vn,Tn),Sn=pn+Mn+De(wn),yn=wn+T,Pn=Ge(xn,c),Bn=Sn+g+De(yn);return{coeffs:[Nt,Wt,Pn],errBound:[Ce*Tt,Ce*Zt,Ce*Bn]}},function(t,n){const{coeffs:{vₓₓ:r,vₓᵧ:e,vᵧᵧ:o,vₓ:u,vᵧ:i,v:c},errorBound:{vₓₓ_:s,vₓᵧ_:f,vᵧᵧ_:l,vₓ_:h,vᵧ_:a,v_:g}}=Ae(t),{coeffs:[[v,p,[,d]],[b,m,[,_]]],errorBound:[[E],[I]]}=ve(n),N=r[1],T=e[1],M=o[1],w=u[1],x=i[1],S=c[1],y=bo(N),P=bo(T),B=bo(M),O=bo(w),z=bo(x),L=p[1],F=v[1],A=m[1],Y=b[1],R=bo(d),V=bo(L),q=bo(F),G=bo(_),D=bo(A),C=bo(Y),k=d*d,H=d*L,Q=d*F,X=d*_,j=d*A,$=d*Y,U=L*L,J=L*F,K=L*_,W=L*A,Z=L*Y,tt=F*A,nt=F*F,rt=F*_,et=F*Y,ot=_*_,ut=_*A,it=_*Y,ct=A*A,st=A*Y,ft=Y*Y,lt=bo(k),ht=bo(X),at=bo(ot),gt=ho(d,d),vt=go(d,p),pt=bo(H),dt=go(d,v),bt=bo(Q),mt=ho(d,_),_t=go(d,m),Et=bo(j),It=go(d,b),Nt=bo($),Tt=vo(p,p),Mt=2*bo(U),wt=vo(p,v),xt=bo(J),St=V*E+2*xt,yt=go(_,p),Pt=bo(K),Bt=vo(p,m),Ot=2*bo(W),zt=vo(p,b),Lt=V*I+2*bo(Z),Ft=vo(v,m),At=E*D+2*bo(tt),Yt=vo(v,v),Rt=bo(nt),Vt=2*(E*q+Rt),qt=go(_,v),Gt=bo(rt),Dt=vo(v,b),Ct=bo(et),kt=E*C+q*I+2*Ct,Ht=ho(_,_),Qt=go(_,m),Xt=bo(ut),jt=go(_,b),$t=bo(it),Ut=vo(m,m),Jt=2*bo(ct),Kt=vo(m,b),Wt=bo(st),Zt=D*I+2*Wt,tn=vo(b,b),nn=bo(ft),rn=2*(I*C+nn),en=nt*N,on=vo(Yt,r),un=Vt*y+Rt*s+2*bo(en),cn=et*T,sn=vo(Dt,e),fn=kt*P+Ct*f+2*bo(cn),ln=ft*M,hn=vo(tn,o),an=rn*B+nn*l+2*bo(ln),gn=en+cn,vn=po(on,sn),pn=un+fn+bo(gn),dn=gn+ln,bn=po(vn,hn),mn=pn+an+bo(dn),_n=J*N,En=vo(wt,r),In=St*y+xt*s+2*bo(_n),Nn=st*M,Tn=vo(Kt,o),Mn=Zt*B+Wt*l+2*bo(Nn),wn=Z+tt,xn=po(zt,Ft),Sn=bo(wn),yn=Lt+At+Sn,Pn=wn*T,Bn=vo(xn,e),On=yn*P+Sn*f+2*bo(Pn),zn=2*(_n+Nn),Ln=ao(po(En,Tn)),Fn=2*(In+Mn)+bo(zn),An=zn+Pn,Yn=po(Ln,Bn),Rn=Fn+On+bo(An),Vn=2*Q+U,qn=bo(Vn),Gn=po(ao(dt),Tt),Dn=2*bt+Mt+bo(Vn),Cn=2*it+ct,kn=bo(Cn),Hn=po(ao(jt),Ut),Qn=2*$t+Jt+bo(Cn),Xn=$+W,jn=(bo(Xn),po(It,Bt)),$n=Nt+Ot+bo(Xn),Un=Xn+rt,Jn=po(jn,qt),Kn=bo(Un),Wn=$n+Gt+Kn,Zn=Vn*N,tr=vo(Gn,r),nr=Dn*y+qn*s+2*bo(Zn),rr=Cn*M,er=vo(Hn,o),or=Qn*B+kn*l+2*bo(rr),ur=Un*T,ir=vo(Jn,e),cr=Wn*P+Kn*f+2*bo(ur),sr=F*w,fr=vo(v,u),lr=E*O+q*h+bo(sr),hr=Y*x,ar=vo(b,i),gr=I*z+C*a+bo(hr),vr=Zn+rr,pr=po(tr,er),dr=nr+or+bo(vr),br=vr+ur,mr=po(pr,ir),_r=dr+cr+bo(br),Er=sr+hr,Ir=po(fr,ar),Nr=lr+gr+bo(Er),Tr=br+Er,Mr=po(mr,Ir),wr=_r+Nr+bo(Tr),xr=H*N,Sr=vo(vt,r),yr=pt*(y+s)+2*bo(xr),Pr=ut*M,Br=vo(Qt,o),Or=Xt*(B+l)+2*bo(Pr),zr=j+K,Lr=po(_t,yt),Fr=bo(zr),Ar=Et+Pt+Fr,Yr=zr*T,Rr=vo(Lr,e),Vr=Ar*P+Fr*f+2*bo(Yr),qr=2*(xr+Pr),Gr=ao(po(Sr,Br)),Dr=2*(yr+Or)+bo(qr),Cr=L*w,kr=vo(p,u),Hr=V*h+2*bo(Cr),Qr=A*x,Xr=vo(m,i),jr=D*a+2*bo(Qr),$r=qr+Yr,Ur=po(Gr,Rr),Jr=Dr+Vr+bo($r),Kr=Cr+Qr,Wr=po(kr,Xr),Zr=Hr+jr+bo(Kr),te=$r+Kr,ne=po(Ur,Wr),re=Jr+Zr+bo(te),ee=k*N,oe=vo(gt,r),ue=lt*s+2*bo(ee),ie=X*T,ce=vo(mt,e),se=ht*f+2*bo(ie),fe=ot*M,le=vo(Ht,o),he=at*l+2*bo(fe),ae=d*w,ge=go(d,u),pe=R*h+bo(ae),de=_*x,be=go(_,i),me=G*a+bo(de),_e=ee+ie,Ee=po(oe,ce),Ie=ue+se+bo(_e),Ne=_e+fe,Te=po(Ee,le),Me=Ie+he+bo(Ne),we=ae+de,xe=po(ge,be),Se=pe+me+bo(we),ye=Ne+we,Pe=po(Te,xe),Be=Me+Se+bo(ye),Oe=ye+S,ze=po(Pe,c),Le=Be+g+bo(Oe);return{coeffs:[bn,Yn,Mr,ne,ze],errBound:[mo*mn,mo*Rn,mo*wr,mo*re,mo*Le]}},function(t,n){const{coeffs:{vₓₓ:r,vₓᵧ:e,vᵧᵧ:o,vₓ:u,vᵧ:i,v:c},errorBound:{vₓₓ_:s,vₓᵧ_:f,vᵧᵧ_:l,vₓ_:h,vᵧ_:a,v_:g}}=Ae(t),{coeffs:[[v,p,d,[,b]],[m,_,E,[,I]]],errorBound:[[N,T,M],[w,x,S]]}=ge(n),y=r[1],P=e[1],B=o[1],O=u[1],z=i[1],L=c[1],F=Yo(y),A=Yo(P),Y=Yo(B),R=Yo(O),V=Yo(z),q=d[1],G=p[1],D=v[1],C=E[1],k=_[1],H=m[1],Q=Yo(b),X=Yo(q),j=Yo(G),$=Yo(D),U=Yo(I),J=Yo(C),K=Yo(k),W=Yo(H),Z=b*b,tt=b*q,nt=b*G,rt=b*D,et=b*I,ot=b*C,ut=b*k,it=b*H,ct=q*q,st=q*G,ft=q*D,lt=q*I,ht=q*C,at=q*k,gt=q*H,vt=G*C,pt=G*G,dt=G*D,bt=G*I,mt=G*k,_t=G*H,Et=D*D,It=D*I,Nt=D*C,Tt=D*k,Mt=D*H,wt=I*I,xt=I*C,St=I*k,yt=I*H,Pt=C*C,Bt=C*k,Ot=H*H,zt=k*k,Lt=k*H,Ft=C*H,At=Oo(b,b),Yt=Yo(Z),Rt=Lo(b,d),Vt=Yo(tt),qt=Q*M+Vt,Gt=Lo(b,p),Dt=Q*T+Yo(nt),Ct=Lo(b,v),kt=Q*N+Yo(rt),Ht=Oo(b,I),Qt=Yo(et),Xt=Lo(b,E),jt=Q*S+Yo(ot),$t=Lo(b,_),Ut=Q*x+Yo(ut),Jt=Lo(b,m),Kt=Q*w+Yo(it),Wt=Fo(d,d),Zt=M*X+X*M+2*Yo(ct),tn=Fo(d,p),nn=M*j+X*T+2*Yo(st),rn=Fo(d,v),en=M*$+X*N+2*Yo(ft),on=Lo(I,d),un=U*M+Yo(lt),cn=Fo(d,E),sn=M*J+X*S+2*Yo(ht),fn=Fo(d,_),ln=M*K+X*x+2*Yo(at),hn=Fo(d,m),an=M*W+X*w+2*Yo(gt),gn=Fo(p,E),vn=T*J+j*S+2*Yo(vt),pn=Fo(p,p),dn=T*j+j*T+2*Yo(pt),bn=Fo(p,v),mn=Yo(dt),_n=T*$+j*N+2*mn,En=Lo(I,p),In=U*T+Yo(bt),Nn=Fo(p,_),Tn=T*K+j*x+2*Yo(mt),Mn=Fo(p,m),wn=T*W+j*w+2*Yo(_t),xn=Fo(v,v),Sn=Yo(Et),yn=N*$+$*N+2*Sn,Pn=Lo(I,v),Bn=U*N+Yo(It),On=Fo(v,E),zn=N*J+$*S+2*Yo(Nt),Ln=Fo(v,_),Fn=N*K+$*x+2*Yo(Tt),An=Fo(v,m),Yn=Yo(Mt),Rn=N*W+$*w+2*Yn,Vn=Oo(I,I),qn=Yo(wt),Gn=Lo(I,E),Dn=Yo(xt),Cn=U*S+Dn,kn=Lo(I,_),Hn=U*x+Yo(St),Qn=Lo(I,m),Xn=U*w+Yo(yt),jn=Fo(E,E),$n=S*J+J*S+2*Yo(Pt),Un=Fo(E,_),Jn=S*K+J*x+2*Yo(Bt),Kn=Fo(m,m),Wn=Yo(Ot),Zn=w*W+W*w+2*Wn,tr=Fo(_,_),nr=x*K+K*x+2*Yo(zt),rr=Fo(_,m),er=Yo(Lt),or=x*W+K*w+2*er,ur=Fo(E,m),ir=S*W+J*w+2*Yo(Ft),cr=Et*y,sr=Fo(xn,r),fr=yn*F+Sn*s+2*Yo(cr),lr=Mt*P,hr=Fo(An,e),ar=Rn*A+Yn*f+2*Yo(lr),gr=Ot*B,vr=Fo(Kn,o),pr=Zn*Y+Wn*l+2*Yo(gr),dr=cr+lr,br=Ao(sr,hr),mr=fr+ar+Yo(dr),_r=dr+gr,Er=Ao(br,vr),Ir=mr+pr+Yo(_r),Nr=dt*y,Tr=Fo(bn,r),Mr=_n*F+mn*s+2*Yo(Nr),wr=Lt*B,xr=Fo(rr,o),Sr=or*Y+er*l+2*Yo(wr),yr=Nr+wr,Pr=Ao(Tr,xr),Br=Mr+Sr+Yo(yr),Or=_t+Tt,zr=Ao(Mn,Ln),Lr=Yo(Or),Fr=wn+Fn+Lr,Ar=Or*P,Yr=Fo(zr,e),Rr=Fr*A+Lr*f+2*Yo(Ar),Vr=2*yr+Ar,qr=Ao(zo(Pr),Yr),Gr=2*Br+Rr+Yo(Vr),Dr=2*ft+pt,Cr=Ao(zo(rn),pn),kr=Yo(Dr),Hr=2*en+dn+Yo(Dr),Qr=2*Ft+zt,Xr=Ao(zo(ur),tr),jr=Yo(Qr),$r=2*ir+nr+Yo(Qr),Ur=gt+mt,Jr=Ao(hn,Nn),Kr=an+Tn+Yo(Ur),Wr=Ur+Nt,Zr=Ao(Jr,On),te=Yo(Wr),ne=Kr+zn+te,re=Dr*y,ee=Fo(Cr,r),oe=Hr*F+kr*s+2*Yo(re),ue=Qr*B,ie=Fo(Xr,o),ce=$r*Y+jr*l+2*Yo(ue),se=re+ue,fe=Ao(ee,ie),le=oe+ce+Yo(se),he=Wr*P,ae=Fo(Zr,e),ve=ne*A+te*f+2*Yo(he),pe=se+he,de=Ao(fe,ae),be=le+ve+Yo(pe),me=rt+st,_e=Ao(Ct,tn),Ee=Yo(me),Ie=kt+nn+Ee,Ne=yt+Bt,Te=Ao(Qn,Un),Me=Yo(Ne),we=Xn+Jn+Me,xe=it+at,Se=Ao(Jt,fn),ye=Kt+ln+Yo(xe),Pe=vt+It,Be=Ao(gn,Pn),Oe=vn+Bn+Yo(Pe),ze=xe+Pe,Le=Ao(Se,Be),Fe=Yo(ze),Ye=ye+Oe+Fe,Re=me*y,Ve=Fo(_e,r),qe=Ie*F+Ee*s+2*Yo(Re),Ge=Ne*B,De=Fo(Te,o),Ce=we*Y+Me*l+2*Yo(Ge),ke=2*(Re+Ge),He=zo(Ao(Ve,De)),Qe=2*(qe+Ce)+Yo(ke),Xe=ze*P,je=Fo(Le,e),$e=Ye*A+Fe*f+2*Yo(Xe),Ue=D*O,Je=Fo(v,u),Ke=N*R+$*h+2*Yo(Ue),We=H*z,Ze=Fo(m,i),to=w*V+W*a+2*Yo(We),no=Ue+We,ro=Ao(Je,Ze),eo=Ke+to+Yo(no),oo=ke+Xe,uo=Ao(He,je),io=Qe+$e+Yo(oo),co=oo+no,so=Ao(uo,ro),fo=io+eo+Yo(co),lo=2*nt+ct,ho=Ao(zo(Gt),Wt),ao=Yo(lo),go=2*Dt+Zt+ao,vo=2*St+Pt,po=Ao(zo(kn),jn),bo=Yo(vo),mo=2*Hn+$n+bo,_o=ut+ht,Eo=Ao($t,cn),Io=Ut+sn+Yo(_o),No=_o+bt,To=Ao(Eo,En),Mo=Yo(No),wo=Io+In+Mo,xo=lo*y,So=Fo(ho,r),yo=go*F+ao*s+2*Yo(xo),Po=vo*B,Bo=Fo(po,o),Vo=mo*Y+bo*l+2*Yo(Po),qo=No*P,Go=Fo(To,e),Do=wo*A+Mo*f+2*Yo(qo),Co=xo+Po,ko=Ao(So,Bo),Ho=yo+Vo+Yo(Co),Qo=Co+qo,Xo=Ao(ko,Go),jo=Ho+Do+Yo(Qo),$o=G*O,Uo=Fo(p,u),Jo=T*R+j*h+2*Yo($o),Ko=k*z,Wo=Fo(_,i),Zo=x*V+K*a+2*Yo(Ko),tu=$o+Ko,nu=Ao(Uo,Wo),ru=Jo+Zo+Yo(tu),eu=Qo+tu,ou=Ao(Xo,nu),uu=jo+ru+Yo(eu),iu=tt*y,cu=Fo(Rt,r),su=qt*F+Vt*s+2*Yo(iu),fu=xt*B,lu=Fo(Gn,o),hu=Cn*Y+Dn*l+2*Yo(fu),au=ot+lt,gu=Ao(Xt,on),vu=Yo(au),pu=jt+un+vu,du=au*P,bu=Fo(gu,e),mu=pu*A+vu*f+2*Yo(du),_u=2*(iu+fu),Eu=zo(Ao(cu,lu)),Iu=2*(su+hu)+Yo(_u),Nu=_u+du,Tu=Ao(Eu,bu),Mu=Iu+mu+Yo(Nu),wu=q*O,xu=Fo(d,u),Su=M*R+X*h+2*Yo(wu),yu=C*z,Pu=Fo(E,i),Bu=S*V+J*a+2*Yo(yu),Ou=wu+yu,zu=Ao(xu,Pu),Lu=Su+Bu+Yo(Ou),Fu=Nu+Ou,Au=Ao(Tu,zu),Yu=Mu+Lu+Yo(Fu),Ru=Z*y,Vu=Fo(At,r),qu=Yt*s+2*Yo(Ru),Gu=et*P,Du=Fo(Ht,e),Cu=Qt*f+2*Yo(Gu),ku=wt*B,Hu=Fo(Vn,o),Qu=qn*l+2*Yo(ku),Xu=b*O,ju=Lo(b,u),$u=Q*h+Yo(Xu),Uu=I*z,Ju=Lo(I,i),Ku=U*a+Yo(Uu),Wu=Ru+Gu,Zu=Ao(Vu,Du),ti=qu+Cu+Yo(Wu),ni=Wu+ku,ri=Ao(Zu,Hu),ei=ti+Qu+Yo(ni),oi=Xu+Uu,ui=Ao(ju,Ju),ii=$u+Ku+Yo(oi),ci=ni+oi,si=Ao(ri,ui),fi=ei+ii+Yo(ci),li=ci+L,hi=Ao(si,c),ai=fi+g+Yo(li);return{coeffs:[Er,qr,de,so,ou,Au,hi],errBound:[Ro*Ir,Ro*Gr,Ro*be,Ro*fo,Ro*uu,Ro*Yu,Ro*ai]}}],[function(t,n){const{coeffs:{vₓₓₓ:r,vₓₓᵧ:e,vₓᵧᵧ:o,vᵧᵧᵧ:u,vₓₓ:i,vₓᵧ:c,vᵧᵧ:s,vₓ:f,vᵧ:l,v:h},errorBound:{vₓₓₓ_:a,vₓₓᵧ_:g,vₓᵧᵧ_:v,vᵧᵧᵧ_:p,vₓₓ_:d,vₓᵧ_:b,vᵧᵧ_:m,vₓ_:_,vᵧ_:E,v_:I}}=We(t),[[N,[,T]],[M,[,w]]]=pe(n),x=r[1],S=e[1],y=o[1],P=u[1],B=i[1],O=c[1],z=s[1],L=f[1],F=l[1],A=h[1],Y=N[1],R=M[1],V=oo(T),q=oo(Y),G=oo(w),D=oo(R),C=T*T,k=T*Y,H=T*w,Q=T*R,X=Y*Y,j=Y*w,$=Y*R,U=w*w,J=w*R,K=R*R,W=Ze(T,T),Z=no(T,N),tt=oo(k),nt=Ze(T,w),rt=no(T,M),et=oo(Q),ot=ro(N,N),ut=2*oo(X),it=no(w,N),ct=oo(j),st=ro(N,M),ft=2*oo($),lt=Ze(w,w),ht=no(w,M),at=oo(J),gt=ro(M,M),vt=2*oo(K),pt=oo(C),dt=oo(k),bt=oo(H),mt=oo(Q),_t=oo(X),Et=oo(j),It=oo($),Nt=oo(U),Tt=oo(J),Mt=oo(K),wt=T*x,xt=no(T,r),St=V*a+oo(wt),yt=3*T,Pt=Ze(3,T),Bt=oo(yt),Ot=yt*x,zt=ro(Pt,r),Lt=Bt*a+2*oo(Ot),Ft=T*S,At=no(T,e),Yt=V*g+oo(Ft),Rt=w*S,Vt=no(w,e),qt=G*g+oo(Rt),Gt=T*y,Dt=no(T,o),Ct=V*v+oo(Gt),kt=w*y,Ht=no(w,o),Qt=G*v+oo(kt),Xt=w*P,jt=no(w,u),$t=G*p+oo(Xt),Ut=3*w,Jt=Ze(3,w),Kt=oo(Ut),Wt=Ut*P,Zt=ro(Jt,u),tn=Kt*p+2*oo(Wt),nn=Y*x,rn=ro(N,r),en=q*a+2*oo(nn),on=Y*y,un=ro(N,o),cn=q*v+2*oo(on),sn=R*S,fn=ro(M,e),ln=D*g+2*oo(sn),hn=R*P,an=ro(M,u),gn=D*p+2*oo(hn),vn=nn+sn,pn=eo(rn,fn),dn=oo(vn),bn=en+ln+dn,mn=on+hn,_n=eo(un,an),En=oo(mn),In=cn+gn+En,Nn=X*vn,Tn=ro(ot,pn),Mn=ut*dn+_t*bn+2*oo(Nn),wn=K*mn,xn=ro(gt,_n),Sn=vt*En+Mt*In+2*oo(wn),yn=Nn+wn,Pn=eo(Tn,xn),Bn=Mn+Sn+oo(yn),On=Ot+Rt,zn=eo(zt,Vt),Ln=Lt+qt+oo(On),Fn=2*(Ft+kt),An=to(eo(At,Ht)),Yn=2*(Yt+Qt)+oo(Fn),Rn=Gt+Wt,Vn=eo(Dt,Zt),qn=Ct+tn+oo(Rn),Gn=On+B,Dn=eo(zn,i),Cn=oo(Gn),kn=Ln+d+Cn,Hn=Fn+O,Qn=eo(An,c),Xn=oo(Hn),jn=Yn+b+Xn,$n=Rn+z,Un=eo(Vn,s),Jn=oo($n),Kn=qn+m+Jn,Wn=X*Gn,Zn=ro(ot,Dn),tr=ut*Cn+_t*kn+2*oo(Wn),nr=$*Hn,rr=ro(st,Qn),er=ft*Xn+It*jn+2*oo(nr),or=K*$n,ur=ro(gt,Un),ir=vt*Jn+Mt*Kn+2*oo(or),cr=Wn+nr,sr=eo(Zn,rr),fr=tr+er+oo(cr),lr=cr+or,hr=eo(sr,ur),ar=fr+ir+oo(lr),gr=2*(Rt+B),vr=to(eo(Vt,i)),pr=2*(qt+d)+oo(gr),dr=2*(Gt+z),br=to(eo(Dt,s)),mr=2*(Ct+m)+oo(dr),_r=Ot+gr,Er=eo(zt,vr),Ir=oo(_r),Nr=Lt+pr+Ir,Tr=Wt+dr,Mr=eo(Zt,br),wr=oo(Tr),xr=tn+mr+wr,Sr=Ft+O,yr=eo(At,c),Pr=oo(Sr),Br=Yt+b+Pr,Or=kt+O,zr=eo(Ht,c),Lr=oo(Or),Fr=Qt+b+Lr,Ar=k*_r,Yr=ro(Z,Er),Rr=tt*Ir+dt*Nr+2*oo(Ar),Vr=J*Tr,qr=ro(ht,Mr),Gr=at*wr+Tt*xr+2*oo(Vr),Dr=Q*Sr,Cr=ro(rt,yr),kr=et*Pr+mt*Br+2*oo(Dr),Hr=j*Or,Qr=ro(it,zr),Xr=ct*Lr+Et*Fr+2*oo(Hr),jr=Y*L,$r=ro(N,f),Ur=q*_+2*oo(jr),Jr=R*F,Kr=ro(M,l),Wr=D*E+2*oo(Jr),Zr=Ar+Vr,te=eo(Yr,qr),ne=Rr+Gr+oo(Zr),re=Dr+Hr,ee=eo(Cr,Qr),oe=kr+Xr+oo(re),ue=Zr+re,ie=eo(te,ee),ce=ne+oe+oo(ue),se=jr+Jr,fe=eo($r,Kr),le=Ur+Wr+oo(se),he=ue+se,ae=eo(ie,fe),ge=ce+le+oo(he),ve=wt+Rt,de=eo(xt,Vt),be=St+qt+oo(ve),me=Xt+Gt,_e=eo(jt,Dt),Ee=$t+Ct+oo(me),Ie=ve+B,Ne=eo(de,i),Te=be+d+oo(Ie),Me=me+z,we=eo(_e,s),xe=Ee+m+oo(Me),Se=C*Ie,ye=ro(W,Ne),Pe=pt*Te+2*oo(Se),Be=U*Me,Oe=ro(lt,we),ze=Nt*xe+2*oo(Be),Le=H*O,Fe=ro(nt,c),Ae=bt*b+2*oo(Le),Ye=Se+Be,Re=eo(ye,Oe),Ve=Pe+ze+oo(Ye),qe=Ye+Le,Ge=eo(Re,Fe),De=Ve+Ae+oo(qe),Ce=T*L,ke=no(T,f),He=V*_+oo(Ce),Qe=w*F,Xe=no(w,l),je=G*E+oo(Qe),$e=Ce+Qe,Ue=eo(ke,Xe),Je=He+je+oo($e),Ke=qe+$e,io=eo(Ge,Ue),co=De+Je+oo(Ke),so=Ke+A,fo=eo(io,h),lo=co+I+oo(so);return{coeffs:[Pn,hr,ae,fo],errBound:[uo*Bn,uo*ar,uo*ge,uo*lo]}},function(t,n){const{coeffs:{vₓₓₓ:r,vₓₓᵧ:e,vₓᵧᵧ:o,vᵧᵧᵧ:u,vₓₓ:i,vₓᵧ:c,vᵧᵧ:s,vₓ:f,vᵧ:l,v:h},errorBound:{vₓₓₓ_:a,vₓₓᵧ_:g,vₓᵧᵧ_:v,vᵧᵧᵧ_:p,vₓₓ_:d,vₓᵧ_:b,vᵧᵧ_:m,vₓ_:_,vᵧ_:E,v_:I}}=We(t),{coeffs:[[N,T,[,M]],[w,x,[,S]]],errorBound:[[y],[P]]}=ve(n),B=r[1],O=e[1],z=o[1],L=u[1],F=i[1],A=c[1],Y=s[1],R=f[1],V=l[1],q=h[1],G=Mo(B),D=Mo(O),C=Mo(z),k=Mo(L),H=Mo(F),Q=Mo(Y),X=Mo(A),j=Mo(R),$=Mo(V),U=T[1],J=N[1],K=x[1],W=w[1],Z=Mo(M),tt=Mo(U),nt=Mo(J),rt=Mo(S),et=Mo(K),ot=Mo(W),ut=M*M,it=M*U,ct=M*J,st=M*S,ft=M*K,lt=M*W,ht=U*U,at=U*J,gt=U*S,vt=U*K,pt=U*W,dt=J*K,bt=J*J,mt=J*S,_t=J*W,Et=S*S,It=S*K,Nt=S*W,Tt=K*K,Mt=K*W,wt=W*W,xt=_o(M,M),St=Io(M,T),yt=Mo(it),Pt=Io(M,N),Bt=Z*y+Mo(ct),Ot=_o(M,S),zt=Io(M,x),Lt=Mo(ft),Ft=Io(M,w),At=Z*P+Mo(lt),Yt=No(T,T),Rt=2*Mo(ht),Vt=No(T,N),qt=tt*y+2*Mo(at),Gt=Io(S,T),Dt=Mo(gt),Ct=No(T,x),kt=2*Mo(vt),Ht=No(T,w),Qt=tt*P+2*Mo(pt),Xt=No(N,x),jt=y*et+2*Mo(dt),$t=No(N,N),Ut=2*(y*nt+Mo(bt)),Jt=Io(S,N),Kt=rt*y+Mo(mt),Wt=No(N,w),Zt=y*ot+nt*P+2*Mo(_t),tn=_o(S,S),nn=Io(S,x),rn=Mo(It),en=Io(S,w),on=rt*P+Mo(Nt),un=No(x,x),cn=2*Mo(Tt),sn=No(x,w),fn=et*P+2*Mo(Mt),ln=No(w,w),hn=2*(P*ot+Mo(wt)),an=Mo(ut),gn=Mo(it),vn=Mo(st),pn=Mo(ft),dn=Mo(at),bn=Mo(bt),mn=Mo(_t),_n=Mo(gt),En=Mo(Et),In=Mo(It),Nn=Mo(Mt),Tn=Mo(wt),Mn=No(N,r),wn=J*B,xn=y*G+nt*a+2*Mo(wn),Sn=No(N,o),yn=J*z,Pn=y*C+nt*v+2*Mo(yn),Bn=No(w,e),On=W*O,zn=P*D+ot*g+2*Mo(On),Ln=No(w,u),Fn=W*L,An=P*k+ot*p+2*Mo(Fn),Yn=wn+On,Rn=To(Mn,Bn),Vn=Mo(Yn),qn=xn+zn+Vn,Gn=yn+Fn,Dn=To(Sn,Ln),Cn=Mo(Gn),kn=Pn+An+Cn,Hn=bt*Yn,Qn=No($t,Rn),Xn=Ut*Vn+bn*qn+2*Mo(Hn),jn=wt*Gn,$n=No(ln,Dn),Un=hn*Cn+Tn*kn+2*Mo(jn),Jn=Hn+jn,Kn=To(Qn,$n),Wn=Xn+Un+Mo(Jn),Zn=ct+ht,tr=To(Pt,Yt),nr=Mo(Zn),rr=Bt+Rt+nr,er=Nt+Tt,or=To(en,un),ur=Mo(er),ir=on+cn+ur,cr=2*ct+ht,sr=Mo(cr),fr=To(Eo(Pt),Yt),lr=2*Bt+Rt+sr,hr=2*Nt+Tt,ar=To(Eo(en),un),gr=Mo(hr),vr=2*on+cn+gr,pr=2*vt+mt,dr=To(Eo(Ct),Jt),br=Mo(pr),mr=2*kt+Kt+br,_r=2*vt+lt,Er=To(Eo(Ct),Ft),Ir=Mo(_r),Nr=2*kt+At+Ir,Tr=2*mt+vt,Mr=To(Eo(Jt),Ct),wr=2*Kt+kt+Mo(Tr),xr=6*ct+ht,Sr=6*ct,yr=Io(6,Pt),Pr=6*Bt+Mo(Sr),Br=To(yr,Yt),Or=Pr+Rt+Mo(Sr+ht),zr=6*Nt+Tt,Lr=6*Nt,Fr=Io(6,en),Ar=6*on+Mo(Lr),Yr=To(Fr,un),Rr=Ar+cn+Mo(Lr+Tt),Vr=pt+dt,qr=To(Ht,Xt),Gr=Mo(Vr),Dr=Qt+jt+Gr,Cr=lt+mt,kr=To(Ft,Jt),Hr=At+Kt+Mo(Cr),Qr=2*gt+ft,Xr=To(Eo(Gt),zt),jr=2*Dt+Lt+Mo(Qr),$r=2*ft+gt,Ur=To(Eo(zt),Gt),Jr=2*Lt+Dt+Mo($r),Kr=lt+vt,Wr=To(Ft,Ct),Zr=At+kt+Mo(Kr),te=Kr+mt,ne=To(Wr,Jt),re=Mo(te),ee=Zr+Kt+re,oe=3*bt,ue=Io(3,$t),ie=3*Ut+Mo(oe),ce=Mo(oe),se=3*wt,fe=Io(3,ln),le=3*hn+Mo(se),he=Mo(se),ae=oe*B,ge=No(ue,r),pe=ie*G+ce*a+2*Mo(ae),de=bt*O,be=No($t,e),me=Ut*D+bn*g+2*Mo(de),_e=2*_t*O,Ee=Eo(No(Wt,e)),Ie=2*(Zt*D+mn*g+Mo(_e)),Ne=2*_t*z,Te=Eo(No(Wt,o)),Me=2*(Zt*C+mn*v+Mo(Ne)),we=wt*z,xe=No(ln,o),Se=hn*C+Tn*v+2*Mo(we),ye=se*L,Pe=No(fe,u),Be=le*k+he*p+2*Mo(ye),Oe=ae+_e,ze=To(ge,Ee),Le=pe+Ie+Mo(Oe),Fe=de+Ne,Ae=To(be,Te),Ye=me+Me+Mo(Fe),Re=Oe+we,Ve=To(ze,xe),qe=Le+Se+Mo(Re),Ge=Fe+ye,De=To(Ae,Pe),Ce=Ye+Be+Mo(Ge),ke=U*Re,He=No(T,Ve),Qe=tt*qe+Mo(ke),Xe=K*Ge,je=No(x,De),$e=et*Ce+Mo(Xe),Ue=ke+Xe,Je=To(He,je),Ke=Qe+$e+Mo(Ue),Ze=W*cr,to=No(w,fr),no=P*sr+ot*lr+2*Mo(Ze),ro=W*_r,eo=No(w,Er),oo=P*Ir+ot*Nr+2*Mo(ro),uo=J*pr,io=No(N,dr),co=y*br+nt*mr+2*Mo(uo),so=J*hr,fo=No(N,ar),lo=y*gr+nt*vr+2*Mo(so),ho=3*J,ao=Io(3,N),go=Mo(ho),vo=3*y+go,po=ho*Zn,bo=No(ao,tr),mo=Mo(po),xo=vo*nr+go*rr+mo,So=3*W,yo=Io(3,w),Po=Mo(So),Bo=3*P+Po,Oo=So*er,zo=No(yo,or),Lo=Mo(Oo),Fo=Bo*ur+Po*ir+Lo,Ao=Ze+uo,Yo=To(to,io),Ro=Mo(Ao),Vo=no+co+Ro,qo=ro+so,Go=To(eo,fo),Do=Mo(qo),Co=oo+lo+Do,ko=po*B,Ho=No(bo,r),Qo=xo*G+mo*a+2*Mo(ko),Xo=Oo*L,jo=No(zo,u),$o=Fo*k+Lo*p+2*Mo(Xo),Uo=Ao*O,Jo=No(Yo,e),Ko=Vo*D+Ro*g+2*Mo(Uo),Wo=qo*z,Zo=No(Go,o),tu=Co*C+Do*v+2*Mo(Wo),nu=ko+Xo,ru=To(Ho,jo),eu=Qo+$o+Mo(nu),ou=Uo+Wo,uu=To(Jo,Zo),iu=Ko+tu+Mo(ou),cu=bt*F,su=No($t,i),fu=Ut*H+bn*d+2*Mo(cu),lu=wt*Y,hu=No(ln,s),au=hn*Q+Tn*m+2*Mo(lu),gu=_t*A,vu=No(Wt,c),pu=Zt*X+mn*b+2*Mo(gu),du=cu+lu,bu=To(su,hu),mu=fu+au+Mo(du),_u=nu+ou,Eu=To(ru,uu),Iu=eu+iu+Mo(_u),Nu=du+gu,Tu=To(bu,vu),Mu=mu+pu+Mo(Nu),wu=_u+Nu,xu=To(Eu,Tu),Su=Iu+Mu+Mo(wu),yu=U*xr,Pu=No(T,Br),Bu=tt*Or+2*Mo(yu),Ou=2*Bu,zu=K*zr,Lu=No(x,Yr),Fu=et*Rr+2*Mo(zu),Au=2*Fu,Yu=2*M*Vr,Ru=Io(2*M,qr),Vu=2*Z*Dr+Mo(Yu),qu=2*K*Cr,Gu=No(Eo(x),kr),Du=2*et*Hr+2*Mo(qu),Cu=U*Tr,ku=No(T,Mr),Hu=tt*wr+2*Mo(Cu),Qu=U*hr,Xu=No(T,ar),ju=tt*vr+2*Mo(Qu),$u=Yu+Cu,Uu=To(Ru,ku),Ju=Vu+Hu+Mo($u),Ku=Vu+Hu+Ju,Wu=qu+Qu,Zu=To(Gu,Xu),ti=Du+ju+Mo(Wu),ni=Du+ju+ti,ri=Mt*Y,ei=No(sn,s),oi=fn*Q+Nn*m+2*Mo(ri),ui=at*F,ii=No(Vt,i),ci=qt*H+dn*d+2*Mo(ui),si=Vr*A,fi=No(qr,c),li=Dr*X+Gr*b+2*Mo(si),hi=ri+ui,ai=To(ei,ii),gi=oi+ci+Mo(hi),vi=yu*B,pi=No(Pu,r),di=Ou*G+Bu*a+2*Mo(vi),bi=$u*O,mi=No(Uu,e),_i=Ku*D+Ju*g+2*Mo(bi),Ei=zu*L,Ii=No(Lu,u),Ni=Au*k+Fu*p+2*Mo(Ei),Ti=Wu*z,Mi=No(Zu,o),wi=ni*C+ti*v+2*Mo(Ti),xi=vi+Ei,Si=To(pi,Ii),yi=di+Ni+Mo(xi),Pi=bi+Ti,Bi=To(mi,Mi),Oi=_i+wi+Mo(Pi),zi=xi+Pi,Li=To(Si,Bi),Fi=yi+Oi+Mo(zi),Ai=2*hi+si,Yi=To(Eo(ai),fi),Ri=2*gi+li+Mo(Ai),Vi=zi+Ai,qi=To(Li,Yi),Gi=Fi+Ri+Mo(Vi),Di=3*M,Ci=Mo(Di),ki=_o(3,M),Hi=Di*Zn,Qi=No(ki,tr),Xi=Mo(Hi),ji=Ci*rr+2*Mo(Hi),$i=3*S,Ui=Mo($i),Ji=_o(3,S),Ki=$i*er,Wi=No(Ji,or),Zi=Mo(Ki),tc=Ui*ir+2*Mo(Ki),nc=M*_r,rc=Io(M,Er),ec=Z*Nr+Mo(nc),oc=M*hr,uc=Io(M,ar),ic=Z*vr+Mo(oc),cc=S*cr,sc=Io(S,fr),fc=rt*lr+Mo(cc),lc=S*pr,hc=Io(S,dr),ac=rt*mr+Mo(lc),gc=nc+cc,vc=To(rc,sc),pc=Mo(gc),dc=ec+fc+pc,bc=oc+lc,mc=To(uc,hc),_c=Mo(bc),Ec=ic+ac+_c,Ic=Hi*B,Nc=No(Qi,r),Tc=ji*G+Xi*a+2*Mo(Ic),Mc=Ki*L,wc=No(Wi,u),xc=tc*k+Zi*p+2*Mo(Mc),Sc=gc*O,yc=No(vc,e),Pc=dc*D+pc*g+2*Mo(Sc),Bc=bc*z,Oc=No(mc,o),zc=Ec*C+_c*v+2*Mo(Bc),Lc=cr*F,Fc=No(fr,i),Ac=lr*H+sr*d+2*Mo(Lc),Yc=hr*Y,Rc=No(ar,s),Vc=vr*Q+gr*m+2*Mo(Yc),qc=te*A,Gc=No(ne,c),Dc=ee*X+re*b+2*Mo(qc),Cc=J*R,kc=No(N,f),Hc=y*j+nt*_+2*Mo(Cc),Qc=W*V,Xc=No(w,l),jc=P*$+ot*E+2*Mo(Qc),$c=Ic+Mc,Uc=To(Nc,wc),Jc=Tc+xc+Mo($c),Kc=Sc+Bc,Wc=To(yc,Oc),Zc=Pc+zc+Mo(Kc),ts=Lc+Yc,ns=To(Fc,Rc),rs=Ac+Vc+Mo(ts),es=$c+Kc,os=To(Uc,Wc),us=Jc+Zc+Mo(es),is=ts+qc,cs=To(ns,Gc),ss=rs+Dc+Mo(is),fs=Cc+Qc,ls=To(kc,Xc),hs=Hc+jc+Mo(fs),as=es+is,gs=To(os,cs),vs=us+ss+Mo(as),ps=as+fs,ds=To(gs,ls),bs=vs+hs+Mo(ps),ms=Di*it,_s=No(ki,St),Es=Mo(ms),Is=Ci*yt+2*Es,Ns=$i*It,Ts=No(Ji,nn),Ms=Mo(Ns),ws=Ui*rn+2*Ms,xs=M*Qr,Ss=Io(M,Xr),ys=Mo(xs),Ps=Z*jr+Mo(xs),Bs=S*$r,Os=Io(S,Ur),zs=Mo(Bs),Ls=rt*Jr+Mo(Bs),Fs=it*F,As=No(St,i),Ys=yt*H+gn*d+2*Mo(Fs),Rs=It*Y,Vs=No(nn,s),qs=rn*Q+In*m+2*Mo(Rs),Gs=ft*A,Ds=No(zt,c),Cs=Lt*X+pn*b+2*Mo(Gs),ks=gt*A,Hs=No(Gt,c),Qs=Dt*X+_n*b+2*Mo(ks),Xs=2*(Fs+Rs),js=Eo(To(As,Vs)),$s=2*(Ys+qs)+Mo(Xs),Us=Gs+ks,Js=To(Ds,Hs),Ks=Cs+Qs+Mo(Us),Ws=U*R,Zs=No(T,f),tf=tt*_+2*Mo(Ws),nf=K*V,rf=No(x,l),ef=et*E+2*Mo(nf),of=ms*B,uf=No(_s,r),cf=Is*G+Es*a+2*Mo(of),sf=Ns*L,ff=No(Ts,u),lf=ws*k+Ms*p+2*Mo(sf),hf=xs*O,af=No(Ss,e),gf=Ps*D+ys*g+2*Mo(hf),vf=Bs*z,pf=No(Os,o),df=Ls*C+zs*v+2*Mo(vf),bf=of+sf,mf=To(uf,ff),_f=cf+lf+Mo(bf),Ef=hf+vf,If=To(af,pf),Nf=gf+df+Mo(Ef),Tf=bf+Ef,Mf=To(mf,If),wf=_f+Nf+Mo(Tf),xf=Xs+Us,Sf=To(js,Js),yf=$s+Ks+Mo(xf),Pf=Ws+nf,Bf=To(Zs,rf),Of=tf+ef+Mo(Pf),zf=Tf+xf,Lf=To(Mf,Sf),Ff=wf+yf+Mo(zf),Af=zf+Pf,Yf=To(Lf,Bf),Rf=Ff+Of+Mo(Af),Vf=M*B,qf=Io(M,r),Gf=Z*a+Mo(Vf),Df=M*z,Cf=Io(M,o),kf=Z*v+Mo(Df),Hf=S*O,Qf=Io(S,e),Xf=rt*g+Mo(Hf),jf=S*L,$f=Io(S,u),Uf=rt*p+Mo(jf),Jf=Vf+Hf,Kf=To(qf,Qf),Wf=Gf+Xf+Mo(Jf),Zf=Df+jf,tl=To(Cf,$f),nl=kf+Uf+Mo(Zf),rl=Jf+F,el=To(Kf,i),ol=Wf+d+Mo(rl),ul=Zf+Y,il=To(tl,s),cl=nl+m+Mo(ul),sl=ut*rl,fl=No(xt,el),ll=an*ol+2*Mo(sl),hl=Et*ul,al=No(tn,il),gl=En*cl+2*Mo(hl),vl=st*A,pl=No(Ot,c),dl=vn*b+2*Mo(vl),bl=M*R,ml=Io(M,f),_l=Z*_+Mo(bl),El=S*V,Il=Io(S,l),Nl=rt*E+Mo(El),Tl=sl+hl,Ml=To(fl,al),wl=ll+gl+Mo(Tl),xl=Tl+vl,Sl=To(Ml,pl),yl=wl+dl+Mo(xl),Pl=bl+El,Bl=To(ml,Il),Ol=_l+Nl+Mo(Pl),zl=xl+Pl,Ll=To(Sl,Bl),Fl=yl+Ol+Mo(zl),Al=zl+q,Yl=To(Ll,h),Rl=Fl+I+Mo(Al);return{coeffs:[Kn,Je,xu,qi,ds,Yf,Yl],errBound:[wo*Wn,wo*Ke,wo*Su,wo*Gi,wo*bs,wo*Rf,wo*Rl]}},function(t,n){const{coeffs:{vₓₓₓ:r,vₓₓᵧ:e,vₓᵧᵧ:o,vᵧᵧᵧ:u,vₓₓ:i,vₓᵧ:c,vᵧᵧ:s,vₓ:f,vᵧ:l,v:h},errorBound:{vₓₓₓ_:a,vₓₓᵧ_:g,vₓᵧᵧ_:v,vᵧᵧᵧ_:p,vₓₓ_:d,vₓᵧ_:b,vᵧᵧ_:m,vₓ_:_,vᵧ_:E,v_:I}}=We(t),{coeffs:[[N,T,M,[,w]],[x,S,y,[,P]]],errorBound:[[B,O,z],[L,F,A]]}=ge(n),Y=r[1],R=e[1],V=o[1],q=u[1],G=i[1],D=c[1],C=s[1],k=f[1],H=l[1],Q=h[1],X=ko(Y),j=ko(R),$=ko(V),U=ko(q),J=ko(G),K=ko(D),W=ko(C),Z=ko(k),tt=ko(H),nt=(ko(Q),M[1]),rt=T[1],et=N[1],ot=y[1],ut=S[1],it=x[1],ct=ko(w),st=ko(nt),ft=ko(rt),lt=ko(et),ht=ko(P),at=ko(ot),gt=ko(ut),vt=ko(it),pt=w*w,dt=w*nt,bt=w*rt,mt=w*et,_t=w*P,Et=w*ot,It=w*ut,Nt=w*it,Tt=nt*nt,Mt=nt*rt,wt=nt*et,xt=nt*P,St=nt*ot,yt=nt*ut,Pt=nt*it,Bt=rt*ot,Ot=rt*rt,zt=rt*et,Lt=rt*P,Ft=rt*ut,At=rt*it,Yt=et*et,Rt=et*P,Vt=et*ot,qt=et*ut,Gt=et*it,Dt=P*P,Ct=P*ot,kt=P*ut,Ht=P*it,Qt=ot*ot,Xt=ot*ut,jt=it*it,$t=ut*ut,Ut=ut*it,Jt=ot*it,Kt=Vo(w,w),Wt=Go(w,M),Zt=ct*z+ko(dt),tn=Go(w,T),nn=ct*O+ko(bt),rn=Go(w,N),en=ct*B+ko(mt),on=Vo(w,P),un=Go(w,y),cn=ct*A+ko(Et),sn=Go(w,S),fn=ct*F+ko(It),ln=Go(w,x),hn=ct*L+ko(Nt),an=Do(M,M),gn=ko(Tt),vn=2*(z*st+gn),pn=Do(M,T),dn=z*ft+st*O+2*ko(Mt),bn=Do(M,N),mn=z*lt+st*B+2*ko(wt),_n=Go(P,M),En=ht*z+ko(xt),In=Do(M,y),Nn=z*at+st*A+2*ko(St),Tn=Do(M,S),Mn=z*gt+st*F+2*ko(yt),wn=Do(M,x),xn=z*vt+st*L+2*ko(Pt),Sn=Do(T,y),yn=O*at+ft*A+2*ko(Bt),Pn=Do(T,T),Bn=ko(Ot),On=2*(O*ft+Bn),zn=Do(T,N),Ln=O*lt+ft*B+2*ko(zt),Fn=Go(P,T),An=ht*O+ko(Lt),Yn=Do(T,S),Rn=O*gt+ft*F+2*ko(Ft),Vn=Do(T,x),qn=O*vt+ft*L+2*ko(At),Gn=Do(N,N),Dn=2*(B*lt+ko(Yt)),Cn=Go(P,N),kn=ht*B+ko(Rt),Hn=Do(N,y),Qn=B*at+lt*A+2*ko(Vt),Xn=Do(N,S),jn=ko(qt),$n=B*gt+lt*F+2*jn,Un=Do(N,x),Jn=B*vt+lt*L+2*ko(Gt),Kn=Vo(P,P),Wn=Go(P,y),Zn=ht*A+ko(Ct),tr=Go(P,S),nr=ht*F+ko(kt),rr=Go(P,x),er=ht*L+ko(Ht),or=Do(y,y),ur=ko(Qt),ir=2*(A*at+ur),cr=Do(y,S),sr=A*gt+at*F+2*ko(Xt),fr=Do(x,x),lr=2*(L*vt+ko(jt)),hr=Do(S,S),ar=ko($t),gr=2*(F*gt+ar),vr=Do(S,x),pr=F*vt+gt*L+2*ko(Ut),dr=Do(y,x),br=ko(Jt),mr=A*vt+at*L+2*br,_r=ko(pt),Er=ko(dt),Ir=ko(zt),Nr=ko(Yt),Tr=ko(Gt),Mr=ko(_t),wr=ko(Dt),xr=ko(Ct),Sr=ko(Ut),yr=ko(jt),Pr=et*Yt,Br=Do(N,Gn),Or=lt*Nr,zr=B*Nr+lt*Dn+2*Or,Lr=et*jt,Fr=Do(N,fr),Ar=lt*yr,Yr=B*yr+lt*lr+2*Ar,Rr=it*Yt,Vr=Do(x,Gn),qr=vt*Nr,Gr=L*Nr+vt*Dn+2*qr,Dr=it*jt,Cr=Do(x,fr),kr=vt*yr,Hr=L*yr+vt*lr+2*kr,Qr=Pr*Y,Xr=Do(Br,r),jr=zr*X+Or*a+2*ko(Qr),$r=Lr*V,Ur=Do(Fr,o),Jr=Yr*$+Ar*v+2*ko($r),Kr=Rr*R,Wr=Do(Vr,e),Zr=Gr*j+qr*g+2*ko(Kr),te=Dr*q,ne=Do(Cr,u),re=Hr*U+kr*p+2*ko(te),ee=Qr+$r,oe=Co(Xr,Ur),ue=jr+Jr+ko(ee),ie=Kr+te,ce=Co(Wr,ne),se=Zr+re+ko(ie),fe=ee+ie,le=Co(oe,ce),he=ue+se+ko(fe),ae=2*At+qt,ve=ko(ae),pe=Co(qo(Vn),Xn),de=2*qn+$n+ve,be=2*qt+At,me=ko(be),_e=Co(qo(Xn),Vn),Ee=2*$n+qn+ko(be),Ie=et*ae,Ne=ko(Ie),Te=Do(N,pe),Me=B*ve+lt*de+2*Ne,we=it*be,xe=ko(we),Se=Do(x,_e),ye=L*me+vt*Ee+2*xe,Pe=rt*Yt,Be=ko(Pe),Oe=Do(T,Gn),ze=O*Nr+ft*Dn+2*Be,Le=ut*jt,Fe=ko(Le),Ae=Do(S,fr),Ye=F*yr+gt*lr+2*Fe,Re=Y*Pe,Ve=Do(r,Oe),qe=ze*X+X*ze+2*ko(Re),Ge=q*Le,De=Do(u,Ae),Ce=Ye*U+U*Ye+2*ko(Ge),ke=R*Ie,He=Do(e,Te),Qe=Me*j+j*Me+2*ko(ke),Xe=V*we,je=Do(o,Se),$e=ye*$+$*ye+2*ko(Xe),Ue=ke+Xe,Je=Co(He,je),Ke=Qe+$e+ko(Ue),Ze=3*(Re+Ge),to=Go(3,Co(Ve,De)),no=3*(qe+Ce)+2*ko(Ze),ro=Ue+Ze,eo=Co(Je,to),oo=Ke+no+ko(ro),uo=nt*Gt,io=Do(M,Un),co=z*Tr+st*Jn+2*ko(uo),so=ot*Yt,fo=Do(y,Gn),lo=A*Nr+at*Dn+2*ko(so),ho=rt*Ut,ao=Do(T,vr),go=O*Sr+ft*pr+2*ko(ho),vo=nt*jt,po=Do(M,fr),bo=z*yr+st*lr+2*ko(vo),mo=rt*qt,_o=Do(T,Xn),Eo=O*jn+ft*$n+2*ko(mo),Io=it*Ot,No=Do(x,Pn),To=L*Bn+vt*On+2*ko(Io),Mo=et*Jt,wo=Do(N,dr),xo=B*br+lt*mr+2*ko(Mo),So=ut*qt,yo=Do(S,Xn),Po=F*jn+gt*$n+2*ko(So),Bo=uo+mo,Oo=Co(io,_o),zo=co+Eo+ko(Bo),Lo=so+Io,Fo=Co(fo,No),Ao=lo+To+ko(Lo),Yo=ho+Mo,Ro=Co(ao,wo),Qo=go+xo+ko(Yo),Xo=vo+So,jo=Co(po,yo),$o=bo+Po+ko(Xo),Uo=wt+Ot,Jo=Co(bn,Pn),Ko=ko(Uo),Wo=mn+On+Ko,Zo=Jt+$t,tu=ko(Zo),nu=Co(dr,hr),ru=mr+gr+tu,eu=2*Bo+Lo,ou=Co(qo(Oo),Fo),uu=ko(eu),iu=2*zo+Ao+uu,cu=2*Yo+Xo,su=Co(qo(Ro),jo),fu=ko(cu),lu=2*Qo+$o+fu,hu=R*eu,au=Do(e,ou),gu=g*uu+j*iu+2*ko(hu),vu=V*cu,pu=Do(o,su),du=v*fu+$*lu+2*ko(vu),bu=et*Uo,mu=Do(N,Jo),_u=ko(bu),Eu=B*Ko+lt*Wo+2*_u,Iu=it*Zo,Nu=Do(x,nu),Tu=ko(Iu),Mu=L*tu+vt*ru+2*Tu,wu=Y*bu,xu=Do(r,mu),Su=a*_u+X*Eu+2*ko(wu),yu=q*Iu,Pu=Do(u,Nu),Bu=p*Tu+U*Mu+2*ko(yu),Ou=hu+vu,zu=Co(au,pu),Lu=gu+du+ko(Ou),Fu=3*(wu+yu),Au=Go(3,Co(xu,Pu)),Yu=3*(Su+Bu)+2*ko(Fu),Ru=Ou+Fu,Vu=Co(zu,Au),qu=Lu+Yu+ko(Ru),Gu=At+qt,Du=Co(Vn,Xn),Cu=ko(Gu),ku=qn+$n+Cu,Hu=ut*Ot,Qu=Do(S,Pn),Xu=F*Bn+gt*On+2*ko(Hu),ju=2*nt*Gu,$u=qo(Do(M,Du)),Uu=2*(z*Cu+st*ku+2*ko(ju)),Ju=Hu+ju,Ku=Co(Qu,$u),Wu=Xu+Uu+ko(Ju),Zu=2*(Nt+Bt),ti=qo(Co(ln,Sn)),ni=2*(hn+yn)+ko(Zu),ri=Zu+Rt,ei=ko(ri),oi=Co(ti,Cn),ui=ni+kn+ei,ii=et*ri,ci=Do(N,oi),si=B*ei+lt*ui+2*ko(ii),fi=Ju+ii,li=Co(Ku,ci),hi=ko(fi),ai=Wu+si+hi,gi=rt*$t,vi=Do(T,hr),pi=O*ar+ft*gr+2*ko(gi),di=2*ot*Gu,bi=qo(Do(y,Du)),mi=2*(A*Cu+at*ku+ko(di)),_i=gi+di,Ei=Co(vi,bi),Ii=pi+mi+ko(_i),Ni=2*(yt+Rt),Ti=qo(Co(Tn,Cn)),Mi=2*(Mn+kn)+ko(Ni),wi=Ni+Nt,xi=Co(Ti,ln),Si=ko(wi),yi=Mi+hn+Si,Pi=it*wi,Bi=Do(x,xi),Oi=L*Si+vt*yi+2*ko(Pi),zi=_i+Pi,Li=Co(Ei,Bi),Fi=ko(zi),Ai=Ii+Oi+Fi,Yi=rt*Ot,Ri=Do(T,Pn),Vi=O*Bn+ft*On+2*ko(Yi),qi=2*Mt+mt,Gi=Co(qo(pn),rn),Di=ko(qi),Ci=2*dn+en+Di,ki=3*et,Hi=Go(3,N),Qi=ko(ki),Xi=3*B+Qi,ji=ki*qi,$i=Do(Hi,Gi),Ui=Xi*Di+Qi*Ci+2*ko(ji),Ji=Yi+ji,Ki=Co(Ri,$i),Wi=ko(Ji),Zi=Vi+Ui+Wi,tc=ut*$t,nc=Do(S,hr),rc=F*ar+gt*gr+2*ko(tc),ec=2*Xt+Ht,oc=Co(qo(cr),rr),uc=ko(ec),ic=2*sr+er+uc,cc=3*it,sc=Go(3,x),fc=ko(cc),lc=3*L+fc,hc=cc*ec,ac=Do(sc,oc),gc=lc*uc+fc*ic+2*ko(hc),vc=tc+hc,pc=Co(nc,ac),dc=ko(vc),bc=rc+gc+dc,mc=R*fi,_c=Do(e,li),Ec=g*hi+j*ai+2*ko(mc),Ic=V*zi,Nc=Do(o,Li),Tc=v*Fi+$*Ai+2*ko(Ic),Mc=mc+Ic,wc=Co(_c,Nc),xc=Ec+Tc+ko(Mc),Sc=Y*Ji,yc=Do(r,Ki),Pc=a*Wi+X*Zi+2*ko(Sc),Bc=q*vc,Oc=Do(u,pc),zc=p*dc+U*bc+2*ko(Bc),Lc=Sc+Bc,Fc=Co(yc,Oc),Ac=Pc+zc+ko(Lc),Yc=G*Yt,Rc=Do(Gn,i),Vc=Dn*J+Nr*d+2*ko(Yc),qc=C*jt,Gc=Do(fr,s),Dc=lr*W+yr*m+2*ko(qc),Cc=Yc+qc,kc=Co(Rc,Gc),Hc=Vc+Dc+ko(Cc),Qc=D*Gt,Xc=Do(Un,c),jc=Jn*K+Tr*b+2*ko(Qc),$c=Mc+Lc,Uc=Co(wc,Fc),Jc=xc+Ac+ko($c),Kc=Cc+Qc,Wc=Co(kc,Xc),Zc=Hc+jc+ko(Kc),ts=$c+Kc,ns=Co(Uc,Wc),rs=Jc+Zc+ko(ts),es=Ft+Vt,os=Co(Yn,Hn),us=ko(es),is=Rn+Qn+us,cs=Pt+Ft,ss=Co(wn,Yn),fs=ko(cs),ls=xn+Rn+fs,hs=w*Gu,as=Go(w,Du),gs=ct*ku+ko(hs),vs=P*Gu,ps=Go(P,Du),ds=ht*ku+ko(vs),bs=nt*es,ms=Do(M,os),_s=z*us+st*is+2*ko(bs),Es=ot*cs,Is=Do(y,ss),Ns=A*fs+at*ls+2*ko(Es),Ts=2*Rt+Bt,Ms=Co(qo(Cn),Sn),ws=ko(Ts),xs=2*kn+yn+ws,Ss=2*Nt+yt,ys=Co(qo(ln),Tn),Ps=ko(Ss),Bs=2*hn+Mn+Ps,Os=it*Tt,zs=Do(x,an),Ls=L*gn+vt*vn+2*ko(Os),Fs=et*Qt,As=Do(N,or),Ys=B*ur+lt*ir+2*ko(Fs),Rs=rt*Ts,Vs=Do(T,Ms),qs=O*ws+ft*xs+2*ko(Rs),Gs=ut*Ss,Ds=Do(S,ys),Cs=F*Ps+gt*Bs+2*ko(Gs),ks=2*(hs+bs),Hs=qo(Co(as,ms)),Qs=2*(gs+_s)+ko(ks),Xs=2*(vs+Es),js=qo(Co(ps,Is)),$s=2*(ds+Ns)+ko(Xs),Us=2*w*zt,Js=qo(Go(w,zn)),Ks=2*ct*Ln+ko(Us),Ws=2*P*Ut,Zs=qo(Go(P,vr)),tf=2*ht*pr+ko(Ws),nf=nt*Uo,rf=Do(M,Jo),ef=z*Ko+st*Wo+2*ko(nf),of=ot*Zo,uf=Do(y,nu),cf=A*tu+at*ru+2*ko(of),sf=G*zt,ff=Do(zn,i),lf=Ln*J+Ir*d+2*ko(sf),hf=C*Ut,af=Do(vr,s),gf=pr*W+Sr*m+2*ko(hf),vf=ks+Os,pf=Co(Hs,zs),df=ko(vf),bf=Qs+Ls+df,mf=Xs+Fs,_f=Co(js,As),Ef=ko(mf),If=$s+Ys+Ef,Nf=vf+Rs,Tf=Co(pf,Vs),Mf=ko(Nf),wf=bf+qs+Mf,xf=mf+Gs,Sf=Co(_f,Ds),yf=ko(xf),Pf=If+Cs+yf,Bf=Us+nf,Of=Co(Js,rf),zf=ko(Bf),Lf=Ks+ef+zf,Ff=Ws+of,Af=Co(Zs,uf),Yf=ko(Ff),Rf=tf+cf+Yf,Vf=2*(sf+hf),qf=qo(Co(ff,af)),Gf=2*(lf+gf)+ko(Vf),Df=R*Nf,Cf=Do(e,Tf),kf=g*Mf+j*wf+2*ko(Df),Hf=V*xf,Qf=Do(o,Sf),Xf=v*yf+$*Pf+2*ko(Hf),jf=Y*Bf,$f=Do(r,Of),Uf=a*zf+X*Lf+2*ko(jf),Jf=q*Ff,Kf=Do(u,Af),Wf=p*Yf+U*Rf+2*ko(Jf),Zf=Df+Hf,tl=Co(Cf,Qf),nl=kf+Xf+ko(Zf),rl=3*(jf+Jf),el=Go(3,Co($f,Kf)),ol=3*(Uf+Wf)+2*ko(rl),ul=D*Gu,il=Do(c,Du),cl=b*Cu+K*ku+2*ko(ul),sl=Zf+rl,fl=Co(tl,el),ll=nl+ol+ko(sl),hl=ul+Vf,al=Co(il,qf),gl=cl+Gf+ko(hl),vl=sl+hl,pl=Co(fl,al),dl=ll+gl+ko(vl),bl=Pt+es,ml=Co(wn,os),_l=ko(bl),El=xn+is+_l,Il=2*wt+Ot,Nl=Co(qo(bn),Pn),Tl=ko(Il),Ml=2*mn+On+Tl,wl=2*Jt+$t,xl=Co(qo(dr),hr),Sl=ko(wl),yl=2*mr+gr+Sl,Pl=2*w*bl,Bl=Go(2*w,ml),Ol=2*ct*El+ko(Pl),zl=2*P*bl,Ll=Go(2*P,ml),Fl=2*ht*El+ko(zl),Al=yt+2*Bt,Yl=Co(Tn,qo(Sn)),Rl=ko(Al),Vl=Mn+2*yn+Rl,ql=Bt+2*yt,Gl=Co(Sn,qo(Tn)),Dl=ko(ql),Cl=yn+2*Mn+Dl,kl=P*Il,Hl=Go(P,Nl),Ql=ht*Ml+ko(kl),Xl=w*wl,jl=Go(w,xl),$l=ct*yl+ko(Xl),Ul=nt*Al,Jl=Do(M,Yl),Kl=z*Rl+st*Vl+2*ko(Ul),Wl=ot*ql,Zl=Do(y,Gl),th=A*Dl+at*Cl+2*ko(Wl),nh=w*Il,rh=Go(w,Nl),eh=ct*Ml+ko(nh),oh=P*wl,uh=Go(P,xl),ih=ht*yl+ko(oh),ch=rt*Tt,sh=Do(T,an),fh=O*gn+ft*vn+2*ko(ch),lh=ut*Qt,hh=Do(S,or),ah=F*ur+gt*ir+2*ko(lh),gh=Pl+kl,vh=Co(Bl,Hl),ph=Ol+Ql+ko(gh),dh=zl+Xl,bh=Co(Ll,jl),mh=Fl+$l+ko(dh),_h=gh+Ul,Eh=Co(vh,Jl),Ih=ko(_h),Nh=ph+Kl+Ih,Th=dh+Wl,Mh=Co(bh,Zl),wh=ko(Th),xh=mh+th+wh,Sh=nh+ch,yh=Co(rh,sh),Ph=ko(Sh),Bh=eh+fh+Ph,Oh=oh+lh,zh=Co(uh,hh),Lh=ko(Oh),Fh=ih+ah+Lh,Ah=R*_h,Yh=Do(e,Eh),Rh=g*Ih+j*Nh+2*ko(Ah),Vh=V*Th,qh=Do(o,Mh),Gh=v*wh+$*xh+2*ko(Vh),Dh=Y*Sh,Ch=Do(r,yh),kh=a*Ph+X*Bh+2*ko(Dh),Hh=q*Oh,Qh=Do(u,zh),Xh=p*Lh+U*Fh+2*ko(Hh),jh=Dh+Hh,$h=ko(jh),Uh=Co(Ch,Qh),Jh=kh+Xh+$h,Kh=Ah+Vh,Wh=Co(Yh,qh),Zh=Rh+Gh+ko(Kh),ta=Kh+3*jh,na=Co(Wh,Go(3,Uh)),ra=Zh+3*(Jh+$h)+ko(ta),ea=D*bl,oa=Do(c,ml),ua=b*_l+K*El+2*ko(ea),ia=G*Il,ca=Do(i,Nl),sa=d*Tl+J*Ml+2*ko(ia),fa=ea+ia,la=Co(oa,ca),ha=ua+sa+ko(fa),aa=C*wl,ga=Do(s,xl),va=m*Sl+W*yl+2*ko(aa),pa=fa+aa,da=Co(la,ga),ba=ha+va+ko(pa),ma=ta+pa,_a=Co(na,da),Ea=ra+ba+ko(ma),Ia=yt+Bt,Na=Co(Tn,Sn),Ta=Mn+yn+ko(Ia),Ma=Rt+Nt,wa=Co(Cn,ln),xa=kn+hn+ko(Ma),Sa=Mt+mt,ya=Co(pn,rn),Pa=dn+en+ko(Sa),Ba=ko(Sa),Oa=Xt+Ht,za=Co(cr,rr),La=sr+er+ko(Oa),Fa=ko(Oa),Aa=2*Ia+Rt,Ya=Co(qo(Na),Cn),Ra=2*Ta+kn+ko(Aa),Va=2*Ia+Nt,qa=Co(qo(Na),ln),Ga=2*Ta+hn+ko(Va),Da=2*Lt+St,Ca=Co(qo(Fn),In),ka=ko(Da),Ha=2*An+Nn+ka,Qa=2*It+St,Xa=Co(qo(sn),In),ja=ko(Qa),$a=2*fn+Nn+ja,Ua=Sa+Mt,Ja=Co(ya,pn),Ka=Pa+dn+ko(Ua),Wa=Oa+Xt,Za=Co(za,cr),tg=La+sr+ko(Wa),ng=3*w,rg=Vo(3,w),eg=ng*Ua,og=Do(rg,Ja),ug=ko(ng)*Ka+2*ko(eg),ig=3*P,cg=Vo(3,P),sg=ig*Wa,fg=Do(cg,Za),lg=ko(ig)*tg+2*ko(sg),hg=nt*Tt,ag=Do(M,an),gg=z*gn+st*vn+2*ko(hg),vg=ot*Qt,pg=Do(y,or),dg=A*ur+at*ir+2*ko(vg),bg=G*Sa,mg=Do(i,ya),_g=d*Ba+J*Pa+ko(bg),Eg=C*Oa,Ig=Do(s,za),Ng=m*Fa+W*La+ko(Eg),Tg=Aa+Ma,Mg=Co(Ya,wa),wg=Ra+xa+ko(Tg),xg=Va+Ma,Sg=Co(qa,wa),yg=Ga+xa+ko(xg),Pg=w*Tg,Bg=Go(w,Mg),Og=ct*wg+ko(Pg),zg=P*xg,Lg=Go(P,Sg),Fg=ht*yg+ko(zg),Ag=nt*Da,Yg=Do(M,Ca),Rg=z*ka+st*Ha+2*ko(Ag),Vg=ot*Qa,qg=Do(y,Xa),Gg=A*ja+at*$a+2*ko(Vg),Dg=et*k,Cg=Do(N,f),kg=B*Z+lt*_+2*ko(Dg),Hg=it*H,Qg=Do(x,l),Xg=L*tt+vt*E+2*ko(Hg),jg=Pg+Ag,$g=Co(Bg,Yg),Ug=ko(jg),Jg=Og+Rg+Ug,Kg=zg+Vg,Wg=Co(Lg,qg),Zg=ko(Kg),tv=Fg+Gg+Zg,nv=eg+hg,rv=Co(og,ag),ev=ko(nv),ov=ug+gg+ev,uv=sg+vg,iv=Co(fg,pg),cv=ko(uv),sv=lg+dg+cv,fv=Ma+Ia,lv=Co(wa,Na),hv=ko(fv),av=xa+Ta+hv,gv=2*(bg+Eg),vv=qo(Co(mg,Ig)),pv=2*(_g+Ng)+ko(gv),dv=R*jg,bv=Do(e,$g),mv=g*Ug+j*Jg+2*ko(dv),_v=V*Kg,Ev=Do(o,Wg),Iv=v*Zg+$*tv+2*ko(_v),Nv=Y*nv,Tv=Do(r,rv),Mv=a*ev+X*ov+2*ko(Nv),wv=q*uv,xv=Do(u,iv),Sv=p*cv+U*sv+2*ko(wv),yv=D*fv,Pv=Do(c,lv),Bv=b*hv+K*av+2*ko(yv),Ov=dv+_v,zv=Co(bv,Ev),Lv=mv+Iv+ko(Ov),Fv=Nv+wv,Av=Co(Tv,xv),Yv=Mv+Sv+ko(Fv),Rv=yv+gv,Vv=Co(Pv,vv),qv=Bv+pv+ko(Rv),Gv=Dg+Hg,Dv=Co(Cg,Qg),Cv=kg+Xg+ko(Gv),kv=Ov+Fv,Hv=Co(zv,Av),Qv=Lv+Yv+ko(kv),Xv=Rv+Gv,jv=Co(Vv,Dv),$v=qv+Cv+ko(Xv),Uv=kv+Xv,Jv=Co(Hv,jv),Kv=Qv+$v+ko(Uv),Wv=St+Lt,Zv=Co(In,Fn),tp=Nn+An+ko(Wv),np=St+It,rp=Co(In,sn),ep=Nn+fn+ko(np),op=2*Wv+It,up=Co(qo(Zv),sn),ip=2*tp+fn+ko(op),cp=2*np+Lt,sp=Co(qo(rp),Fn),fp=2*ep+An+ko(cp),lp=w*op,hp=Go(w,up),ap=ct*ip+ko(lp),gp=P*Tt,vp=Go(P,an),pp=ht*vn+ko(gp),dp=P*cp,bp=Go(P,sp),mp=ht*fp+ko(dp),_p=w*Qt,Ep=Go(w,or),Ip=ct*ir+ko(_p),Np=w*Tt,Tp=Go(w,an),Mp=ct*vn+ko(Np),wp=rt*pt,xp=Do(T,Kt),Sp=O*_r+2*ko(wp),yp=P*Qt,Pp=Go(P,or),Bp=ht*ir+ko(yp),Op=ut*Dt,zp=Do(S,Kn),Lp=F*wr+2*ko(Op),Fp=lp+gp,Ap=Co(hp,vp),Yp=ap+pp+ko(Fp),Rp=ap+pp+Yp,Vp=dp+_p,qp=Co(bp,Ep),Gp=mp+Ip+ko(Vp),Dp=mp+Ip+Gp,Cp=Np+wp,kp=Co(Tp,xp),Hp=ko(Cp),Qp=Mp+Sp+Hp,Xp=yp+Op,jp=Co(Pp,zp),$p=ko(Xp),Up=Bp+Lp+$p,Jp=Y*Cp,Kp=Do(r,kp),Wp=a*Hp+X*Qp+2*ko(Jp),Zp=q*Xp,td=Do(u,jp),nd=p*$p+U*Up+2*ko(Zp),rd=3*(Jp+Zp),ed=Go(3,Co(Kp,td)),od=3*(Wp+nd)+2*ko(rd),ud=Wv+It,id=Co(Zv,sn),cd=ko(ud),sd=tp+fn+cd,fd=2*bt+Tt,ld=Co(qo(tn),an),hd=ko(fd),ad=2*nn+vn+hd,gd=2*kt+Qt,vd=Co(qo(tr),or),pd=ko(gd),dd=2*nr+ir+pd,bd=R*Fp,md=Do(e,Ap),_d=g*Yp+j*Rp+2*ko(bd),Ed=V*Vp,Id=Do(o,qp),Nd=v*Gp+$*Dp+2*ko(Ed),Td=D*ud,Md=Do(c,id),wd=b*cd+K*sd+2*ko(Td),xd=G*fd,Sd=Do(i,ld),yd=d*hd+J*ad+2*ko(xd),Pd=C*gd,Bd=Do(s,vd),Od=m*pd+W*dd+2*ko(Pd),zd=rt*k,Ld=Do(T,f),Fd=O*Z+ft*_+ko(zd),Ad=ut*H,Yd=Do(S,l),Rd=F*tt+gt*E+ko(Ad),Vd=zd+Ad,qd=Co(Ld,Yd),Gd=Fd+Rd+ko(Vd),Dd=bd+Ed,Cd=Co(md,Id),kd=_d+Nd+ko(Dd),Hd=rd+Td,Qd=Co(ed,Md),Xd=od+wd+ko(Hd),jd=xd+Pd,$d=Co(Sd,Bd),Ud=yd+Od+ko(jd),Jd=Dd+Hd,Kd=Co(Cd,Qd),Wd=kd+Xd+ko(Jd),Zd=jd+Vd,tb=Co($d,qd),nb=Ud+Gd+ko(Zd),rb=Jd+Zd,eb=Co(Kd,tb),ob=Wd+nb+ko(rb),ub=xt+Et,ib=Co(_n,un),cb=ko(ub),sb=En+cn+cb,fb=w*R,lb=Go(w,e),hb=ko(fb),ab=ct*g+hb,gb=P*V,vb=Go(P,o),pb=ko(gb),db=ht*v+pb,bb=ub+xt,mb=Co(ib,_n),_b=ko(bb),Eb=sb+En+_b,Ib=ub+Et,Nb=Co(ib,un),Tb=ko(Ib),Mb=sb+cn+Tb,wb=nt*pt,xb=Do(M,Kt),Sb=ko(wb),yb=z*_r+2*Sb,Pb=wb*Y,Bb=Do(xb,r),Ob=yb*X+Sb*a+2*ko(Pb),zb=ot*Dt,Lb=Do(y,Kn),Fb=ko(zb),Ab=A*wr+2*Fb,Yb=zb*q,Rb=Do(Lb,u),Vb=Ab*U+Fb*p+2*ko(Yb),qb=D*ub,Gb=Do(c,ib),Db=b*cb+K*sb+2*ko(qb),Cb=dt*G,kb=Do(Wt,i),Hb=Zt*J+Er*d+2*ko(Cb),Qb=Ct*C,Xb=Do(Wn,s),jb=Zn*W+xr*m+2*ko(Qb),$b=Cb+Qb,Ub=Co(kb,Xb),Jb=Hb+jb+ko($b),Kb=nt*k,Wb=Do(M,f),Zb=z*Z+st*_+ko(Kb),tm=ot*H,nm=Do(y,l),rm=A*tt+at*E+ko(tm),em=Kb+tm,om=Co(Wb,nm),um=Zb+rm+ko(em),im=fb*bb,cm=Do(lb,mb),sm=ab*_b+hb*Eb+2*ko(im),fm=gb*Ib,lm=Do(vb,Nb),hm=db*Tb+pb*Mb+2*ko(fm),am=im+fm,gm=Co(cm,lm),vm=sm+hm+ko(am),pm=3*(Pb+Yb),dm=Go(3,Co(Bb,Rb)),bm=3*(Ob+Vb)+2*ko(pm),mm=qb+2*$b,_m=Co(Gb,qo(Ub)),Em=Db+2*Jb+ko(mm),Im=am+pm,Nm=Co(gm,dm),Tm=vm+bm+ko(Im),Mm=mm+em,wm=Co(_m,om),xm=Em+um+ko(Mm),Sm=Im+Mm,ym=Co(Nm,wm),Pm=Tm+xm+ko(Sm),Bm=w*Y,Om=Go(w,r),zm=ct*a+ko(Bm),Lm=P*R,Fm=Go(P,e),Am=ht*g+ko(Lm),Ym=Bm+Lm,Rm=Co(Om,Fm),Vm=zm+Am+ko(Ym),qm=w*V,Gm=Go(w,o),Dm=ct*v+ko(qm),Cm=P*q,km=Go(P,u),Hm=ht*p+ko(Cm),Qm=qm+Cm,Xm=Co(Gm,km),jm=Dm+Hm+ko(Qm),$m=Ym+G,Um=Co(Rm,i),Jm=Vm+d+ko($m),Km=Qm+C,Wm=Co(Xm,s),Zm=jm+m+ko(Km),t_=pt*$m,n_=Do(Kt,Um),r_=_r*Jm+2*ko(t_),e_=Dt*Km,o_=Do(Kn,Wm),u_=wr*Zm+2*ko(e_),i_=t_+e_,c_=Co(n_,o_),s_=r_+u_+ko(i_),f_=_t*D,l_=Do(on,c),h_=Mr*b+ko(f_),a_=i_+f_,g_=Co(c_,l_),v_=s_+h_+ko(a_),p_=w*k,d_=Go(w,f),b_=ct*_+ko(p_),m_=P*H,__=Go(P,l),E_=ht*E+ko(m_),I_=p_+m_,N_=Co(d_,__),T_=b_+E_+ko(I_),M_=a_+I_,w_=Co(g_,N_),x_=v_+T_+ko(M_),S_=M_+Q,y_=Co(w_,h),P_=x_+I+ko(S_);return{coeffs:[le,eo,Vu,ns,pl,_a,Jv,eb,ym,y_],errBound:[Ho*he,Ho*oo,Ho*qu,Ho*rs,Ho*dl,Ho*Ea,Ho*Kv,Ho*ob,Ho*Pm,Ho*P_]}}]],di=[[tu,Yu,ni],[pu,ku,si],[Ou,Ju,function(t,n){const r=ft(t);if(0===vi(r[0][0])&&0===vi(r[1][0]))return si(Zn(t),n);const[[e,o,u,[i]],[c,s,f,[l]]]=ft(n);if(0===vi(e)&&0===vi(c))return Ju(t,Zn(n));const{vₓₓₓ:h,vₓₓᵧ:a,vₓᵧᵧ:g,vᵧᵧᵧ:v,vₓₓ:p,vₓᵧ:d,vᵧᵧ:b,vₓ:m,vᵧ:_,v:E}=Mu(r),I=fi(i,i),N=li(i,u),T=li(i,o),M=li(i,e),w=fi(i,l),x=li(i,f),S=li(i,s),y=li(i,c),P=hi(u,u),B=hi(u,o),O=hi(u,e),z=li(l,u),L=hi(u,f),F=hi(u,s),A=hi(u,c),Y=hi(o,f),R=hi(o,o),V=hi(o,e),q=li(l,o),G=hi(o,s),D=hi(o,c),C=hi(e,e),k=li(l,e),H=hi(e,f),Q=hi(e,s),X=hi(e,c),j=fi(l,l),$=li(l,f),U=li(l,s),J=li(l,c),K=hi(f,f),W=hi(f,s),Z=hi(c,c),tt=hi(s,s),nt=hi(s,c),rt=hi(f,c),et=hi(e,C),ot=hi(e,Z),ut=hi(c,C),it=hi(c,Z),ct=hi(et,h),st=hi(ot,g),lt=hi(ut,a),ht=hi(it,v),at=ai(ct,st),gt=ai(lt,ht),vt=ai(at,gt),pt=ai(gi(D),Q),dt=ai(gi(Q),D),bt=hi(e,pt),mt=hi(c,dt),_t=hi(o,C),Et=hi(s,Z),It=hi(h,_t),Nt=hi(v,Et),Tt=hi(a,bt),Mt=hi(g,mt),wt=ai(Tt,Mt),xt=li(3,ai(It,Nt)),St=ai(wt,xt),yt=hi(u,X),Pt=hi(f,C),Bt=hi(o,nt),Ot=hi(u,Z),zt=hi(o,Q),Lt=hi(c,R),Ft=hi(e,rt),At=hi(s,Q),Yt=ai(yt,zt),Rt=ai(Pt,Lt),Vt=ai(Bt,Ft),qt=ai(Ot,At),Gt=ai(O,R),Dt=ai(rt,tt),Ct=ai(gi(Yt),Rt),kt=ai(gi(Vt),qt),Ht=hi(a,Ct),Qt=hi(g,kt),Xt=hi(e,Gt),jt=hi(c,Dt),$t=hi(h,Xt),Ut=hi(v,jt),Jt=ai(Ht,Qt),Kt=li(3,ai($t,Ut)),Wt=ai(Jt,Kt),Zt=ai(D,Q),tn=hi(s,R),nn=gi(hi(u,Zt)),rn=ai(tn,nn),en=gi(ai(y,Y)),on=ai(en,k),un=hi(e,on),cn=ai(rn,un),sn=hi(o,tt),fn=gi(hi(f,Zt)),ln=ai(sn,fn),hn=gi(ai(F,k)),an=ai(hn,y),gn=hi(c,an),vn=ai(ln,gn),pn=hi(o,R),dn=ai(gi(B),M),bn=hi(li(3,e),dn),mn=ai(pn,bn),_n=hi(s,tt),En=ai(gi(W),J),In=hi(li(3,c),En),Nn=ai(_n,In),Tn=hi(a,cn),Mn=hi(g,vn),wn=ai(Tn,Mn),xn=hi(h,mn),Sn=hi(v,Nn),yn=ai(xn,Sn),Pn=hi(C,p),Bn=hi(Z,b),On=ai(Pn,Bn),zn=hi(X,d),Ln=ai(wn,yn),Fn=ai(On,zn),An=ai(Ln,Fn),Yn=ai(G,H),Rn=ai(A,G),Vn=li(i,Zt),qn=li(l,Zt),Gn=hi(u,Yn),Dn=hi(f,Rn),Cn=ai(gi(k),Y),kn=ai(gi(y),F),Hn=hi(c,P),Qn=hi(e,K),Xn=hi(o,Cn),jn=hi(s,kn),$n=gi(ai(Vn,Gn)),Un=gi(ai(qn,Dn)),Jn=gi(li(i,V)),Kn=gi(li(l,nt)),Wn=hi(u,Gt),tr=hi(f,Dt),nr=hi(V,p),rr=hi(nt,b),er=ai($n,Hn),or=ai(Un,Qn),ur=ai(er,Xn),ir=ai(or,jn),cr=ai(Jn,Wn),sr=ai(Kn,tr),fr=gi(ai(nr,rr)),lr=hi(a,ur),hr=hi(g,ir),ar=hi(h,cr),gr=hi(v,sr),vr=ai(lr,hr),pr=li(3,ai(ar,gr)),dr=hi(d,Zt),br=ai(vr,pr),mr=ai(dr,fr),_r=ai(br,mr),Er=ai(A,Yn),Ir=ai(gi(O),R),Nr=ai(gi(rt),tt),Tr=li(2*i,Er),Mr=li(2*l,Er),wr=ai(F,gi(Y)),xr=ai(Y,gi(F)),Sr=li(l,Ir),yr=li(i,Nr),Pr=hi(u,wr),Br=hi(f,xr),Or=li(i,Ir),zr=li(l,Nr),Lr=hi(o,P),Fr=hi(s,K),Ar=ai(Tr,Sr),Yr=ai(Mr,yr),Rr=ai(Ar,Pr),Vr=ai(Yr,Br),qr=ai(Or,Lr),Gr=ai(zr,Fr),Dr=hi(a,Rr),Cr=hi(g,Vr),kr=hi(h,qr),Hr=hi(v,Gr),Qr=ai(kr,Hr),Xr=ai(Dr,Cr),jr=ai(Xr,li(3,Qr)),$r=hi(d,Er),Ur=hi(p,Ir),Jr=ai($r,Ur),Kr=hi(b,Nr),Wr=ai(Jr,Kr),Zr=ai(jr,Wr),te=ai(F,Y),ne=ai(k,y),re=ai(B,M),ee=ai(W,J),oe=ai(gi(te),k),ue=ai(gi(te),y),ie=ai(gi(q),L),ce=ai(gi(S),L),se=ai(re,B),fe=ai(ee,W),le=hi(fi(3,i),se),he=hi(fi(3,l),fe),ae=hi(u,P),ge=hi(f,K),ve=hi(p,re),pe=hi(b,ee),de=ai(oe,ne),be=ai(ue,ne),me=li(i,de),_e=li(l,be),Ee=hi(u,ie),Ie=hi(f,ce),Ne=hi(e,m),Te=hi(c,_),Me=ai(me,Ee),we=ai(_e,Ie),xe=ai(le,ae),Se=ai(he,ge),ye=ai(ne,te),Pe=gi(ai(ve,pe)),Be=hi(a,Me),Oe=hi(g,we),ze=hi(h,xe),Le=hi(v,Se),Fe=hi(d,ye),Ae=ai(Be,Oe),Ye=ai(ze,Le),Re=ai(Fe,Pe),Ve=ai(Ne,Te),qe=ai(Ae,Ye),Ge=ai(Re,Ve),De=ai(qe,Ge),Ce=ai(L,q),ke=ai(L,S),He=ai(gi(Ce),S),Qe=ai(gi(ke),q),Xe=li(i,He),je=li(l,P),$e=li(l,Qe),Ue=li(i,K),Je=li(i,P),Ke=hi(o,I),We=li(l,K),Ze=hi(s,j),to=ai(Xe,je),no=ai($e,Ue),ro=ai(Je,Ke),eo=ai(We,Ze),oo=hi(h,ro),uo=hi(v,eo),io=li(3,ai(oo,uo)),co=ai(Ce,S),so=ai(gi(T),P),fo=ai(gi(U),K),lo=hi(a,to),ho=hi(g,no),ao=hi(d,co),go=hi(p,so),vo=hi(b,fo),po=hi(o,m),bo=hi(s,_),mo=ai(po,bo),_o=ai(lo,ho),Eo=ai(io,ao),Io=ai(go,vo),No=ai(_o,Eo),To=ai(Io,mo),Mo=ai(No,To),wo=ai(z,x),xo=li(i,a),So=li(l,g),yo=ai(wo,z),Po=ai(wo,x),Bo=hi(u,I),Oo=hi(Bo,h),zo=hi(f,j),Lo=hi(zo,v),Fo=hi(d,wo),Ao=hi(N,p),Yo=hi($,b),Ro=ai(Ao,Yo),Vo=hi(u,m),qo=hi(f,_),Go=ai(Vo,qo),Do=hi(xo,yo),Co=hi(So,Po),ko=ai(Do,Co),Ho=li(3,ai(Oo,Lo)),Qo=ai(Fo,gi(Ro)),Xo=ai(ko,Ho),jo=ai(Qo,Go),$o=ai(Xo,jo),Uo=li(i,h),Jo=li(l,a),Ko=ai(Uo,Jo),Wo=li(i,g),Zo=li(l,v),tu=ai(Wo,Zo),nu=ai(Ko,p),ru=ai(tu,b),eu=hi(I,nu),ou=hi(j,ru),uu=ai(eu,ou),iu=hi(w,d),cu=ai(uu,iu),su=li(i,m),fu=li(l,_),lu=ai(su,fu),hu=ai(cu,lu);return[vt,St,Wt,An,_r,Zr,De,Mo,$o,ai(hu,E)]}]];function bi(t,n){const{coeffs:r,errBound:e}=pi[t.length-2][n.length-2](t,n);return{coeffs:r,errBound:e,getPExact:()=>di[t.length-2][n.length-2](t,n)}}function mi(t,n){const{coeffs:r,errBound:e,getPExact:o}=bi(t,n);return re(r,0,1,e,o,!0)}const _i=f;function Ei(t){const n=(t=_i(t)).length;return 2===n?t:1===n?[0,t[0]]:[t[n-2],t[n-1]]}const Ii=pn,Ni=E,Ti=r,Mi=N,wi=c,xi=ue,Si=Ei,yi=Math.abs,Pi=S(3);function Bi(t){const[[n,r,e],[o,u,i]]=Zt(t),c=n*u-r*o,s=n*i-e*o;return{vₓₓ:-o*o,vₓᵧ:2*n*o,vᵧᵧ:-n*n,vₓ:u*c-2*o*s,vᵧ:2*n*s-r*c,v:c*(r*i-e*u)-s*s}}const Oi=Math.abs;function zi(t){if(4===t.length)return Ai(t);if(3===t.length)return Fi(t);if(2===t.length)return Li(t);if(1===t.length)return[[0],[0]];throw new Error("The given bezier curve must be of order <= 3.")}function Li(t){const[[n,r],[e,o]]=t,u=Oi(n),i=Oi(e),c=Oi(r);return[[i+u,0],[Oi(o)+c,0]]}function Fi(t){const[[n,r],[e,o],[u,i]]=t,c=Oi(n),s=Oi(e),f=Oi(u),l=Oi(r),h=Oi(o);return[[f+c+2*s,2*(s+c),0],[Oi(i)+l+2*h,2*(h+l),0]]}function Ai(t){const[[n,r],[e,o],[u,i],[c,s]]=t,f=Oi(n),l=Oi(e),h=Oi(u),a=Oi(c),g=Oi(r),v=Oi(o),p=Oi(i);return[[a+f+3*(l+h),3*(h+f+2*l),3*(l+f),0],[Oi(s)+g+3*(v+p),3*(p+g+2*v),3*(v+g),0]]}const Yi=Math.abs;function Ri(t){const[n,r]=t[0],[[e,o],[u,i]]=Fi(t),c=Yi(n),s=Yi(r),f=e*i+o*u,l=e*s+c*u;return{vₓₓ_:u*u,vₓᵧ_:2*e*u,vᵧᵧ_:e*e,vₓ_:i*f+2*u*l,vᵧ_:2*e*l+o*f,v_:f*(o*s+c*i)+l*l}}const Vi=ue,qi=pn,Gi=E,Di=r,Ci=N,ki=c,Hi=Ei,Qi=Math.abs,Xi=x(1),ji=S(3);function $i(t){const[[n,r,e,o],[u,i,c,s]]=Wt(t),f=n*c,l=e*u,h=n*i,a=r*u,g=n*n,v=u*u,p=n*s-o*u,d=f-l,b=h-a,m=r*s-o*i,_=r*c-e*i,E=e*s-o*c,I=2*d,N=p*p,T=p*_,M=I*m,w=b*m,x=-3*p-_,S=-3*N-2*T+(M+b*E),y=2*(p*d-w),P=p*b-d*d+b*_;return{vₓₓₓ:-u*v,vₓₓᵧ:3*n*v,vₓᵧᵧ:-3*u*g,vᵧᵧᵧ:n*g,vₓₓ:x*v+b*(c*u-i*i)+I*i*u,vₓᵧ:2*(b*(r*i-(l+f)/2)-(x*n*u+d*(a+h))),vᵧᵧ:x*g+b*(e*n-r*r)+I*r*n,vₓ:u*S+(i*y+c*P),vᵧ:-n*S-(r*y+e*P),v:p*(M-N-T)+(P*E-w*m)}}const Ui=Math.abs;function Ji(t){const[n,r]=t[0],[[e,o,u],[i,c,s]]=Ai(t),f=Ui(n),l=Ui(r),h=e*s,a=u*i,g=e*c,v=o*i,p=e*e,d=i*i,b=e*l+f*i,m=h+a,_=g+v,E=o*l+f*c,I=o*s+u*c,N=u*l+f*s,T=2*m,M=b*b,w=b*I,x=T*E,S=_*E,y=3*b+I,P=3*M+2*w+(x+_*N),B=2*(b*m+S),O=b*_+m*m+_*I;return{vₓₓₓ_:i*d,vₓₓᵧ_:3*e*d,vₓᵧᵧ_:3*i*p,vᵧᵧᵧ_:e*p,vₓₓ_:y*d+_*(s*i+c*c)+T*c*i,vₓᵧ_:2*(_*(o*c+(a+h)/2)+(y*e*i+m*(v+g))),vᵧᵧ_:y*p+_*(u*e+o*o)+T*o*e,vₓ_:i*P+(c*B+s*O),vᵧ_:e*P+(o*B+u*O),v_:b*(x+M+w)+(O*N+S*E)}}const Ki=ue,Wi=pn,Zi=E,tc=r,nc=N,rc=c,ec=Ei,oc=Math.abs,uc=x(1),ic=S(3);function cc(t,n){if(4===t.length)return function(t,n){const[r,e]=n,o=r.length,u=e.length,i=r[o-1],c=e[u-1],s=1===o&&1===u;{const{vₓₓₓ:n,vₓₓᵧ:r,vₓᵧᵧ:e,vᵧᵧᵧ:o,vₓₓ:u,vₓᵧ:f,vᵧᵧ:l,vₓ:h,vᵧ:a,v:g}=$i(t),{vₓₓₓ_:v,vₓₓᵧ_:p,vₓᵧᵧ_:d,vᵧᵧᵧ_:b,vₓₓ_:m,vₓᵧ_:_,vᵧᵧ_:E,vₓ_:I,vᵧ_:N,v_:T}=Ji(t),M=i*i,w=c*c,x=n*(M*i)+r*(M*c)+(e*(i*w)+o*(w*c))+(u*M+f*(i*c)+l*w)+(h*i+a*c+g),S=s?0:1,y=oc(i),P=oc(c),B=y*y,O=P*P;if((S+26)*uc*(v*(B*y)+p*(B*P)+(d*(y*O)+b*(O*P))+(m*B+_*(y*P)+E*O)+(I*y+N*P+T))<oc(x))return!1}{const{coeffs:{vₓₓₓ:n,vₓₓᵧ:o,vₓᵧᵧ:u,vᵧᵧᵧ:s,vₓₓ:f,vₓᵧ:l,vᵧᵧ:h,vₓ:a,vᵧ:g,v},errorBound:{vₓₓₓ_:p,vₓₓᵧ_:d,vₓᵧᵧ_:b,vᵧᵧᵧ_:m,vₓₓ_:_,vₓᵧ_:E,vᵧᵧ_:I,vₓ_:N,vᵧ_:T,v_:M}}=We(t),w=oc(n[1]),x=oc(o[1]),S=oc(u[1]),y=oc(s[1]),P=ec(r),B=ec(e),O=oc(i),z=oc(c),L=O/3,F=z/3,A=Ki(P,P),Y=A[1],R=2*(O*L+Y),V=Ki(P,A),q=oc(V[1]),G=O*R+L*Y+2*q,D=Ki(B,B),C=D[1],k=2*(z*F+C),H=Ki(B,D),Q=oc(H[1]),X=z*k+F*C+2*Q,j=Ki(B,A),$=oc(j[1]),U=z*R+F*Y+2*$,J=Ki(P,D),K=oc(J[1]),W=O*k+L*C+2*K,Z=Ki(P,B),tt=oc(Z[1]),nt=O*F+L*z+2*tt,rt=Ki(n,V),et=w*G+p*q+2*oc(rt[1]),ot=Ki(o,j),ut=x*U+d*$+2*oc(ot[1]),it=Ki(u,J),ct=S*W+b*K+2*oc(it[1]),st=Ki(s,H),ft=y*X+m*Q+2*oc(st[1]),lt=Ki(f,A),ht=oc(f[1])*R+_*Y+2*oc(lt[1]),at=Ki(l,Z),gt=oc(l[1])*nt+E*tt+2*oc(at[1]),vt=Ki(h,D),pt=oc(h[1])*k+I*C+2*oc(vt[1]),dt=Ki(P,a),bt=oc(a[1])*L+N*O+2*oc(dt[1]),mt=Ki(B,g),_t=oc(g[1])*F+T*z+2*oc(mt[1]),Et=Wi(rt,ot),It=et+ut+oc(Et[1]),Nt=Wi(it,st),Tt=ct+ft+oc(Nt[1]),Mt=Wi(Et,Nt),wt=It+Tt+oc(Mt[1]),xt=Wi(lt,at),St=ht+gt+oc(xt[1]),yt=Wi(xt,vt),Pt=St+pt+oc(yt[1]),Bt=Wi(Mt,yt),Ot=wt+Pt+oc(Bt[1]),zt=Wi(dt,mt),Lt=bt+_t+oc(zt[1]),Ft=Wi(zt,v),At=Lt+M+oc(Ft[1]),Yt=Wi(Bt,Ft),Rt=Ot+At+oc(Yt[1]);if(ic*Rt<oc(rc(Yt)))return!1}{const n=Tu(t);if(void 0===n)return s&&i===t[0][0]&&c===t[0][1];n.hasOwnProperty("vₓₓₓ")||(n.vₓₓₓ=[0],n.vₓₓᵧ=[0],n.vₓᵧᵧ=[0],n.vᵧᵧᵧ=[0]),n.hasOwnProperty("vₓₓ")||(n.vₓₓ=[0],n.vₓᵧ=[0],n.vᵧᵧ=[0]);const{vₓₓₓ:o,vₓₓᵧ:u,vₓᵧᵧ:f,vᵧᵧᵧ:l,vₓₓ:h,vₓᵧ:a,vᵧᵧ:g,vₓ:v,vᵧ:p,v:d}=n,b=Zi(r,r),m=Zi(r,b),_=Zi(e,e),E=Zi(e,_),I=Zi(e,b),N=Zi(r,_),T=Zi(r,e),M=Zi(o,m),w=Zi(u,I),x=Zi(f,N),S=Zi(l,E),y=Zi(h,b),P=Zi(a,T),B=Zi(g,_),O=Zi(r,v),z=Zi(e,p),L=tc(M,w),F=tc(x,S),A=tc(L,F),Y=tc(y,P),R=tc(Y,B),V=tc(A,R),q=tc(O,z),G=tc(q,d),D=tc(V,G);return 0===nc(D)}}(t,n);if(3===t.length)return function(t,n){const[r,e]=n,o=r.length,u=e.length,i=r[o-1],c=e[u-1],s=1===o&&1===u;{const{vₓₓ:n,vₓᵧ:r,vᵧᵧ:e,vₓ:o,vᵧ:u,v:f}=Bi(t),{vₓₓ_:l,vₓᵧ_:h,vᵧᵧ_:a,vₓ_:g,vᵧ_:v,v_:p}=Ri(t),d=s?0:1,b=Qi(i),m=Qi(c);if((d+12)*Xi*(l*(b*b)+h*(b*m)+a*(m*m)+(g*b+v*m)+p)<Qi(n*i*i+r*i*c+e*c*c+(o*i+u*c)+f))return!1}{const{coeffs:{vₓₓ:n,vₓᵧ:o,vᵧᵧ:u,vₓ:s,vᵧ:f,v:l},errorBound:{vₓₓ_:h,vₓᵧ_:a,vᵧᵧ_:g,vₓ_:v,vᵧ_:p,v_:d}}=Ae(t),b=Hi(r),m=Hi(e),_=Qi(i),E=Qi(c),I=_/3,N=E/3,T=Vi(b,b),M=T[1],w=2*(_*I+M),x=Vi(m,m),S=x[1],y=2*(E*N+S),P=Vi(b,m),B=Qi(P[1]),O=_*N+I*E+2*B,z=Vi(n,T),L=Qi(n[1])*w+h*M+2*Qi(z[1]),F=Vi(o,P),A=Qi(o[1])*O+a*B+2*Qi(F[1]),Y=Vi(u,x),R=Qi(u[1])*y+g*S+2*Qi(Y[1]),V=Vi(b,s),q=Qi(s[1])*I+v*_+2*Qi(V[1]),G=Vi(m,f),D=Qi(f[1])*N+p*E+2*Qi(G[1]),C=qi(z,F),k=L+A+Qi(C[1]),H=qi(C,Y),Q=k+R+Qi(H[1]),X=qi(V,G),j=q+D+Qi(X[1]),$=qi(H,X),U=Q+j+Qi($[1]),J=qi($,l),K=U+d+Qi(J[1]);if(ji*K<Qi(ki(J)))return!1}{const n=cu(t);if(void 0===n)return s&&i===t[0][0]&&c===t[0][1];n.hasOwnProperty("vₓₓ")||(n.vₓₓ=[0],n.vₓᵧ=[0],n.vᵧᵧ=[0]);const{vₓₓ:o,vₓᵧ:u,vᵧᵧ:f,vₓ:l,vᵧ:h,v:a}=n,g=Di(Di(Di(Gi(o,Gi(r,r)),Gi(u,Gi(r,e))),Gi(f,Gi(e,e))),Di(Di(Gi(r,l),Gi(e,h)),a));return 0===Ci(g)}}(t,n);if(2===t.length)return function(t,n){const[r,e]=n,o=r.length,u=e.length,i=r[o-1],c=e[u-1],s=1===o&&1===u;{const{coeffs:{vₓ:n,vᵧ:o,v:u},errorBound:{v_:s}}=Ie(t),f=Si(r),l=Si(e),h=yi(i),a=yi(c),g=yi(n[1]),v=yi(o[1]),p=h/3,d=a/3,b=n[1]*i,m=xi(f,n),_=g*p+2*yi(b),E=o[1]*c,I=xi(l,o),N=v*d+2*yi(E),T=Ii(m,I),M=_+N+yi(T[1]),w=Ii(T,u),x=M+s+yi(w[1]);if(Pi*x<yi(wi(w)))return!1}{const n=Uo(t);if(void 0===n)return s&&i===t[0][0]&&c===t[0][1];const{vₓ:o,vᵧ:u,v:f}=n,l=Ni(r,o),h=Ni(e,u),a=Ti(Ti(l,h),f);return 0===Mi(a)}}(t,n);if(1===t.length){const r=f(n[0]),e=f(n[1]);return 1===r.length&&1===e.length&&r[0]===t[0][0]&&e[0]===t[0][1]}throw new Error("The given bezier curve must be of order <= 3")}const sc=g,fc=ir,lc=pn,hc=ie,ac=v;function gc(t){if(4===t.length)return vc(t);if(3===t.length)return pc(t);if(2===t.length)return dc(t);if(1===t.length)return function(t){const[[n,r]]=t;return[[[0,n]],[[0,r]]]}(t);throw new Error("The given bezier curve must be of order <= cubic.")}function vc(t){const[[n,r],[e,o],[u,i],[c,s]]=t;return[[lc(sc(c,n),fc(3,sc(e,u))),fc(3,hc(ac(u,n),-2*e)),fc(3,sc(e,n)),[0,n]],[lc(sc(s,r),fc(3,sc(o,i))),fc(3,hc(ac(i,r),-2*o)),fc(3,sc(o,r)),[0,r]]]}function pc(t){const[[n,r],[e,o],[u,i]]=t;return[[hc(ac(u,n),-2*e),sc(2*e,2*n),[0,n]],[hc(ac(i,r),-2*o),sc(2*o,2*r),[0,r]]]}function dc(t){const[[n,r],[e,o]]=t;return[[sc(e,n),[0,n]],[sc(o,r),[0,r]]]}const bc=s,{min:mc,max:_c}=Math,Ec=S(3);function Ic(t,n){if(4===t.length)return function(t,n){const r=n[0],e=n[1],{coeffs:[o,u],errorBound:[i,c]}=ge(t),s=o.pop()[1],f=[...o,bc(s,r)],l=u.pop()[1],h=[...u,bc(l,e)];let a;const g=re(f,0,1,i.map(t=>Ec*t),()=>{void 0===a&&(a=ft(t));const n=a[0].slice(),e=n.pop();return[...n,bc(e[0],r)]},!0),v=re(h,0,1,c.map(t=>Ec*t),()=>{void 0===a&&(a=ft(t));const n=a[1].slice(),r=n.pop();return[...n,bc(r[0],e)]},!0);if(void 0===g)return void 0===v?[{tS:.5,tE:.5,multiplicity:1}]:v;if(void 0===v)return g;const p=[];for(let t=0;t<g.length;t++){const n=g[t];for(let t=0;t<v.length;t++){const r=Nc(n,v[t]);void 0!==r&&p.push(r)}}return p}(t,n);if(3===t.length)return function(t,n){const r=n[0],e=n[1],{coeffs:[o,u],errorBound:[i,c]}=ve(t),s=o.pop()[1],f=[...o,bc(s,r)],l=u.pop()[1],h=[...u,bc(l,e)];let a;const g=re(f,0,1,i.map(t=>Ec*t),()=>{void 0===a&&(a=lt(t));const n=a[0],e=n.pop()[0];return[...n,bc(e,r)]},!0),v=re(h,0,1,c.map(t=>Ec*t),()=>{void 0===a&&(a=lt(t));const n=a[1],r=n.pop()[0];return[...n,bc(r,e)]},!0);if(void 0===g)return void 0===v?[{tS:.5,tE:.5,multiplicity:1}]:v;if(void 0===v)return g;const p=[];for(let t=0;t<g.length;t++){const n=g[t];for(let t=0;t<v.length;t++){const r=Nc(n,v[t]);void 0!==r&&p.push(r)}}return p}(t,n);if(2===t.length)return function(t,n){const r=n[0],e=n[1],[o,u]=dc(t),i=o.pop()[1],c=[...o,bc(i,r)],s=u.pop()[1],f=[...u,bc(s,e)],l=re(c,0,1,void 0,void 0,!0),h=re(f,0,1,void 0,void 0,!0);if(void 0===l)return void 0===h?[{tS:.5,tE:.5,multiplicity:1}]:h;if(void 0===h)return l;if(0===l.length||0===h.length)return[];const a=Nc(l[0],h[0]);return void 0===a?[]:[a]}(t,n);if(1===t.length){const r=t[0];return r[0]===n[0]&&r[1]===n[1]?[{tS:.5,tE:.5,multiplicity:1}]:[]}throw new Error("The given bezier curve must be of order <= 3.")}function Nc(t,n){if(t.tS<=n.tS){if(t.tE<n.tS)return;return{tS:n.tS,tE:_c(t.tE,n.tE),multiplicity:mc(t.multiplicity,n.multiplicity)}}if(!(n.tE<t.tS))return{tS:t.tS,tE:_c(t.tE,n.tE),multiplicity:mc(t.multiplicity,n.multiplicity)}}function Tc(t,n){if(0===n)return t[0];if(1===n)return t[t.length-1];if(4===t.length){const[[r,e],[o,u],[i,c],[s,f]]=t,l=r+(o-r)*n,h=o+(i-o)*n,a=l+(h-l)*n,g=e+(u-e)*n,v=u+(c-u)*n,p=g+(v-g)*n;return[a+(h+(i+(s-i)*n-h)*n-a)*n,p+(v+(c+(f-c)*n-v)*n-p)*n]}if(3===t.length){const[[r,e],[o,u],[i,c]]=t,s=r+(o-r)*n,f=e+(u-e)*n;return[s+(o+(i-o)*n-s)*n,f+(u+(c-u)*n-f)*n]}if(2===t.length){const[[r,e],[o,u]]=t;return[r+(o-r)*n,e+(u-e)*n]}if(1===t.length)return t[0];throw new Error("The given bezier curve must be of order <= 3.")}const Mc=Math.abs;function wc(t,n){if(0===n[0]&&0===n[1])return[0,0];if(0===n[0]&&1===n[1])return[0,0];const r=Mc(n[1]);if(4===t.length){const[[n,e],[o,u],[i,c],[s,f]]=t,l=Mc(n),h=Mc(e),a=Mc(o),g=Mc(u),v=Mc(i),p=Mc(c),d=l+(a+l)*r,b=a+(v+a)*r,m=d+(b+d)*r,_=h+(g+h)*r,E=g+(p+g)*r,I=_+(E+_)*r;return[m+(b+(v+(Mc(s)+v)*r+b)*r+m)*r,I+(E+(p+(Mc(f)+p)*r+E)*r+I)*r]}if(3===t.length){const[[n,e],[o,u],[i,c]]=t,s=Mc(n),f=Mc(e),l=Mc(o),h=Mc(u),a=s+(l+s)*r,g=f+(h+f)*r;return[a+(l+(Mc(i)+l)*r+a)*r,g+(h+(Mc(c)+h)*r+g)*r]}if(2===t.length){const[[n,e],[o,u]]=t,i=Mc(n),c=Mc(e);return[i+(Mc(o)+i)*r,c+(Mc(u)+c)*r]}if(1===t.length)return[0,0];throw new Error("The given bezier curve must be of order <= 3.")}const xc=Number.EPSILON/2,Sc=x(1);function yc(t,n){return n[0]!==n[1]?4===t.length?function(t,n){const{ps:r,_ps:e}=Pn(t,n[0],n[1]),o=r[0][0],u=r[1][0],i=r[2][0],c=r[3][0],s=9*xc*e[0][0],f=9*xc*e[1][0],l=9*xc*e[2][0],h=9*xc*e[3][0],a=r[0][1],g=r[1][1],v=r[2][1],p=r[3][1],d=9*xc*e[0][1],b=9*xc*e[1][1],m=9*xc*e[2][1],_=9*xc*e[3][1],E=Math.min(o-s,u-f,i-l,c-h),I=Math.max(o+s,u+f,i+l,c+h);return[[E,Math.min(a-d,g-b,v-m,p-_)],[I,Math.max(a+d,g+b,v+m,p+_)]]}(t,n):3===t.length?function(t,n){const{ps:r,_ps:e}=an(t,n[0],n[1]),o=r[0][0],u=r[1][0],i=r[2][0],c=5*xc*e[0][0],s=5*xc*e[1][0],f=5*xc*e[2][0],l=r[0][1],h=r[1][1],a=r[2][1],g=5*xc*e[0][1],v=5*xc*e[1][1],p=5*xc*e[2][1],d=Math.min(o-c,u-s,i-f),b=Math.max(o+c,u+s,i+f);return[[d,Math.min(l-g,h-v,a-p)],[b,Math.max(l+g,h+v,a+p)]]}(t,n):function(t,n){const{ps:r,_ps:e}=Dn(t,n[0],n[1]),o=r[0][0],u=r[1][0],i=3*xc*e[0][0],c=3*xc*e[1][0],s=r[0][1],f=r[1][1],l=3*xc*e[0][1],h=3*xc*e[1][1],a=Math.min(o-i,u-c),g=Math.max(o+i,u+c);return[[a,Math.min(s-l,f-h)],[g,Math.max(s+l,f+h)]]}(t,n):function(t,n){const r=t[0],e=t[t.length-1];if(0===n)return[r,r];if(1===n)return[e,e];const o=Tc(t,n);let u;if(4===t.length)u=wc(t,[0,n]).map(t=>8*Sc*t);else if(3===t.length)u=wc(t,[0,n]).map(t=>5*Sc*t);else if(2===t.length)u=wc(t,[0,n]).map(t=>2*Sc*t);else if(1===t.length)return[o,o];return[[o[0]-u[0],o[1]-u[1]],[o[0]+u[0],o[1]+u[1]]]}(t,n[0])}const Pc=Math.min,Bc=Math.max;function Oc(t,n){let[[r,e],[o,u]]=t,[[i,c],[s,f]]=n;if(r>o&&([r,o]=[o,r]),i>s&&([i,s]=[s,i]),e>u&&([e,u]=[u,e]),c>f&&([c,f]=[f,c]),r<=s&&o>=i&&c<=u&&f>=e)return[[Bc(r,i),Bc(e,c)],[Pc(o,s),Pc(u,f)]]}function zc(t){const n=[];for(let r=0;r<t.length;r++)n.push(-2*t[r]);return n}const Lc=e;function Fc(t){return t[t.length-1]<0?Lc(t):t}const Ac=134217729;function Yc(t,n){const r=t[0],e=t[1],o=n[0],u=n[1],i=e/u,c=u*i,s=Ac*u,f=s-(s-u),l=u-f,h=Ac*i,a=h-(h-i),g=i-a,v=o*i,p=c+v,d=v-(p-c)+(l*g-(c-f*a-l*a-f*g)),b=p+d,m=(e-b+(r-(d-(b-p))))/u,_=i+m;return[m-(_-i),_]}Number.EPSILON;const Rc=Number.EPSILON/2;function Vc(t,n,r,e){const o=t/n,u=Math.abs(t),i=Math.abs(n),c=i-e;return c<=0?{est:o,err:Number.POSITIVE_INFINITY}:{est:o,err:(i*r+u*e)/c**2+Rc*Math.abs(u/i)}}const qc=i,Gc=E,Dc=b,Cc=g,kc=v,Hc=Se,Qc=pn,Xc=ye,jc=Yc,$c=r,Uc=I,Jc=2*Number.EPSILON,Kc=Math.abs,Wc=x(1);function Zc(t,n=!0){if(t.length<4)return[];const{coeffs:[r,e,o],errBound:[u,i,s]}=rt(t);if(Kc(r)<=u){const[[n,r],[e,o],[u,i],[c,s]]=t,f=$c(Cc(c,n),Dc(3,Cc(e,u))),l=Uc(kc(u,n),-2*e),h=$c(Cc(s,r),Dc(3,Cc(o,i))),a=Uc(kc(i,r),-2*o);if(0===T(Gc(l,h),Gc(f,a)))return[]}const f=e*e,l=4*r*o,h=f-l,a=2*i*Kc(e)+Wc*f+(4*(u*Kc(o)+Kc(r)*s)+Wc*Kc(l))+Wc*Kc(h);if(h<-a)return[];if(h>a){const{est:t,err:c}=function(t,n){if(t-n<=0){const r=t>0?Math.sqrt(t):0;return{est:r,err:Math.max(Math.sqrt(t+n)-r,r)}}const r=Math.sqrt(t),e=Math.sqrt(t-n),o=Math.sqrt(t+n);return{est:r,err:Math.max(Math.abs(e-r),Math.abs(o-r))}}(h,a);let f;f=e>=0?-e-t:-e+t;const l=i+c+Wc*Kc(f),{est:g,err:v}=Vc(f,2*r,l,2*u),{est:p,err:d}=Vc(2*o,f,2*s,l);if(n){if(g+v<0||g-v>1||p+d<0||p-d>1)return[]}else if((g+v<0||g-v>1)&&(p+d<0||p-d>1))return[]}let[g,v,p]=dt(t);const d=qc(Gc(v,v),Dc(4,Gc(g,p))),b=N(d);if(b<0)return[];if(b>0){const t=function(t){const n=t[0],r=t[1];if(0===r)return[0,0];const e=Math.sqrt(r),o=e*e,u=134217729*e,i=u-(u-e),c=e-i,s=.5*(r-o-(c*c-(o-i*i-i*c*2))+n)/e;return[s-(e+s-e),e+s]}(Ei(d));let r;g=Ei(g),v=Ei(v),p=Ei(p),r=N(v)>=0?Hc(Qc(v,t)):Qc(Hc(v),t);let e=c(jc(r,Xc(g))),o=c(jc(Xc(p),r));if(n){if(e<-Jc||e>1+Jc||o<-Jc||o>1+Jc)return[]}else if((e<-Jc||e>1+Jc)&&(o<-Jc||o>1+Jc))return[];return[e,o]=e<o?[e,o]:[o,e],e>=0-Jc&&e<=1+Jc?o>=0-Jc&&o<=1+Jc?[e,o]:[e]:o>=0-Jc&&o<=1+Jc?[o]:[]}const m=zc(g);if(N(v)*N(m)<0)return[];if(T(Fc(v),Fc(m))>0)return[];const _=Ei(v),E=Ei(m),I=jc(_,E),M=I[1]+I[0];return[M,M]}function ts(t){return 4===t.length&&D(t)&&(t=Zn(t)),3===t.length&&F(t)&&(t=[t[0],t[2]]),2===t.length&&y(t)&&(t=[t[0]]),t}const ns=Number.EPSILON,rs=ns/2;function es(t,n){return n<0?t<1?t:1-rs:0===n?1:t>1?t:1+ns}function os(t){const n=function(t){const n=new ArrayBuffer(8);return new DataView(n).setFloat64(0,t,!1),Array.from(new Uint8Array(n))}(t),r=n[0],e=n[1],o=r>>7,u=((127&r)<<4)+((240&e)>>4),i=0===u?0:16,c=0===u?u-1022:u-1023,s=n.slice(1);return s[0]=(15&e)+i,{sign:o,exponent:c,significand:s}}function us(t){return os(t).significand}function is(t){return Math.log2(t&-t)}function cs(t){if(0===t||!Number.isFinite(t))return NaN;const n=us(t),r=n.length;for(let t=r-1;t>=0;t--){if(0===n[t])continue;const e=is(n[t]);if(Number.isFinite(e))return 8*(r-t-1)+e}return NaN}function ss(t){return t>=128?7:t>=64?6:t>=32?5:t>=16?4:t>=8?3:t>=4?2:t>=2?1:t>=1?0:NaN}function fs(t){if(0===t||!Number.isFinite(t))return NaN;const n=us(t),r=n.length;for(let t=0;t<r;t++){const e=ss(n[t]);if(Number.isFinite(e))return 8*(r-t-1)+e}return NaN}function ls(t){return os(t).exponent}function hs(t){if(0===t||!Number.isFinite(t))return NaN;const n=ls(t);return fs(t)-52+n}const as=N,gs=f,vs=E,ps=function(t,n){if(t=gs(t),0===as(t))return[0];const r=hs(t[t.length-1]);let e=r,o=t.length-1;for(;o>0;){const u=hs(t[o-1]);if(r-u>n)break;e=u,o--}const u=Math.min(n-(r-e),53);let i=t[o];i=function(t,n){const r=(2**(53-n)+1)*t;return r-(r-t)}(i,u);const c=t.slice(o);return c[0]=i,c},ds=function(t){const n=f(t);if(0===N(n))return 0;const r=n[n.length-1],e=n[0];return ls(r)-ls(e)+(53-cs(e))},bs=i,ms=c;function _s(t){return c(function(t,n,r){let e=n,o=t,u=!1,i=0;r||(i=ds(o)-ds(e)+1,r=i/53+1,u=!0);let c=[1/ms(e)],s=1;for(;;){if(o=vs(o,c),s>r)return u?(o=ps(o,i),o):o.slice(o.length-r,o.length);e=vs(e,c),c=bs([2],e),s*=2}}(t[0],t[1],2))}function Es(t){return N(t[0])*N(t[1])}function Is(t){return(n,r)=>{const e=st(n),o=st(r),u=st(n.slice().reverse()),i=st(r.slice().reverse()),c=t(e,o),s=t(u,o),f=t(e,i),l=t(u,i),h=-Es(s),a=-Es(l),g=_s(c),v=_s(f);return[es(g,h),es(v,a)]}}const Ns=Is(function(t,n){const r=0===N(t[0][0])?1:0;return function(t,n){const[r,e]=t,[,o]=n;return[i(o,e),r]}(t[r],n[r])});function Ts(t,n){return T(E(t[0],n[1]),E(t[1],n[0]))*N(t[1])*N(n[1])}const Ms=ls,ws=function(t){return 0===t?0:fs(t)-cs(t)+1};function xs(t){let n=-1024;for(let r=0;r<t.length;r++){const e=t[r];for(let t=0;t<e.length;t++){const r=e[t];if(0===r)continue;const o=-Ms(r)+ws(r)-1;o>n&&(n=o)}}return 0===n?t.map(t=>t.map(t=>BigInt(t))):n>0?t.map(t=>t.map(t=>{if(0===t)return 0n;const r=-Ms(t)+ws(t)-1;return BigInt(t*2**r)*2n**BigInt(n-r)})):t.map(t=>t.map(t=>BigInt(t*2**n)))}function Ss(t,n){if(n=n<0n?-n:n,0n===(t=t<0n?-t:t))return n;if(0n===n)return t;for(;0n!==n;){const r=n;n=t%n,t=r}return t}const ys=BigInt(2**53);function Ps(t){if(0n===t)return[0];const n=[];let r=0,e=t;for(;0n!==e;){e=t/ys;const o=t%ys;n.push(Number(o)*2**(53*r)),t=e,r++}return f(n)}const{round:Bs,sqrt:Os}=Math;function zs(t){if(t<=1n){if(t<0n)throw new Error("square root of negative numbers are not allowed");return t}let n=BigInt(Bs(Os(Number(t))));for(;;){const r=n+t/n>>1n;if(r===n)return n;n=r}}function Ls(t){return t<0n?-t:t}function Fs(t){let n=0n;for(let r=0;r<t.length;r++)n+=t[r];return n}function As(t,n){const[r,e]=Ys(t[0],n[0]),[o,u]=Ys(t[1],n[1]);if(0===Ts(r,o)||0===Ts(r,u))return r;if(0===Ts(e,o)||0===Ts(e,u))return e;throw new Error("An unexpected error occured.")}function Ys(t,n){const[r,o]=t,[u,c]=n,[s,f]=function(t){const[n,r]=xs(t).map(Fs),e=Ss(n,r);return[Ps(zs(Ls(n/e))),Ps(zs(Ls(r/e)))]}([u,r]);return[[i(E(c,f),E(o,s)),E(s,nu(r))],[i(E(c,e(f)),E(o,s)),E(s,nu(r))]].sort(Ts)}function Rs(t,n){const r=st(t),e=0===N(r[0][0])?0:0===N(r[1][0])?1:-1;if(-1!==e){const r=t[0][e],o=t[2][e],u=n[0][e],i=n[2][e];return Ns([[r,r],[o,o]],[[u,u],[i,i]])}return Is(As)(t,n)}const{round:Vs,cbrt:qs}=Math;function Gs(t){const n=(r=t)>0n?1n:r<0n?-1n:0n;var r;if((t=Ls(t))<=1n)return n*t;let e=BigInt(Vs(qs(Number(t))));for(;;){const r=(2n*e+t/(e*e))/3n;if(r===e)return n*e;e=r}}function Ds(t){return E(t,t)}const Cs=Is(function(t,n){const r=0===N(t[0][0])?1:0;return function(t,n){const[r,e]=t,[o,u]=n,c=function(t){const[n,r]=xs(t).map(Fs),e=Ss(n,r);return[Ps(Gs(n/e)),Ps(Gs(r/e))]}([o,r]),s=Ds(c[0]);return[i(E(u,Ds(c[1])),E(e,s)),E(b(3,r),s)]}(t[r],n[r])}),{EPSILON:ks}=Number,Hs=ks/2+ks**2/2;function Qs(t){return t>0?t-t*Hs:t+t*Hs}const{EPSILON:Xs}=Number,js=Xs/2+Xs**2/2;function $s(t){return t>0?t+t*js:t-t*js}function Us(t,n,r=!1){r||(t=ts(t),n=ts(n));const e=[,,Ns,Rs,Cs],[o,u]=e[t.length](t,n),[i,c]=e[t.length](n,t),s=[{tA:o,tB:0,bez:"B",start:!0},{tA:u,tB:1,bez:"B",start:!1},{tA:0,tB:i,bez:"A",start:!0},{tA:1,tB:c,bez:"A",start:!1}].sort((t,n)=>t.tA-n.tA);if(s[1].tA===s[2].tA){const n=s[1],r=n.tA,e=n.tB,o=yc(t,[r,r]);return[{p:o[0],kind:4,box:o,t1:r,ri1:{tS:r,tE:r,multiplicity:1},t2:e,ri2:{tS:e,tE:e,multiplicity:1}}]}if(s[0].bez===s[1].bez)return[];const f=s[1],l=s[2],[h,a]=Js(f.tA),[g,v]=Js(f.tB),[p,d]=Js(l.tA),[b,m]=Js(l.tB),_=yc(t,[h,a]),E=yc(n,[g,v]),I=yc(t,[p,d]),N=yc(n,[b,m]),T=Oc(_,E),M=Oc(I,N),w={tS:h,tE:a,multiplicity:1},x={tS:g,tE:v,multiplicity:1},S={tS:p,tE:d,multiplicity:1},y={tS:b,tE:m,multiplicity:1};return[{p:rr(T),kind:5,box:T,t1:nr(w),ri1:w,t2:nr(x),ri2:x},{p:rr(M),kind:5,box:M,t1:nr(S),ri1:S,t2:nr(y),ri2:y}]}function Js(t){if(0===t||1===t)return[t,t];return[Qs(Qs(t)),$s($s(t))]}const Ks=2*Number.EPSILON;function Ws(t,n){if(t=ts(t),n=ts(n),1===t.length||1===n.length)return function(t,n){if(1===t.length){const r=t[0],e=[r,r];if(1===n.length){const t=n[0];if(r[0]===t[0]&&r[1]===t[1]){const t={tS:.5,tE:.5,multiplicity:1};return[{p:r,kind:6,box:e,t1:.5,ri1:t,t2:.5,ri2:t}]}return[]}return cc(n,[[r[0]],[r[1]]])?Ic(n,r).map(t=>({p:r,kind:6,box:e,t1:.5,ri1:{tS:.5,tE:.5,multiplicity:1},t2:nr(t),ri2:t})):[]}const r=n[0],e=[r,r];return cc(t,[[r[0]],[r[1]]])?Ic(t,r).map(t=>({p:r,kind:6,box:e,t1:nr(t),ri1:t,t2:.5,ri2:{tS:.5,tE:.5,multiplicity:1}})):[]}(t,n);const r=mi(t,n);if(void 0===r)return function(t,n){return!k(t)||2===t.length&&2===n.length?[...Us(t,n,!0),...Zs(t,n)].sort((t,n)=>t.t1-n.t1):function(t,n){const r=t[0],e=t[t.length-1],o=n[0],u=n[n.length-1],i=r[0]===o[0]&&r[1]==o[1],c=r[0]===u[0]&&r[1]==u[1],s=e[0]===o[0]&&e[1]==o[1],f=e[0]===u[0]&&e[1]==u[1],l=i||s,h=c||f,a=tr(0),g=tr(1),v=i?[a]:s?[g]:Ic(t,o),p=c?[a]:f?[g]:Ic(t,u),d=i||c?[]:Ic(n,r),b=s||f?[]:Ic(n,e);return[...v.map(t=>({p:o,kind:l?4:5,box:[o,o],t1:nr(t),ri1:t,t2:0,ri2:a})),...p.map(t=>({p:u,kind:h?4:5,box:[u,u],t1:nr(t),ri1:t,t2:1,ri2:g})),...d.map(t=>({p:r,kind:5,box:[r,r],t1:0,ri1:a,t2:nr(t),ri2:t})),...b.map(t=>({p:e,kind:5,box:[e,e],t1:1,ri1:g,t2:nr(t),ri2:t}))].sort((t,n)=>t.t1-n.t1)}(t,n)}(t,n);if(0===r.length)return[];const e=mi(n,t);if(0===e.length)return[];const o=e.map(n=>yc(t,[n.tS,n.tE])),u=r.map(t=>yc(n,[t.tS,t.tE])),i=[];for(let t=0;t<e.length;t++){const n=o[t];for(let o=0;o<r.length;o++){const c=Oc(n,u[o]);if(void 0!==c){const n=e[t],u=r[o],s={p:rr(c),kind:1,box:c,t1:nr(n),ri1:n,t2:nr(u),ri2:u};i.push(s)}}}return i}function Zs(t,n){const r=Zc(t,!1),e=Zc(n,!1),o=r.length,u=e.length;if(o<1||u<1)return[];const i=[];for(const n of r)for(const r of e){const e={tS:n-Ks,tE:n+Ks,multiplicity:1},o={tS:r-Ks,tE:r+Ks,multiplicity:1},u=yc(t,[n-Ks,n+Ks]);i.push({p:rr(u),kind:1,box:u,t1:n,ri1:e,t2:r,ri2:o})}return i}function tf(t,n){const r=Ws(t,n);let e=0,o=0,u=0;for(let i=0;i<r.length+1;i++){const c=r[i],s=void 0===c?1:nr(c.ri1),f=void 0===c?1:nr(c.ri2),l=Mn(t,e,s),h=Mn(n,o,f);e=s,o=f,u+=Math.abs(rn(l)-rn(h))}return u}function nf(t,n){if(t.length<4)throw new Error("Only cubic bezier curves are supported by this function.");const{collinear:r,realOrder:e,nodeType:o}=Xt(t);if(r||e<=1)return[[t[0],t[3]]];if(2===e)return[Zn(t)];const u=[];if(t[0][0]===t[3][0]&&t[0][1]===t[3][1])u.push([0,.5],[.5,1]);else if("cusp"===o){const n=Zc(t)[0];void 0!==n?u.push([0,n],[n,1]):u.push([0,1])}else if("crunode"===o){const n=Zc(t);n.length>1?u.push([0,n[0]],[n[0],n[1]],[n[1],1]):u.push([0,1])}else u.push([0,1]);const i=[];for(;0!==u.length;){const r=u.pop(),[e,o]=r,c=Pn(t,e,o).ps,s=Zn(c);if(void 0===s||(o-e)*tf(s,c)>n){const t=(o+e)/2;u.push([e,t],[t,o])}else i.push(s)}return i.reverse()}function rf(t){let n=0;for(let r=0;r<t.length-1;r++)n+=en(t[r],t[r+1]);return n}function ef(t,n){const r=t[0],e=t[1],o=t[2],u=t[3],i=r[0],c=r[1],s=e[0],f=e[1],l=o[0],h=o[1],a=u[0],g=u[1],v=n[0],p=n[1],d=i-v,b=s-v,m=l-v,_=a-v,E=c-p,I=f-p,N=h-p,T=g-p,M=d*d,w=6*d*b,x=6*m*_,S=E*E,y=6*E*I,P=6*N*T,B=6*b*_+9*m*m,O=2*d*_+18*b*m,z=6*d*m+9*b*b,L=6*I*T+9*N*N,F=2*E*T+18*I*N,A=6*E*N+9*I*I;return[6*(_*_-x+(M-w)+B+(z-O)+(T*T-P+(S-y)+L+(A-F))),5*(x+5*w+3*O-2*(B+2*z+3*M)+(P+5*y+3*F-2*(L+2*A+3*S))),4*(B-3*(O-2*z)-5*(2*w-3*M)+(L-3*(F-2*A)-5*(2*y-3*S))),3*(O-2*(2*z-5*(w-2*M))+(F-2*(2*A-5*(y-2*S)))),2*(z-5*(w-3*M)+(A-5*(y-3*S))),w-6*M+(y-6*S)]}function of(t,n){const r=t[0],e=t[1],o=t[2],u=r[0],i=r[1],c=e[0],s=e[1],f=o[0],l=o[1],h=n[0],a=n[1],g=u-h,v=c-h,p=f-h,d=i-a,b=s-a,m=l-a,_=g*g,E=g*v,I=v*p,N=d*d,T=d*b,M=b*m,w=d*m+b*b*2,x=g*p+v*v*2;return[m*m+N+2*w-4*(M+T)+(p*p+_+2*x-4*(I+E)),3*(M-w+(3*T-N)+(I-x+(3*E-_))),w-3*(2*T-N)+(x-3*(2*E-_)),T-N+(E-_)]}function uf(t,n){const[[r,e],[o,u]]=t,[i,c]=n,s=r-i,f=o-i,l=e-c,h=u-c,a=s*f+l*h,g=l*l+s*s;return[f*f+h*h+(g-2*a),a-g]}function cf(t,n){const r=n[0]-t[0],e=n[1]-t[1];return r*r+e*e}function sf(t){const n=[],r=t.length-1;for(let e=0;e<r;e++)n.push((r-e)*t[e]);return n}const ff=sn,lf=Number.EPSILON/2,hf=Math.abs,af=Math.max,gf=sf,vf=sn,pf=function(t,n,r,e=ff(t,n),o=ff(t,r)){let u=n,i=r,c=u,s=e,f=i-u,l=f;for(;;){hf(s)<hf(o)&&(u=i,i=c,c=u,e=o,o=s,s=e);const n=2*lf*af(1,hf(u),hf(i)),r=.5*(c-i);if(hf(r)<=n)return i;if(hf(f)<n||hf(e)<=hf(o))f=r,l=f;else{let t,h,a=o/e;if(u===c)t=2*r*a,h=1-a;else{h=e/s;const n=o/s;t=a*(2*r*h*(h-n)-(i-u)*(n-1)),h=(h-1)*(n-1)*(a-1)}0<t?h=-h:t=-t,a=f,f=l,2*t<3*r*h-hf(n*h)&&t<hf(.5*a*h)?l=t/h:(f=r,l=f)}if(u=i,e=o,n<hf(l)?i+=l:0<r?i+=n:i-=n,0===(o=ff(t,i)))return i;o*s>0&&(c=u,s=e,f=i-u,l=f)}},df=Vr,bf=Rr,mf=jt;function _f(t,n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY){t=mf(t);let e=0;for(;0===t[t.length-1];)t=t.slice(0,-1),e++;if(t.length<=1){const t=[];for(let n=0;n<e;n++)t.push(0);return t}n===Number.NEGATIVE_INFINITY&&(n=df(t)),r===Number.POSITIVE_INFINITY&&(r=bf(t));const o=[t];for(let n=1;n<=t.length-1;n++)o.push(gf(o[n-1]));let u=[];for(let e=t.length-2;e>=0;e--){const t=o[e],i=[];let c=n,s=vf(t,c);0===s&&0===e&&i.push(n);for(let n=0;n<u.length;n++){const r=u[n],e=vf(t,r);0===e?i.push(r):s*e<0&&i.push(pf(t,c,r,s,e)),c=r,s=e}const f=vf(t,r);s*f<0&&i.push(pf(t,c,r,s,f)),0===f&&0===e&&i.push(r),u=i}if(e>0&&n<=0&&r>=0){const t=[];let n=!1;for(let r=0;r<u.length;r++){if(!n&&u[r]>=0){for(let n=0;n<e;n++)t.push(0);n=!0}t.push(u[r])}if(!n)for(let n=0;n<e;n++)t.push(0);return t}return u}const Ef=Math.sqrt;function If(t,n,r=!0){let e;if(4===t.length)e=ef(t,n);else if(3===t.length)e=of(t,n);else{if(2!==t.length){if(1===t.length)return{p:t[0],t:0,d:en(t[0],n)};throw new Error("The given bezier curve must be of order <= 3.")}e=uf(t,n)}const o=_f(e,0,1);r&&(o.push(0),o.push(1));let u,i=Number.POSITIVE_INFINITY;for(const r of o){const e=Tc(t,r),o=cf(e,n);o<i&&(i=o,u={p:e,t:r,d:Ef(o)})}return u}const Nf=Math.sqrt;function Tf(t,n){let r;if(4===t.length)r=ef(t,n);else if(3===t.length)r=of(t,n);else{if(2!==t.length){if(1===t.length)return{p:t[0],t:0,d:en(t[0],n)};throw new Error("The given bezier curve must be of order <= 3.")}r=uf(t,n)}const e=_f(r,0,1);e.push(0),e.push(1);let o,u=Number.NEGATIVE_INFINITY;for(const r of e){const e=Tc(t,r),i=cf(e,n);i>u&&(u=i,o={p:e,t:r,d:Nf(i)})}return o}function Mf(t){let n=Number.NEGATIVE_INFINITY;for(let r=0;r<t.length;r++){const e=t[r],o=Math.abs(e[0]),u=Math.abs(e[1]);o>n&&(n=o),u>n&&(n=u)}return n}function wf(t){return Math.max(t.hL+t.hEL,t.hR+t.hER)}function xf(t,n){const r=wf(t)-wf(n);return 0!==r?r:t.tS-n.tS}class Sf{compare;heap=[];constructor(t){this.compare=t}insert(t){const n=this.heap;n.push(t);let r=n.length-1;for(;;){const e=(r-1-(r+1)%2)/2;if(-1===e)return;const o=n[e];if(this.compare(t,o)<0)break;n[e]=t,n[r]=o,r=e}}popMax(){const t=this.heap,n=t[0];return t[0]=t[t.length-1],t.length--,this.swimDown(),n}swimDown(){const t=this.heap,n=t.length;let r=0;for(;;){const e=2*r+1;if(e>=n)break;const o=2*r+2,u=o>=n||this.compare(t[e],t[o])>0?e:o,i=t[u],c=t[r];if(this.compare(c,i)>0)break;t[u]=c,t[r]=i,r=u}}swapMinOrMax(t){this.heap[0]=t,this.swimDown()}static getParentIdx(t){return(t-1-(t+1)%2)/2}static getLeftChild(t){return 2*t+1}static getRightChild(t){return 2*t+2}}const yf=Math.max;function Pf(t,n,r,e=50){if(1===t.length)return If(n,t[0]).d;if(1===n.length)return Tf(t,n[0]).d;if(2===t.length&&2===n.length){const r=If(n,t[0]).d,e=If(n,t[t.length-1]).d;return r>e?r:e}const o=yf(Mf(t),Mf(n));r=r||o/1e6;const[u,i]=Bf(t,0,1),c={tS:0,tE:1,hL:If(n,t[0]).d,hR:If(n,t[t.length-1]).d,hEL:u,hER:i},s=new Sf(xf);s.insert(c);let f=0,l=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(;;){const o=s.heap[0],{tS:u,tE:i,hL:c,hR:a}=o,g=(u+i)/2,[v,p]=Bf(t,u,g),[d,b]=Bf(t,g,i),m=Tc(t,g),_=en(m,If(n,m).p),E=yf(c,_,a);if(E>h&&(h=E),l=wf(o),l-h<r)return h;if(f++>e)return h;const I={tS:u,tE:g,hL:c,hR:_,hEL:v,hER:p},N={tS:g,tE:i,hL:_,hR:a,hEL:d,hER:b};s.swapMinOrMax(I),s.insert(N)}}function Bf(t,n,r){const e=(r+n)/2,o=Mn(t,n,e),u=Mn(t,e,r);return[rf(o),rf(u)]}const Of=Math.max;function zf(t,n,r,e){const o=Pf(t,n,r,e),u=Pf(n,t,r,e);return Of(o,u)}function Lf(t,n){if(t.length<4)throw new Error("Only cubic bezier curves are supported by this function.");const{collinear:r,realOrder:e,nodeType:o}=Xt(t);if(r||e<=1)return[[t[0],t[3]]];if(2===e)return[Zn(t)];const u=[];if(t[0][0]===t[3][0]&&t[0][1]===t[3][1])u.push([0,.5],[.5,1]);else if("cusp"===o){const n=Zc(t)[0];void 0!==n?u.push([0,n],[n,1]):u.push([0,1])}else if("crunode"===o){const n=Zc(t);n.length>1?u.push([0,n[0]],[n[0],n[1]],[n[1],1]):u.push([0,1])}else u.push([0,1]);const i=[];for(;0!==u.length;){const r=u.pop(),[e,o]=r,c=Pn(t,e,o).ps,s=Zn(c);if(void 0===s||zf(s,c)>n){const t=(o+e)/2;u.push([e,t],[t,o])}else i.push(s)}return i.reverse()}function Ff(t){let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;for(const u of t){const t=u[0],i=u[1];t<n&&(n=t),t>r&&(r=t),i<e&&(e=i),i>o&&(o=i)}return[[n,e],[r,o]]}function Af(t,n){function r(n){return[t[0]+n[0],t[1]+n[1]]}return void 0===n?r:r(n)}function Yf(t,n){const r=.5519150244935106;return[[0,t],[t*r,t],[t,t*r],[t,0]].map(Af(n))}const Rf=Math.min,Vf=Math.max,qf=Math.abs,Gf=Number.EPSILON,Df=Gf/2,Cf=1-Gf,kf=1+Gf,Hf=[0,1];function Qf(t,n,r){if(0===t){if(0===n){if(0===r)return;return[]}const t=-r/n,e=qf(t*Df),o=t-e,u=t+e;return u<0||o>1?[]:o<0&&u>0?[0,u]:o<1&&u>1?[o,1]:[o,u]}if(0===r){const r=-n/t,e=qf(r*Df),o=r-e,u=r+e;return u<0||o>1?[0]:o<0&&u>0?[0,u]:o<1&&u>1?[0,o,1]:[0,o,u]}const e=n*n,o=4*t*r,u=e-o,i=e+qf(o),c=2*Df*i;if(u+c<0)return[];if(u+c===0){const r=-n/(2*t),e=qf(r*Df),o=r-e,u=r+e;return u<0||o>1?[]:o<0&&u>0?[0,u]:o<1&&u>1?[o,1]:[o,u]}const s=u-c<0?0:u-c,f=Math.sqrt(s)*Cf,l=Math.sqrt(u+c)*kf;let h,a;n>=0?(h=-n-l,a=-n-f):(a=-n+f,h=-n+l);const g=2*t,v=2*r;let p,d,b,m;h*g>=0?(p=a/g*Cf,d=h/g*kf):(p=h/g*kf,d=a/g*Cf),h*v>0?(b=v/h*Cf,m=v/a*kf):h*v<0&&(b=v/a*kf,m=v/h*Cf);const _=[];return d<0||p>1||_.push(p<0?0:p,d>1?1:d),m<0||b>1||_.push(b<0?0:b,m>1?1:m),_}function Xf(t,n){return[n[0]-t[0],n[1]-t[1]]}function jf(t,n){const r=n/Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[r*t[0],r*t[1]]}const $f=vn,Uf=dn,Jf=Math.abs,Kf=Number.EPSILON/2,Wf=function(t,n){const r=t[0],e=t[1],o=n[0],u=n[1],i=e-u,c=o-r,s=Uf($f(r,u),$f(o,e))[1],f=Jf(i),l=Jf(c),h=Jf(s);return function(t,n){const r=t[0],e=t[1],o=n[0],u=n[1],a=i*r+c*e+s,g=16*Kf*(f*o+l*u+h);return{dMin:a-g,dMax:a+g}}},Zf=function(t,n,r,e){const o=t.ps,u=o.length,i=4===u?function(t){const n=t.ps,r=t._ps,e=n[0],o=n[1],u=n[2],i=n[3],c=e[0],s=e[1],f=o[0],l=o[1],h=u[0],a=u[1],g=i[0],v=i[1],p=r[0],d=r[1],b=r[2],m=r[3],_=p[0],E=p[1],I=d[0],N=d[1],T=b[0],M=b[1];return{hq:[[(3*f-c)/2,(3*l-s)/2],[(3*h-g)/2,(3*a-v)/2]],_hq:[[(3*I+_)/2,(3*N+E)/2],[(3*T+m[0])/2,(3*M+m[1])/2]]}}(t):{hq:[o[1],o[1]],_hq:[[0,0],[0,0]]},c=i.hq,s=i._hq,f=t._ps,l=n(o[0],f[0]),h=n(o[u-1],f[u-1]),a=n(c[0],s[0]),g=n(c[1],s[1]),v=Rf(a.dMin,g.dMin),p=Vf(a.dMax,g.dMax);if(void 0!==globalThis.__debug__&&!globalThis.__debug__.already){const n=globalThis.__debug__.currentIter;n.hq=[t.ps[0],...c,t.ps[u-1]],n.geo?n.geoPerp={dH0:l,dH10:a,dH11:g,dH2:h,dMin:r,dMax:e}:n.geo={dH0:l,dH10:a,dH11:g,dH2:h,dMin:r,dMax:e}}const d=l.dMin,b=l.dMax,m=h.dMin,_=h.dMax,E=d-2*v+m,I=-2*(d-v),N=d-r,T=d-e,M=b-2*p+_,w=-2*(b-p),x=b-r,S=b-e;let y=Number.POSITIVE_INFINITY,P=Number.NEGATIVE_INFINITY;const B=Qf(E,I,N),O=Qf(E,I,T),z=Qf(M,w,x),L=Qf(M,w,S);if(void 0===B||void 0===O||void 0===z||void 0===L)return Hf;for(let t=0;t<B.length;t++){const n=B[t];n<y&&(y=n),n>P&&(P=n)}for(let t=0;t<O.length;t++){const n=O[t];n<y&&(y=n),n>P&&(P=n)}for(let t=0;t<z.length;t++){const n=z[t];n<y&&(y=n),n>P&&(P=n)}for(let t=0;t<L.length;t++){const n=L[t];n<y&&(y=n),n>P&&(P=n)}return b>=r&&d<=e&&(y=0),_>=r&&m<=e&&(P=1),y!==Number.POSITIVE_INFINITY?[y,P]:void 0},tl=Qn,nl=Xf,rl=Af,el=jf;function ol(t,n,r,e){const o=nl(t,n),u=[-o[1],o[0]],i=t[0],c=t[1],s=n[0],f=c-n[1],l=s-i,h=Math.sqrt(f**2+l**2),a=el(u,r/h),g=el(u,e/h);return{psBase:[t,n],psMin:[rl(t,a),rl(n,a)],psMax:[rl(t,g),rl(n,g)]}}const ul=function(t){const n=t.F,r=t.G,e=t.fRange,o=t.gRange,u=e[0],i=e[1],c=o[0],s=o[1],f=tl(n,u,i),l=tl(r,c,s),h=f.ps,a=f._ps;void 0===globalThis.__debug__||globalThis.__debug__.already||(globalThis.__debug__.currentIter.F_=f,globalThis.__debug__.currentIter.G_=l);const g=h.length,v=h[0],p=h[g-1],d=Wf(v,p),b=d(h[0],a[0]),m=d(h[1],a[1]),_=d(h[2],a[2]),E=4===g?d(h[3],a[3]):{dMin:0,dMax:0},I=4===g?3/4:.5,N=I*Math.min(0,b.dMin,m.dMin,_.dMin,E.dMin),T=I*Math.max(0,b.dMax,m.dMax,_.dMax,E.dMax);void 0===globalThis.__debug__||globalThis.__debug__.already||(globalThis.__debug__.currentIter.fatline=ol(v,p,N,T));const M=Zf(l,d,N,T),w=t.last;if(void 0===M)return[];let x=M[0],S=M[1];if(!w&&S-x>.7&&!function(){const t=v[0],n=v[1],r=p[0],e=[t+n-p[1],n+r-t],o=Wf(v,e),u=o(h[0],a[0]),i=o(h[1],a[1]),c=o(h[2],a[2]),s=4===g?o(h[3],a[3]):{dMin:0,dMax:0},f=Math.min(0,u.dMin,i.dMin,c.dMin,s.dMin),d=Math.max(0,u.dMax,i.dMax,c.dMax,s.dMax);void 0===globalThis.__debug__||globalThis.__debug__.already||(globalThis.__debug__.currentIter.fatlinePerp=ol(v,e,f,d));const b=Zf(l,o,f,d);if(void 0===b)return!1;const m=b[0],_=b[1];return x=Math.max(x,m),S=Math.min(S,_),!0}())return[];if(!w&&S-x>.7)return function(){const t=s-c,f=i-u;if(t>=f){const o=c+t/2+1-1,u={F:n,G:r,fRange:e,gRange:[c,o],last:w},i={F:n,G:r,fRange:e,gRange:[o,s],last:w};return void 0===globalThis.__debug__||globalThis.__debug__.already||(u.parent=globalThis.__debug__.currentIter,i.parent=globalThis.__debug__.currentIter,globalThis.__debug__.currentIter.children=[i,u]),[i,u]}const l=u+f/2+1-1,h={F:n,G:r,fRange:[u,l],gRange:o,last:w},a={F:n,G:r,fRange:[l,i],gRange:o,last:w};return void 0===globalThis.__debug__||globalThis.__debug__.already||(h.parent=globalThis.__debug__.currentIter,a.parent=globalThis.__debug__.currentIter,globalThis.__debug__.currentIter.children=[a,h]),[a,h]}();const y=s-c,P={F:r,G:n,fRange:[c+x*y+1-1,c+S*y+1-1],gRange:e,last:w};return void 0===globalThis.__debug__||globalThis.__debug__.already||(P.parent=globalThis.__debug__.currentIter,globalThis.__debug__.currentIter.children=[P]),[P]},il=Ws,cl=Math.min,sl=Math.max,fl=Math.abs,ll=2**-33,hl=2**-43;function al(t,n){if(t.length<=2||n.length<=2)return gl(t,n);const r=[],e={F:t,G:n,fRange:[0,1],gRange:[0,1],last:void 0},o=[e];void 0===globalThis.__debug__||globalThis.__debug__.already||(globalThis.__debug__.tree=e);let u=0;for(;0!==o.length&&u<60;){u++;const e=o.pop();void 0===globalThis.__debug__||globalThis.__debug__.already||(globalThis.__debug__.currentIter=e,e.uid=globalThis.__debug__.uid++);const i=ul(e);if(1===i.length){const u=i[0],c=u.fRange,s=fl(c[1]-c[0]);if(u.last){const o=u.last.fRange;if(s>ll)return gl(t,n);r.push(e.F===n?[c,o]:[o,c])}else s<ll&&(void 0===globalThis.__debug__||globalThis.__debug__.already||(u.foundX=!0),s<hl&&(c[0]=sl(0,c[0]-hl),c[1]=cl(1,c[1]+hl)),u.last=u),o.push(u)}else 2===i.length&&o.push(i[0],i[1])}return 60===u?(void 0!==globalThis.__debug__&&globalThis.__debug__.maxItersCount++,gl(t,n)):(void 0!==globalThis.__debug__&&(globalThis.__debug__.already=!0),r.sort((t,n)=>t[0][0]-n[0][0]),function(t){let n=!0;for(;n;){n=!1;for(let r=1;r<t.length;r++){const e=t[r-1][0],o=t[r][0];if(e[1]>=o[0]){const u=t[r-1][1],i=t[r][1],c=u[0],s=u[1],f=i[0],l=i[1];if(c<=l&&s>=f||f<=s&&l>=c){n=!0;const u=cl(c,s,f,l),i=sl(c,s,f,l),h=e[0],a=e[1],g=o[0],v=o[1],p=[[cl(h,a,g,v),sl(h,a,g,v)],[u,i]];t.splice(r-1,2,p);break}}}}}(r),r.map(t=>t.map(t=>(t[0]+t[1])/2)))}function gl(t,n){return il(t,n).map(t=>[t.t1,t.t2])}function vl(t,n,r){let[[e,o],[u,i]]=n,[[c,s],[f,l]]=r;return o>i&&([o,i]=[i,o]),s>l&&([s,l]=[l,s]),e>u&&([e,u]=[u,e]),c>f&&([c,f]=[f,c]),t?e<=f&&u>=c&&s<=i&&l>=o:e<f&&u>c&&s<i&&l>o}const pl=Tc,dl=wc,bl=x(1);function ml(t,n){const r=pl(t,n),e=dl(t,[0,n]);if(4===t.length)return{p:r,pE:e.map(t=>9*bl*t)};if(3===t.length)return{p:r,pE:e.map(t=>6*bl*t)};if(2===t.length)return{p:r,pE:e.map(t=>3*bl*t)};if(1===t.length)return{p:t[0],pE:[0,0]};throw new Error("The given bezier curve must be of order <= 3.")}const _l=ue,El=pn,Il=dn,Nl=g,Tl=ie;function Ml(t,n){if(0===n[0]&&0===n[1])return t[0].map(t=>[0,t]);if(0===n[0]&&1===n[1])return t[t.length-1].map(t=>[0,t]);if(4===t.length){const[[r,e],[o,u],[i,c],[s,f]]=t,l=Tl(_l(Nl(o,r),n),r),h=Tl(_l(Nl(i,o),n),o),a=Tl(_l(Nl(s,i),n),i),g=El(l,_l(Il(h,l),n)),v=El(h,_l(Il(a,h),n)),p=El(g,_l(Il(v,g),n)),d=Tl(_l(Nl(u,e),n),e),b=Tl(_l(Nl(c,u),n),u),m=Tl(_l(Nl(f,c),n),c),_=El(d,_l(Il(b,d),n)),E=El(b,_l(Il(m,b),n));return[p,El(_,_l(Il(E,_),n))]}if(3===t.length){const[[r,e],[o,u],[i,c]]=t,s=El([0,r],_l(Nl(o,r),n)),f=El([0,o],_l(Nl(i,o),n)),l=El(s,_l(Il(f,s),n)),h=El([0,e],_l(Nl(u,e),n)),a=El([0,u],_l(Nl(c,u),n));return[l,El(h,_l(Il(a,h),n))]}if(2===t.length){const[[r,e],[o,u]]=t;return[Tl(_l(Nl(o,r),n),r),Tl(_l(Nl(u,e),n),e)]}if(1===t.length){const[n,r]=t[0];return[[0,n],[0,r]]}throw new Error("The given bezier curve must be of order <= 3.")}const wl=Ml,xl=wc,Sl=S(3);function yl(t,n){const r=wl(t,n),e=xl(t,n);if(4===t.length)return{p:r,pE:e.map(t=>18*Sl*t)};if(3===t.length)return{p:r,pE:e.map(t=>12*Sl*t)};if(2===t.length)return{p:r,pE:e.map(t=>6*Sl*t)};if(1===t.length)return{p:[t[0]],pE:[0,0]};throw new Error("The given bezier curve must be of order <= 3.")}function Pl(t){if(t.length<4)return[];const[[n,r],[e,o],[u,i],[c,s]]=t,f=e-n,l=o-r,h=u-e-f,a=i-o-l,g=c-u-f-2*h,v=s-i-l-2*a;return _f([h*v-a*g,f*v-l*g,f*a-l*h],0,1)}const{abs:Bl,PI:Ol}=Math;function zl(t,n=[0,1]){if(t.length<=3)return Bl(Ll(t,n));if(4===t.length){const[r,e]=n;if(r===e)return 0;const o=Pn(t,r,e).ps,u=[0,...Pl(o),1];let i=0;for(let t=0;t<u.length-1;t++)i+=Bl(Ll(o,[u[t],u[t+1]]));return i}throw new Error("The given bezier curve must be of order <= 3.")}function Ll(t,n=[0,1]){if(t.length<=2)return 0;const[r,e]=n;if(r===e)return 0;if(3===t.length){const n=an(t,r,e).ps,[[o,u],[i,c],[s,f]]=n;return In([i-o,c-u],[s-i,f-c])}if(4===t.length){const n=Pn(t,r,e).ps,o=Xt(n),[[u,i],[c,s],[f,l],[h,a]]=n,g=[c-u,s-i],v=[f-c,l-s],p=[h-f,a-l];if(0===v[0]&&0===v[1]||o.realOrder<=2)return In(g,p);const d=In(g,v)+In(v,p);return"acnode"===o.nodeType||"cusp"===o.nodeType?d<=-Ol?d+2*Ol:d>=+Ol?d-2*Ol:d:d}throw new Error("The given bezier curve must be of order <= 3.")}function Fl(t){return t.slice().reverse()}function Al(t,n,r){const{vₓₓₓ:e,vₓₓᵧ:o,vₓᵧᵧ:u,vᵧᵧᵧ:i,vₓₓ:c,vₓᵧ:s,vᵧᵧ:f,vₓ:l,vᵧ:h,v:a}=t;return e*n*n*n+o*n*n*r+u*n*r*r+i*r*r*r+c*n*n+s*n*r+f*r*r+l*n+h*r+a}const Yl=Se,Rl=ye,Vl=ke,ql=ir,Gl=ue,Dl=dn,Cl=pn;function kl(t){const[[n,r,e,[,o]],[u,i,c,[,s]]]=vc(t),f=Gl(n,c),l=Gl(e,u),h=Gl(n,i),a=Gl(r,u),g=Gl(n,n),v=Gl(u,u),p=Dl(ql(s,n),ql(o,u)),d=Dl(f,l),b=Dl(h,a),m=Dl(ql(s,r),ql(o,i)),_=Dl(Gl(r,c),Gl(e,i)),E=Dl(ql(s,e),ql(o,c)),I=Rl(d),N=Gl(p,p),T=Gl(p,_),M=Gl(I,m),w=Gl(b,m),x=Dl(ql(-3,p),_),S=Gl(Yl(u),v),y=Gl(ql(3,n),v),P=Gl(ql(-3,u),g),B=Gl(n,g),O=Cl(Cl(Gl(x,v),Gl(b,Dl(Gl(c,u),Gl(i,i)))),Gl(I,Gl(i,u))),z=Cl(Cl(Gl(x,g),Gl(b,Dl(Gl(e,n),Gl(r,r)))),Gl(I,Gl(r,n))),L=Rl(Dl(Gl(b,Dl(Gl(r,i),Vl(Cl(l,f)))),Cl(Gl(x,Gl(n,u)),Gl(d,Cl(a,h))))),F=Cl(Dl(ql(-3,N),Rl(T)),Cl(M,Gl(b,E))),A=Rl(Dl(Gl(p,d),w)),Y=Cl(Dl(Gl(p,b),Gl(d,d)),Gl(b,_));return{vₓₓₓ:S,vₓₓᵧ:y,vₓᵧᵧ:P,vᵧᵧᵧ:B,vₓₓ:O,vₓᵧ:L,vᵧᵧ:z,vₓ:Cl(Gl(u,F),Cl(Gl(i,A),Gl(c,Y))),vᵧ:Yl(Cl(Gl(n,F),Cl(Gl(r,A),Gl(e,Y)))),v:Cl(Gl(p,Dl(Dl(M,N),T)),Dl(Gl(Y,E),Gl(w,m)))}}function Hl(t,n,r){const{vₓₓ:e,vₓᵧ:o,vᵧᵧ:u,vₓ:i,vᵧ:c,v:s}=t;return e*n*n+o*n*r+u*r*r+i*n+c*r+s}const Ql=Se,Xl=ye,jl=ir,$l=ue,Ul=dn;function Jl(t){const[[n,r,[,e]],[o,u,[,i]]]=pc(t),c=Ul($l(n,u),$l(r,o)),s=Ul(jl(i,n),jl(e,o)),f=Ul(jl(i,r),jl(e,u));return{vₓₓ:Ql($l(o,o)),vₓᵧ:Xl($l(n,o)),vᵧᵧ:Ql($l(n,n)),vₓ:Ul($l(u,c),Xl($l(o,s))),vᵧ:Ul(Xl($l(n,s)),$l(r,c)),v:Ul($l(c,f),$l(s,s))}}function Kl(t,n,r){const{vₓ:e,vᵧ:o,v:u}=t;return e*n+o*r+u}function Wl(t){const[[n,r],[e,o]]=tn(t);return{vₓ:-e,vᵧ:n,v:r*e-n*o}}const Zl=dn,th=ir,nh=Se;function rh(t){const[[n,[,r]],[e,[,o]]]=dc(t);return{vₓ:nh(e),vᵧ:n,v:Zl(th(r,e),th(o,n))}}const eh=Math.abs;function oh(t){const[n,r]=t[0],[[e],[o]]=Li(t);return{vₓ_:o,vᵧ_:e,v_:eh(n)*o+eh(r)*e}}function uh(t){const n=t[0].length;if(4===n){const[[n,r,e,o],[u,i,c,s]]=t;return[[o,s],[o+e/3,s+c/3],[o+2*e/3+r/3,s+2*c/3+i/3],[o+e+r+n,s+c+i+u]]}if(3===n){const[[n,r,e],[o,u,i]]=t;return[[e,i],[e+r/2,i+u/2],[e+r+n,i+u+o]]}if(2===n){const[[n,r],[e,o]]=t;return[[r,o],[r+n,o+e]]}if(1===n){const[[n],[r]]=t;return[[n,r]]}throw new Error("The given bezier curve must be of order <= 3.")}function ih(t){if(4===t.length){const[[n,r],[e,o],[u,i],[c,s]]=t;return[[3*(e-n),3*(o-r)],[3*(u-e),3*(i-o)],[3*(c-u),3*(s-i)]]}if(3===t.length){const[[n,r],[e,o],[u,i]]=t;return[[2*(e-n),2*(o-r)],[2*(u-e),2*(i-o)]]}if(2===t.length){const[[n,r],[e,o]]=t;return[[e-n,o-r]]}throw new Error("The given bezier curve must be of order 1, 2 or 3.")}function ch(t,n,r){const[e,o]=t,[u,i]=n,[c,s]=r;return[t,[-(4*e-4*u-c-2*e)/3,-(4*o-4*i-s-2*o)/3],[-(4*e-4*u+2*c-5*e)/3,-(4*o-4*i+2*s-5*o)/3],r]}function sh(t,n,r,e){const[o,u]=t,[i,c]=n,[s,f]=r,[l,h]=e,a=3*(s+o-2*i),g=3*(i-o),v=3*(f+u-2*c),p=3*(c-u),d=v*(g*v-a*p),b=-a*(g*v-a*p),m=p**2+p*v*l+v**2*l**2,_=-2*g*p+-g*v*l+-a*p*l+-2*a*v*l**2,E=g**2+g*a*l+a**2*l**2,I=p**2+p*v*h+v**2*h**2,N=-2*g*p+-g*v*h+-a*p*h+-2*a*v*h**2,T=g**2+g*a*h+a**2*h**2,M=m*(T*(m*T-_*N-2*E*I)+E*N*N)+I*(_*(_*T-E*N)+E*E*I);return[[o,u],[i,c],[s,f],[-(d*(T*(2*(m*(T-E)-E*I)-_*(N-_))+E*(2*E*I-N*(_-N)))+b*(m*(2*E*N-T*(_+N))+I*(2*_*T-E*(_+N))))/M+o-3*(i-s),-(d*(m*(N*(2*E-T)-_*T)+I*(_*(2*T-E)-E*N))+b*(m*(2*(T*(m-I)-E*I)-N*(_-N))+I*(2*E*I+_*(_-N))))/M+u-3*(c-f)]]}function fh(t,n,r){const[[e,o],[u,i],[c,s]]=t,[f,l]=n;return[[e,o],[u,i],[(r**3*(3*u-e+c)+3*r**2*(e-2*u)-3*r*(e-u)-f+e)/(3*r**2*(r-1)),(r**3*(3*i-o+s)+3*r**2*(o-2*i)-3*r*(o-i)-l+o)/(3*r**2*(r-1))],[c,s]]}function lh(t){if(4===t.length){const[[n,r],[e,o],[u,i],[c,s]]=t;return[[6*(c-n+3*(e-u)),6*(u+n-2*e)],[6*(s-r+3*(o-i)),6*(i+r-2*o)]]}if(3===t.length){const[[n,r],[e,o],[u,i]]=t;return[[2*(u-2*e+n)],[2*(i-2*o+r)]]}if(t.length<=2)return[[0],[0]];throw new Error("The given bezier curve must be of order <= 3.")}function hh(t){if(4===t.length){const[[n,r],[e,o],[u,i],[c,s]]=t;return[[6*(c-n+3*(e-u))],[6*(s-r+3*(o-i))]]}if(t.length<=3)return[[0],[0]];throw new Error("The given bezier curve must be of order <= 3.")}const ah=v,gh=g,vh=ir,ph=pn,dh=ie;function bh(t){if(4===t.length)return function(t){const[[n,r],[e,o],[u,i],[c,s]]=t;return[[vh(3,ph(gh(c,n),vh(3,gh(e,u)))),vh(6,dh(ah(u,n),-2*e)),vh(3,gh(e,n))],[vh(3,ph(gh(s,r),vh(3,gh(o,i)))),vh(6,dh(ah(i,r),-2*o)),vh(3,gh(o,r))]]}(t);if(3===t.length)return function(t){const[[n,r],[e,o],[u,i]]=t;return[[dh(ah(2*u,2*n),-4*e),gh(2*e,2*n)],[dh(ah(2*i,2*r),-4*o),gh(2*o,2*r)]]}(t);if(2===t.length)return function(t){const[[n,r],[e,o]]=t;return[[gh(e,n)],[gh(o,r)]]}(t);if(1===t.length)return[[[0,0]],[[0,0]]];throw new Error("The given bezier curve must be of order <= 3.")}const mh=g,_h=pn,Eh=ir,Ih=ie;function Nh(t){if(4===t.length){const[[n,r],[e,o],[u,i],[c,s]]=t;return[[Eh(6,_h(mh(c,n),Eh(3,mh(e,u)))),Eh(6,Ih(mh(u,2*e),n))],[Eh(6,_h(mh(s,r),Eh(3,mh(o,i)))),Eh(6,Ih(mh(i,2*o),r))]]}if(3===t.length){const[[n,r],[e,o],[u,i]]=t;return[[Ih(mh(2*u,4*e),2*n)],[Ih(mh(2*i,4*o),2*r)]]}if(t.length<=2)return[[[0,0]],[[0,0]]];throw new Error("The given bezier curve must be of order <= 3.")}const Th=g,Mh=pn,wh=ir;function xh(t){if(4===t.length){const[[n,r],[e,o],[u,i],[c,s]]=t;return[[wh(6,Mh(Th(c,n),wh(3,Th(e,u))))],[wh(6,Mh(Th(s,r),wh(3,Th(o,i))))]]}if(t.length<=3)return[[[0,0]],[[0,0]]];throw new Error("The given bezier curve must be of order <= 3.")}const Sh=s,yh=P,Ph=b,Bh=r,Oh=I;function zh(t){if(4===t.length)return function(t){const[[n,r],[e,o],[u,i],[c,s]]=t;return[[Ph(3,Bh(Sh(c,n),Ph(3,Sh(e,u)))),Ph(6,Oh(yh(u,n),-2*e)),Ph(3,Sh(e,n))],[Ph(3,Bh(Sh(s,r),Ph(3,Sh(o,i)))),Ph(6,Oh(yh(i,r),-2*o)),Ph(3,Sh(o,r))]]}(t);if(3===t.length)return function(t){const[[n,r],[e,o],[u,i]]=t;return[[Oh(yh(2*u,2*n),-4*e),Sh(2*e,2*n)],[Oh(yh(2*i,2*r),-4*o),Sh(2*o,2*r)]]}(t);if(2===t.length)return function(t){const[[n,r],[e,o]]=t;return[[Sh(e,n)],[Sh(o,r)]]}(t);if(1===t.length)return[[[0]],[[0]]];throw new Error("The given bezier curve must be of order <= 3.")}const Lh=s,Fh=b,Ah=r,Yh=I;function Rh(t){if(4===t.length){const[[n,r],[e,o],[u,i],[c,s]]=t;return[[Fh(6,Ah(Lh(c,n),Fh(3,Lh(e,u)))),Fh(6,Yh(Lh(u,2*e),n))],[Fh(6,Ah(Lh(s,r),Fh(3,Lh(o,i)))),Fh(6,Yh(Lh(i,2*o),r))]]}if(3===t.length){const[[n,r],[e,o],[u,i]]=t;return[[Yh(Lh(2*u,4*e),2*n)],[Yh(Lh(2*i,4*o),2*r)]]}if(t.length<=2)return[[[0]],[[0]]];throw new Error("The given bezier curve must be of order <= 3.")}const Vh=s,qh=b,Gh=r;function Dh(t){if(4===t.length){const[[n,r],[e,o],[u,i],[c,s]]=t;return[[qh(6,Gh(Vh(c,n),qh(3,Vh(e,u))))],[qh(6,Gh(Vh(s,r),qh(3,Vh(o,i))))]]}if(t.length<=3)return[[[0]],[[0]]];throw new Error("The given bezier curve must be of order <= 3.")}const Ch=Math.abs;function kh(t){if(4===t.length)return function(t){const[[n,r],[e,o],[u,i],[c,s]]=t,f=Ch(n),l=Ch(e),h=Ch(u),a=Ch(c),g=Ch(r),v=Ch(o),p=Ch(i);return[[3*(a+f+3*(l+h)),6*(h+f+2*l),3*(l+f)],[3*(Ch(s)+g+3*(v+p)),6*(p+g+2*v),3*(v+g)]]}(t);if(3===t.length)return function(t){const[[n,r],[e,o],[u,i]]=t,c=Ch(n),s=Ch(e),f=Ch(u),l=Ch(r),h=Ch(o);return[[2*(f+c+2*s),2*(s+c)],[2*(Ch(i)+l+2*h),2*(h+l)]]}(t);if(2===t.length)return function(t){const[[n,r],[e,o]]=t,u=Ch(n),i=Ch(e),c=Ch(r);return[[i+u],[Ch(o)+c]]}(t);if(1===t.length)return[[0],[0]];throw new Error("The given bezier curve must be of order <= 3.")}function Hh(t,n){const[r,e]=nn(t);return[-sn(e,n),sn(r,n)]}function Qh(t,n){const r=Hh(t,n);if(t.length<3||0!==r[0]||0!==r[1])return r;if(4===t.length){const[[r,e],[o,u],[i,c],[s,f]]=t;if(r===o&&e===u){if(o!==i||u!==c){const n=Xf(t[0],t[2]);return[-n[1],n[0]]}if(i!==s||c!==f){const n=Xf(t[0],t[3]);return[-n[1],n[0]]}return[0,0]}if(i===s&&c===f){if(i!==o||c!==u){const n=Xf(t[1],t[3]);return[-n[1],n[0]]}if(o!==r||u!==e){const n=Xf(t[0],t[3]);return[-n[1],n[0]]}}const l=Mn(t,n,1),h=Xf(l[0],l[2]);return[-h[1],h[0]]}if(3===t.length){const[[n,r],[e,o],[u,i]]=t;if(n!==u||r!==i){const n=Xf(t[0],t[2]);return[-n[1],n[0]]}}return[0,0]}function Xh(t){const[[n,r],[e,o]]=t,u=(e-n)/3,i=(o-r)/3;return[[n,r],[n+u,r+i],[n+2*u,r+2*i],[e,o]]}function jh(t){const[[n,r],[e,o],[u,i]]=t;return[[n,r],[1/3*n+2/3*e,1/3*r+2/3*o],[2/3*e+1/3*u,2/3*o+1/3*i],[u,i]]}function $h(t){if(4===t.length)return t;if(3===t.length)return jh(t);if(2===t.length)return Xh(t);if(1===t.length){const n=t[0];return[n,n,n,n]}throw new Error("The given bezier curve must be of order <= 3.")}function Uh(t,n){const[r,e]=nn(t),[o,u]=lh(t),i=sn(r,n),c=sn(e,n),s=sn(o,n);return(i*sn(u,n)-c*s)/Math.sqrt((i*i+c*c)**3)}const Jh=Uh;function Kh(t,n){const[e,o]=zh(t),[u,c]=Rh(t),s=xr(e,n),l=xr(o,n),h=xr(u,n),a=f(i(E(s,xr(c,n)),E(l,h))),g=f(r(E(s,s),E(l,l))),v=E(g,E(g,g)),p=Math.sqrt(v[v.length-1]);return a[a.length-1]/p}const Wh=pn,Zh=ir;function ta(t,n){let r=[0,0];for(let e=0;e<t.length;e++)r=Wh(t[e],Zh(n,r));return r}const na=ue,ra=pn,ea=dn;function oa(t,n){const[r,e]=bh(t),[o,u]=Nh(t),i=ta(r,n),c=ta(e,n),s=ta(o,n),f=ta(u,n),l=ea(na(i,f),na(c,s)),h=ra(na(i,i),na(c,c)),a=na(h,na(h,h)),g=Math.sqrt(a[1]);return l[1]/g}function ua(t,n){return t[0]*n[0]+t[1]*n[1]}function ia(t){const n=Xf(t[0],t[1]),r=Xf(t[1],t[2]),e=Xf(t[2],t[0]),o=ua(e,n)>0,u=ua(r,e)>0;return o||u}const{max:ca,abs:sa}=Math;function fa(t,n){if(ia(t))return!1;const[r,e,o]=t,[u,i]=r,[c,s]=o;if(void 0===n){const[t,r]=e;n=ca(sa(u),sa(i),sa(t),sa(r),sa(c),sa(s))*2**-10}if(u===c&&i===s)return cf(r,e)/4<=n**2;const[f,l]=Tc(t,.5);return((s-i)*f-(c-u)*l+c*i-s*u)**2/cf(r,o)<=n**2}const{abs:la,max:ha}=Math;function aa(t,n){if(void 0===n||0===n){const[r,e,o]=t,[u,i]=r,[c,s]=e,[f,l]=o;n=ha(la(u),la(i),la(c),la(s),la(f),la(l))*2**-10}const r=[];let e={ps:t,prev:void 0,next:void 0};for(r.push(e);r.length;){const t=r.pop(),o=t.ps;if(fa(o,n))continue;const u=[Mn(o,0,.5),Mn(o,.5,1)],i=t.prev,c=t.next,s={ps:u[0],prev:i,next:void 0},f={ps:u[1],prev:void 0,next:c};s.next=f,f.prev=s,i&&(i.next=s),c&&(c.prev=f),e===t&&(e=s),r.push(s),r.push(f)}const o=[];let u=e;for(o.push(e.ps[0]);u;)o.push(u.ps[2]),u=u.next;return o}const ga=Yc,va=Number.EPSILON/2,pa=va*va,da=dn,ba=dn,ma=dn,_a=ie,Ea=ue,Ia=ir,Na=pn,Ta=ye,Ma=Number.EPSILON/2,wa=Ma*Ma,xa=Math.abs,Sa=ma,ya=[0,1],Pa=_a,Ba=Na,Oa=Ea,za=Ia,La=Ta,Fa=function(t,n,r,e){const o=t[0],u=t[1],i=n[0],c=n[1],s=ga(t,n),f=Math.abs(o+u),l=Math.abs(i+c),h=l-va*l-e;return h<=0?{est:s,err:Number.POSITIVE_INFINITY}:{est:s,err:(l*r+f*e)/h**2+9*pa*Math.abs(f/l)}},Aa=function(t,n){return da(t,n)[1]>0?n:t},Ya=function(t,n){return ba(t,n)[1]>0?t:n},Ra=S(3);function Va(t,n){return n[0][0]!==n[1][0]||n[0][1]!==n[1][1]?4===t.length?function([[t,n],[r,e],[o,u],[i,c]],[s,f]){const l=Sa(f,s),h=3*wa*xa(l[1]),a=Sa(ya,s),g=3*wa*xa(a[1]),v=Fa(l,a,h,g);f=Pa(v.est,v.err);const p=Sa(ya,s),d=Oa(s,s),b=Oa(s,p),m=Oa(p,p),_=Oa(d,s),E=Oa(d,p),I=Oa(m,s),N=Oa(m,p),T=Sa(ya,f),M=Oa(f,f),w=Oa(f,T),x=Oa(T,T),S=Oa(M,f),y=Oa(M,T),P=Oa(x,f),B=Oa(x,T),O=xa(s[1]),z=xa(p[1]),L=xa(d[1]),F=xa(b[1]),A=xa(m[1]),Y=xa(_[1]),R=xa(E[1]),V=xa(I[1]),q=xa(N[1]),G=xa(f[1]),D=xa(T[1]),C=xa(M[1]),k=xa(w[1]),H=xa(x[1]),Q=xa(S[1]),X=xa(y[1]),j=xa(P[1]),$=xa(B[1]);let U=xa(t),J=xa(n),K=xa(r),W=xa(e),Z=xa(o),tt=xa(u),nt=xa(i),rt=xa(c);const et=Ba(za(i,s),za(o,p)),ot=Ba(Ba(za(i,d),za(2*o,b)),za(r,m)),ut=Ba(Ba(za(i,_),za(t,N)),za(3,Ba(za(o,E),za(r,I)))),it=Ba(Oa(ot,f),Oa(ut,T)),ct=Ba(Ba(Oa(et,M),Oa(ut,x)),Oa(La(ot),w)),st=Ba(Ba(za(i,S),Oa(ut,B)),za(3,Ba(Oa(et,y),Oa(ot,P)))),ft=xa(ut[1]),lt=nt*O+Z*z,ht=nt*L+2*Z*F+K*A;U=nt*Y+U*q+3*(Z*R+K*V),K=ht*G+ft*D,Z=lt*C+ft*H+2*ht*k,nt=nt*Q+ft*$+3*(lt*X+ht*j),U*=11*wa,K*=15*wa,Z*=20*wa,nt*=22*wa;const at=Ba(za(c,s),za(u,p)),gt=Ba(Ba(za(c,d),za(2*u,b)),za(e,m)),vt=Ba(Ba(za(c,_),za(n,N)),za(3,Ba(za(u,E),za(e,I)))),pt=Ba(Oa(gt,f),Oa(vt,T)),dt=Ba(Ba(Oa(at,M),Oa(vt,x)),Oa(La(gt),w)),bt=Ba(Ba(za(c,S),Oa(vt,B)),za(3,Ba(Oa(at,y),Oa(gt,P)))),mt=xa(vt[1]),_t=rt*O+tt*z,Et=rt*L+2*tt*F+W*A;J=rt*Y+J*q+3*(tt*R+W*V),W=Et*G+mt*D,tt=_t*C+mt*H+2*Et*k,rt=rt*Q+mt*$+3*(_t*X+Et*j),J*=11*wa,W*=15*wa,tt*=20*wa,rt*=22*wa;const It=Aa(Aa(Pa(ut,-U),Pa(it,-K)),Aa(Pa(ct,-Z),Pa(st,-nt))),Nt=Ya(Ya(Pa(ut,+U),Pa(it,+K)),Ya(Pa(ct,+Z),Pa(st,+nt)));return[[It,Aa(Aa(Pa(vt,-J),Pa(pt,-W)),Aa(Pa(dt,-tt),Pa(bt,-rt)))],[Nt,Ya(Ya(Pa(vt,+J),Pa(pt,+W)),Ya(Pa(dt,+tt),Pa(bt,+rt)))]]}(t,n):3===t.length?function([[t,n],[r,e],[o,u]],[i,c]){const s=Sa(c,i),f=3*wa*xa(s[1]),l=Sa(ya,i),h=3*wa*xa(l[1]),a=Fa(s,l,f,h);c=Pa(a.est,a.err);const g=Sa(ya,i),v=Oa(i,i),p=Oa(i,g),d=Oa(g,g),b=Sa(ya,c),m=Oa(c,c),_=Oa(c,b),E=Oa(b,b),I=xa(i[1]),N=xa(g[1]),T=xa(v[1]),M=xa(p[1]),w=xa(d[1]),x=xa(c[1]),S=xa(b[1]),y=xa(m[1]),P=xa(_[1]),B=xa(E[1]);let O=xa(t),z=xa(n),L=xa(r),F=xa(e),A=xa(o),Y=xa(u);const R=Ba(Ba(za(o,v),za(2*r,p)),za(t,d)),V=Ba(za(o,i),za(r,g)),q=R,G=Ba(Oa(c,V),Oa(b,R)),D=Ba(Ba(za(o,m),Oa(La(_),V)),Oa(E,R)),C=A*T+2*L*M+O*w,k=A*I+L*N;O=C,L=x*k+S*C,A=y*o+2*P*k+B*C,O*=7*wa,L*=11*wa,A*=14*wa;const H=Ba(Ba(za(u,v),za(2*e,p)),za(n,d)),Q=Ba(za(u,i),za(e,g)),X=H,j=Ba(Oa(c,Q),Oa(b,H)),$=Ba(Ba(za(u,m),Oa(La(_),Q)),Oa(E,H)),U=Y*T+2*F*M+z*w,J=Y*I+F*N;z=U,F=x*J+S*U,Y=y*u+2*P*J+B*U,z*=7*wa,F*=11*wa,Y*=14*wa;const K=Aa(Aa(Pa(q,-O),Pa(G,-L)),Pa(D,-A)),W=Ya(Ya(Pa(q,+O),Pa(G,+L)),Pa(D,+A));return[[K,Aa(Aa(Pa(X,-z),Pa(j,-F)),Pa($,-Y))],[W,Ya(Ya(Pa(X,+z),Pa(j,+F)),Pa($,+Y))]]}(t,n):function([[t,n],[r,e]],[o,u]){const i=Sa(u,o),c=3*wa*xa(i[1]),s=Sa(ya,o),f=3*wa*xa(s[1]),l=Fa(i,s,c,f);u=Pa(l.est,l.err);const h=Sa(ya,o),a=Sa(ya,u),g=xa(o[1]),v=xa(h[1]),p=xa(u[1]),d=xa(a[1]);let b=xa(t),m=xa(n),_=xa(r),E=xa(e);const I=Ba(za(r,o),za(t,h)),N=Ba(za(r,u),Oa(I,a));b=_*g+b*v,_=_*p+b*d,b*=3*Ma,_*=7*Ma;const T=Ba(za(e,o),za(n,h)),M=Ba(za(e,u),Oa(T,a));m=E*g+m*v,E=E*p+m*d,m*=3*Ma,E*=7*Ma;const w=Aa(Pa(I,-b),Pa(N,-_)),x=Ya(Pa(I,+b),Pa(N,+_));return[[w,Aa(Pa(T,-m),Pa(M,-E))],[x,Ya(Pa(T,+m),Pa(M,+E))]]}(t,n):function(t,n){const r=t[0],e=t[t.length-1];if(0===n[0]&&0===n[1]){const t=[0,r[0]],n=[0,r[1]];return[[t,n],[t,n]]}if(0===n[0]&&1===n[1]){const t=[0,e[0]],n=[0,e[1]];return[[t,n],[t,n]]}const o=Ml(t,n);let u;if(4===t.length)u=wc(t,n).map(t=>16*Ra*t);else if(3===t.length)u=wc(t,n).map(t=>10*Ra*t);else if(2===t.length)u=wc(t,n).map(t=>4*Ra*t);else if(1===t.length)return[o,o];return[[Pa(o[0],-u[0]),Pa(o[1],-u[1])],[Pa(o[0],+u[0]),Pa(o[1],+u[1])]]}(t,n[0])}const qa=c,Ga=s,Da=E,Ca=r,ka=Number.EPSILON;function Ha(t){return[4*t[0],4*t[1]]}const Qa=g,Xa=pn,ja=ir,$a=ue,Ua=ye,Ja=Ha,Ka=dn;function Wa(t,n){const r=t[0],e=t[1],o=t[2],u=t[3],i=r[0],c=r[1],s=e[0],f=e[1],l=o[0],h=o[1],a=u[0],g=u[1],[v,p]=n,d=Qa(i,v),b=Qa(s,v),m=Qa(l,v),_=Qa(a,v),E=Qa(c,p),I=Qa(f,p),N=Qa(h,p),T=Qa(g,p),M=$a(d,d),w=ja(6,$a(d,b)),x=ja(6,$a(d,m)),S=Ua($a(d,_)),y=ja(9,$a(b,b)),P=ja(18,$a(b,m)),B=ja(6,$a(b,_)),O=ja(9,$a(m,m)),z=ja(6,$a(m,_)),L=$a(_,_),F=$a(E,E),A=ja(6,$a(E,I)),Y=ja(6,$a(E,N)),R=Ua($a(E,T)),V=ja(9,$a(I,I)),q=ja(18,$a(I,N)),G=ja(6,$a(I,T)),D=ja(9,$a(N,N)),C=ja(6,$a(N,T)),k=$a(T,T),H=Xa(B,O),Q=Xa(S,P),X=Xa(x,y),j=Xa(G,D),$=Xa(R,q),U=Xa(Y,V);return[ja(6,Xa(Xa(Xa(Xa(Ka(L,z),Ka(M,w)),H),Ka(X,Q)),Xa(Xa(Xa(Ka(k,C),Ka(F,A)),j),Ka(U,$)))),ja(5,Xa(Ka(Xa(Xa(z,ja(5,w)),ja(3,Q)),Ua(Xa(Xa(H,Ua(X)),ja(3,M)))),Ka(Xa(Xa(C,ja(5,A)),ja(3,$)),Ua(Xa(Xa(j,Ua(U)),ja(3,F)))))),Ja(Xa(Ka(Ka(H,ja(3,Ka(Q,Ua(X)))),ja(5,Ka(Ua(w),ja(3,M)))),Ka(Ka(j,ja(3,Ka($,Ua(U)))),ja(5,Ka(Ua(A),ja(3,F)))))),ja(3,Xa(Ka(Q,Ua(Ka(Ua(X),ja(5,Ka(w,Ua(M)))))),Ka($,Ua(Ka(Ua(U),ja(5,Ka(A,Ua(F)))))))),Ua(Xa(Ka(X,ja(5,Ka(w,ja(3,M)))),Ka(U,ja(5,Ka(A,ja(3,F)))))),Xa(Ka(w,ja(6,M)),Ka(A,ja(6,F)))]}const Za=g,tg=pn,ng=ir,rg=ue,eg=ye,og=dn,ug=Ha;function ig(t,n){const[[r,e],[o,u],[i,c]]=t,[s,f]=n,l=Za(r,s),h=Za(o,s),a=Za(i,s),g=Za(e,f),v=Za(u,f),p=Za(c,f),d=rg(l,l),b=rg(l,h),m=rg(l,a),_=rg(h,h),E=rg(h,a),I=rg(a,a),N=rg(g,g),T=rg(g,v),M=rg(g,p),w=rg(v,v),x=rg(v,p),S=rg(p,p),y=tg(M,eg(w)),P=tg(m,eg(_));return[tg(og(tg(tg(S,N),eg(y)),ug(tg(x,T))),og(tg(tg(I,d),eg(P)),ug(tg(E,b)))),ng(3,tg(tg(og(x,y),og(ng(3,T),N)),tg(og(E,P),og(ng(3,b),d)))),tg(og(y,ng(3,og(eg(T),N))),og(P,ng(3,og(eg(b),d)))),tg(og(T,N),og(b,d))]}function cg(t){return[-2*t[0],-2*t[1]]}const sg=vn,fg=pn,lg=cg,hg=dn;function ag(t,n){const[[r,e],[o,u]]=t,[i,c]=n,s=r-i,f=o-i,l=e-c,h=u-c,a=sg(s,s),g=sg(s,f),v=sg(f,f),p=sg(l,l),d=sg(l,h),b=sg(h,h),m=fg(g,d),_=fg(p,a);return[fg(fg(v,b),fg(_,lg(m))),hg(m,_)]}const gg=s,vg=E,pg=b,dg=nu,bg=zc,mg=r,_g=i;function Eg(t,n){const r=t[0],e=t[1],o=t[2],u=t[3],i=r[0],c=r[1],s=e[0],f=e[1],l=o[0],h=o[1],a=u[0],g=u[1],[v,p]=n,d=gg(i,v),b=gg(s,v),m=gg(l,v),_=gg(a,v),E=gg(c,p),I=gg(f,p),N=gg(h,p),T=gg(g,p),M=vg(d,d),w=pg(6,vg(d,b)),x=pg(6,vg(d,m)),S=dg(vg(d,_)),y=pg(9,vg(b,b)),P=pg(18,vg(b,m)),B=pg(6,vg(b,_)),O=pg(9,vg(m,m)),z=pg(6,vg(m,_)),L=vg(_,_),F=vg(E,E),A=pg(6,vg(E,I)),Y=pg(6,vg(E,N)),R=dg(vg(E,T)),V=pg(9,vg(I,I)),q=pg(18,vg(I,N)),G=pg(6,vg(I,T)),D=pg(9,vg(N,N)),C=pg(6,vg(N,T)),k=vg(T,T),H=mg(B,O),Q=mg(S,P),X=mg(x,y),j=mg(G,D),$=mg(R,q),U=mg(Y,V),J=_g(mg(mg(L,M),mg(H,X)),mg(mg(Q,z),w)),K=_g(mg(mg(k,F),mg(j,U)),mg(mg($,C),A)),W=pg(6,mg(J,K)),Z=mg(bg(mg(mg(H,dg(X)),pg(3,M))),mg(mg(z,pg(3,Q)),pg(5,w))),tt=mg(bg(mg(mg(j,dg(U)),pg(3,F))),mg(mg(C,pg(3,$)),pg(5,A))),nt=pg(5,mg(Z,tt)),rt=mg(mg(H,pg(3,_g(dg(X),Q))),pg(5,_g(pg(3,M),dg(w)))),et=mg(mg(j,pg(3,_g(dg(U),$))),pg(5,_g(pg(3,F),dg(A)))),ot=pg(4,mg(rt,et)),ut=_g(Q,dg(_g(dg(X),pg(5,_g(w,dg(M)))))),it=_g($,dg(_g(dg(U),pg(5,_g(A,dg(F)))))),ct=pg(3,mg(ut,it)),st=_g(X,pg(5,_g(w,pg(3,M)))),ft=_g(U,pg(5,_g(A,pg(3,F)))),lt=dg(mg(st,ft)),ht=_g(w,pg(6,M)),at=_g(A,pg(6,F));return[W,nt,ot,ct,lt,mg(ht,at)]}const Ig=s,Ng=E,Tg=b,Mg=nu,wg=r,xg=i;function Sg(t){const n=[];for(let r=0;r<t.length;r++)n.push(4*t[r]);return n}function yg(t,n){const[[r,e],[o,u],[i,c]]=t,[s,f]=n,l=Ig(r,s),h=Ig(o,s),a=Ig(i,s),g=Ig(e,f),v=Ig(u,f),p=Ig(c,f),d=Ng(l,l),b=Ng(l,h),m=Ng(l,a),_=Ng(h,h),E=Ng(h,a),I=Ng(a,a),N=Ng(g,g),T=Ng(g,v),M=Ng(g,p),w=Ng(v,v),x=Ng(v,p),S=Ng(p,p),y=wg(M,Mg(w)),P=wg(m,Mg(_)),B=wg(xg(wg(I,Mg(P)),Sg(wg(E,b))),d),O=wg(xg(wg(S,Mg(y)),Sg(wg(x,T))),N),z=wg(B,O),L=wg(xg(E,P),xg(Tg(3,b),d)),F=wg(xg(x,y),xg(Tg(3,T),N)),A=Tg(3,wg(L,F)),Y=xg(y,Tg(3,xg(Mg(T),N))),R=xg(P,Tg(3,xg(Mg(b),d))),V=wg(Y,R),q=xg(T,N),G=xg(b,d);return[z,A,V,wg(q,G)]}const Pg=s,Bg=E,Og=zc,zg=r,Lg=i;function Fg(t,n){const[[r,e],[o,u]]=t,[i,c]=n,s=Pg(r,i),f=Pg(o,i),l=Pg(e,c),h=Pg(u,c),a=Bg(s,s),g=Bg(s,f),v=Bg(f,f),p=Bg(l,l),d=Bg(l,h),b=Bg(h,h),m=zg(g,d),_=zg(p,a);return[zg(zg(v,b),zg(Og(m),_)),Lg(m,_)]}const Ag=Math.abs;function Yg(t,n){const r=t[0],e=t[1],o=t[2],u=t[3],i=Ag(r[0]),c=Ag(r[1]),s=Ag(e[0]),f=Ag(e[1]),l=Ag(o[0]),h=Ag(o[1]),a=Ag(u[0]),g=Ag(u[1]),v=Ag(n[0]),p=Ag(n[1]),d=i+v,b=s+v,m=l+v,_=a+v,E=c+p,I=f+p,N=h+p,T=g+p,M=d*d,w=6*d*b,x=6*m*_,S=E*E,y=6*E*I,P=6*N*T,B=6*b*_+9*m*m,O=2*d*_+18*b*m,z=6*d*m+9*b*b,L=6*I*T+9*N*N,F=2*E*T+18*I*N,A=6*E*N+9*I*I;return[6*(_*_+x+(M+w)+B+(z+O)+(T*T+P+(S+y)+L+(A+F))),5*(x+5*w+3*O+2*(B+2*z+3*M)+(P+5*y+3*F+2*(L+2*A+3*S))),4*(B+3*(O+2*z)+5*(2*w+3*M)+(L+3*(F+2*A)+5*(2*y+3*S))),3*(O+2*(2*z+5*(w+2*M))+(F+2*(2*A+5*(y+2*S)))),2*(z+5*(w+3*M)+(A+5*(y+3*S))),w+6*M+(y+6*S)]}function Rg(t,n){const r=t[0],e=t[1],o=t[2],u=Ag(r[0]),i=Ag(r[1]),c=Ag(e[0]),s=Ag(e[1]),f=Ag(o[0]),l=Ag(o[1]),h=Ag(n[0]),a=Ag(n[1]),g=u+h,v=c+h,p=f+h,d=i+a,b=s+a,m=l+a,_=g*g,E=g*v,I=v*p,N=d*d,T=d*b,M=b*m,w=d*m+b*b*2,x=g*p+v*v*2;return[m*m+N+2*w+4*(M+T)+(p*p+_+2*x+4*(I+E)),3*(M+w+(3*T+N)+(I+x+(3*E+_))),w+3*(2*T+N)+(x+3*(2*E+_)),T+N+(E+_)]}function Vg(t,n){const r=t[0],e=t[1],o=Ag(r[0]),u=Ag(r[1]),i=Ag(e[0]),c=Ag(e[1]),s=Ag(n[0]),f=Ag(n[1]),l=o+s,h=i+s,a=u+f,g=c+f,v=l*h+a*g,p=a*a+l*l;return[h*h+g*g+2*v+p,v+p]}const qg=S(6);function Gg(t,n){const r=t.length-1;if(3===r)return{polyDd:Wa(t,n),polyE:Yg(t,n).map(t=>10*qg*t),getPolyExact:()=>Eg(t,n)};if(2===r)return{polyDd:ig(t,n),polyE:Rg(t,n).map(t=>8*qg*t),getPolyExact:()=>yg(t,n)};if(1===r)return{polyDd:ag(t,n),polyE:Vg(t,n).map(t=>6*qg*t),getPolyExact:()=>Fg(t,n)};if(0===r)return{polyDd:[[0,1]],polyE:[0],getPolyExact:()=>[[1]]};throw new Error("The given bezier curve must be of order <= 3")}const{sqrt:Dg}=Math;function Cg(t,n,r=0,e=1){const{polyDd:o,polyE:u,getPolyExact:i}=Gg(t,n),c=re(o,r,e,u,i);c.push({tS:r,tE:r,multiplicity:1}),c.push({tS:e,tE:e,multiplicity:1});const s=c.map(r=>{const e=yc(t,[r.tS,r.tE]),o=function(t,n){const r=t[0],e=t[1],o=r[0],u=r[1],i=e[0],c=e[1],s=n[0],f=n[1];let l=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(const[t,n]of[[o,u],[o,c],[i,u],[i,c]]){const r=Ga(t,s),e=Ga(n,f),o=Ca(Da(r,r),Da(e,e)),u=qa(o),i=u*(1-ka),c=u*(1+ka);i<=l&&(l=i),c>=h&&(h=c)}return[l,h]}(e,n);return{p:rr(e),t:nr(r),d:(Dg(o[0])+Dg(o[1]))/2,dSquaredI:o,box:e,ri:r}});let f=Number.POSITIVE_INFINITY;for(let t=0;t<s.length;t++){const n=s[t].dSquaredI[1];n<f&&(f=n)}const l=[];for(let t=0;t<s.length;t++){const n=s[t];n.dSquaredI[0]<=f&&l.push(n)}return l}const kg=S(6);function Hg(t,n,r=0,e=1){const o=t.length-1;let u;if(3===o)u=re(Wa(t,n),r,e,Yg(t,n).map(t=>10*kg*t),()=>Eg(t,n));else if(2===o)u=re(ig(t,n),r,e,Rg(t,n).map(t=>8*kg*t),()=>yg(t,n));else{if(1!==o){if(0===o)return[];throw new Error("The given bezier curve must be of order <= 3")}u=re(ag(t,n),r,e,Vg(t,n).map(t=>6*kg*t),()=>Fg(t,n))}return u}function Qg(t,n){const r=[0],e=[1];for(;;){const o=r[r.length-1],u=e[e.length-1];if(rf(Mn(t,o,u))<=n){if(r.push(e.pop()),1===u)return r;continue}const i=(o+u)/2;e.push(i)}}function Xg(t){if(k(t))return{minima:[],maxima:[],inflections:[]};if(4===t.length&&D(t)&&(t=Zn(t)),3===t.length){const n=function(t){const[[n,r],[e,o],[u,i]]=t,c=u-e,s=c-(e-n),f=i-o,l=f-(o-r);return[s*s+l*l,-(n*(s-e)-e*(c-e)+r*(l-o)-o*(f-o))]}(t);return{minima:[],maxima:_f(n,0,1),inflections:[]}}const n=function(t){const[[n,r,e],[o,u,i]]=nn(t),[[c,s],[f,l]]=lh(t),[[h],[a]]=hh(t),g=h*u,v=a*r,p=s*i,d=s*u,b=f*f,m=c*i,_=l*e,E=l*r,I=f*e,N=e*r,T=e*n,M=e*o,w=r*r,x=r*n,S=r*u,y=n*i,P=n*o,B=n*n,O=i*u,z=i*o,L=u*u,F=u*o,A=o*o,Y=h*i-a*e,R=s*e+l*i,V=p-_,q=e*e+i*i,G=S+y,D=z+L,C=T+w,k=r*o+n*u,H=B-A,Q=x-F,X=N-O,j=e*u+r*i,$=z+D,U=T+C,J=M+G,K=S+G,W=U-$,Z=G+y,tt=M+S+y,nt=2*E+I;return{inflectionPoly:[c*o-f*n,s*o+c*u-l*n-f*r,d+m-E-I,p-_],otherExtremaPoly:[B*(g-3*v)+A*(3*g-v)+2*(P*(h*r-a*u+3*(l*f-s*c))+3*c*f*Q)+3*(k*(b-c*c)+H*(s*f+l*c)),h*(o*(U+3*D)+n*K)-a*(e*(3*B+A)+r*(3*x+2*F)+n*$)+3*(s*(l*H-s*P+2*(f*Q-c*k))+c*(2*l*Q+f*(2*(T-z)+(w-L))-c*tt)+l*(l*P+2*f*k)+b*J),h*(2*e*k+r*Z+u*(4*z+$))-a*(2*e*(3*x+F)+r*(w+2*z)+u*Z)+3*(s*(2*(l*Q-c*tt)+f*W-s*k)+c*(2*f*X-c*j)+l*(l*k+2*f*J+c*W)+b*j),h*(e*(M+2*G)+i*(w+3*D))-a*(e*(3*C+$)+i*K)+3*(s*(l*W-s*J+2*(f*X-c*j))+c*(e*(nt-c*i)-i*(2*l*u+f*i))+l*(l*G+e*(2*f*u+l*o))+f*i*nt),q*(g-v)+2*(N+O)*Y-3*(R*(d+m-E-I)+(s*r+c*e+l*u+f*i)*V),Y*q-3*R*V]}}(t),r=n.inflectionPoly,e=n.otherExtremaPoly,o=_f(e,0,1),u=sf(e),i=[],c=[];for(let t=0;t<o.length;t++){const n=o[t],e=sn(u,n);sn(r,n)*e>=0?i.push(n):c.push(n)}return{minima:i,maxima:c,inflections:_f(r,0,1)}}const jg=ir,$g=ye,Ug=Ha,Jg=ir,Kg=ue,Wg=pn,Zg=dn;function tv(t){const[[n,r,e],[o,u,i]]=bh(t),[[c,s],[f,l]]=Nh(t),[[h],[a]]=xh(t),g=Kg(h,u),v=Kg(a,r),p=Kg(s,i),d=Kg(s,u),b=Kg(f,f),m=Kg(c,i),_=Kg(l,e),E=Kg(l,r),I=Kg(f,e),N=Kg(e,r),T=Kg(e,n),M=Kg(e,o),w=Kg(r,r),x=Kg(r,n),S=Kg(r,u),y=Kg(n,i),P=Kg(n,o),B=Kg(n,n),O=Kg(i,u),z=Kg(i,o),L=Kg(u,u),F=Kg(u,o),A=Kg(o,o),Y=Zg(Kg(h,i),Kg(a,e)),R=Zg(g,v),V=Wg(Kg(s,e),Kg(l,i)),q=Wg(Wg(Kg(s,r),Kg(c,e)),Wg(Kg(l,u),Kg(f,i))),G=Zg(p,_),D=Zg(Wg(d,m),Wg(E,I)),C=Wg(Kg(e,e),Kg(i,i)),k=Wg(N,O),H=Wg(S,y),Q=Wg(z,L),X=Wg(T,w),j=Wg(Kg(r,o),Kg(n,u)),$=Zg(B,A),U=Zg(x,F),J=Wg(M,S),K=Zg(N,O),W=Wg(Kg(e,u),Kg(r,i)),Z=Wg(z,Q),tt=Wg(T,X),nt=Wg(M,H),rt=Wg(S,H),et=Zg(tt,Z),ot=Wg(H,y),ut=Wg(J,y),it=Wg(ye(E),I),ct=Kg(B,Zg(g,Jg(3,v))),st=Kg(A,Zg(Jg(3,g),v)),ft=ye(Wg(Kg(P,Wg(Zg(Kg(h,r),Kg(a,u)),Jg(3,Zg(Kg(l,f),Kg(s,c))))),Jg(3,Kg(Kg(c,f),U)))),lt=Jg(3,Wg(Kg(j,Zg(b,Kg(c,c))),Kg($,Wg(Kg(s,f),Kg(l,c))))),ht=Wg(Wg(ct,st),Wg(ft,lt)),at=Kg(h,Wg(Kg(o,Wg(tt,Jg(3,Q))),Kg(n,rt))),gt=Kg(a,Wg(Wg(Kg(e,Wg(Jg(3,B),A)),Kg(r,Wg(Jg(3,x),$g(F)))),Kg(n,Z))),vt=Jg(3,Wg(Wg(Kg(s,Wg(Zg(Kg(l,$),Kg(s,P)),$g(Zg(Kg(f,U),Kg(c,j))))),Kg(c,Zg(Wg($g(Kg(l,U)),Kg(f,Wg($g(Zg(T,z)),Zg(w,L)))),Kg(c,ut)))),Wg(Kg(l,Wg(Kg(l,P),$g(Kg(f,j)))),Kg(b,nt)))),pt=Wg(Zg(at,gt),vt),dt=Kg(h,Wg(Wg($g(Kg(e,j)),Kg(r,ot)),Kg(u,Wg(Ug(z),Z)))),bt=Kg(a,Wg(Wg($g(Kg(e,Wg(Jg(3,x),F))),Kg(r,Wg(w,$g(z)))),Kg(u,ot))),mt=Jg(3,Wg(Wg(Kg(s,Zg(Wg($g(Zg(Kg(l,U),Kg(c,ut))),Kg(f,et)),Kg(s,j))),Kg(c,Zg($g(Kg(f,K)),Kg(c,W)))),Wg(Kg(l,Wg(Wg(Kg(l,j),$g(Kg(f,nt))),Kg(c,et))),Kg(b,W)))),_t=Wg(Zg(dt,bt),mt),Et=Kg(h,Wg(Kg(e,Wg(M,$g(H))),Kg(i,Wg(w,Jg(3,Q))))),It=Kg(a,Wg(Kg(e,Wg(Jg(3,X),Z)),Kg(i,rt))),Nt=Jg(3,Wg(Wg(Kg(s,Wg(Zg(Kg(l,et),Kg(s,nt)),$g(Zg(Kg(f,K),Kg(c,W))))),Kg(c,Zg(Kg(e,Zg(it,Kg(c,i))),Kg(i,Wg($g(Kg(l,u)),Kg(f,i)))))),Wg(Kg(l,Wg(Kg(l,H),Kg(e,Wg($g(Kg(f,u)),Kg(l,o))))),Kg(f,Kg(i,it))))),Tt=Wg(Zg(Et,It),Nt),Mt=Zg(Wg(Kg(C,R),$g(Kg(k,Y))),Jg(3,Wg(Kg(V,D),Kg(q,G)))),wt=Zg(Kg(Y,C),Jg(3,Kg(V,G)));return{inflectionPoly:[Zg(Kg(c,o),Kg(f,n)),Zg(Wg(Kg(s,o),Kg(c,u)),Wg(Kg(l,n),Kg(f,r))),Zg(Wg(d,m),Wg(E,I)),Zg(p,_)],otherExtremaPoly:[ht,pt,_t,Tt,Mt,wt]}}const nv=g,rv=ir,ev=ue,ov=pn,uv=dn;function iv(t){const[[n,r],[e,o],[u,i]]=t,c=nv(e,n),s=nv(u,e),f=uv(s,c),l=nv(o,r),h=nv(i,o),a=uv(h,l),g=ov(uv(rv(n,uv(f,[0,e])),rv(e,uv(s,[0,e]))),uv(rv(r,uv(a,[0,o])),rv(o,uv(h,[0,o]))));return[ov(ev(f,f),ev(a,a)),Se(g)]}function cv(t){if(k(t))return{minima:[],maxima:[],inflections:[]};if(4===t.length&&D(t)&&(t=Zn(t)),3===t.length)return{minima:[],maxima:re(iv(t),0,1).map(t=>(t.tS+t.tE)/2),inflections:[]};const n=tv(t),r=n.inflectionPoly,e=n.otherExtremaPoly,o=re(e,0,1),u=function(t){const n=[],r=t.length-1;for(let e=0;e<r;e++)n.push(jg(r-e,t[e]));return n}(e),i=[],c=[];for(let t=0;t<o.length;t++){const n=(o[t].tS+o[t].tE)/2,e=xr(u,n);N(E(xr(r,n),e))>=0?i.push(n):c.push(n)}return{minima:i,maxima:c,inflections:re(r,0,1).map(t=>(t.tS+t.tE)/2)}}const sv=nu,fv=d,lv=E,hv=r,av=i;const gv=b,vv=E,pv=r,dv=i,bv=s,{abs:mv}=Math;function _v(t){if(k(t))return{minima:[],maxima:[],inflections:[]};if(4===t.length&&D(t)&&(t=Zn(t)),3===t.length){const n=iv(t),r=function(t){const[[n,r],[o,u],[i,c]]=t,s=bv(o,n),f=bv(i,o),l=dv(f,s),h=bv(u,r),a=bv(c,u),g=dv(a,h),v=pv(dv(gv(n,dv(l,[0,-o])),gv(o,dv(f,[0,-o]))),dv(gv(r,dv(g,[0,-u])),gv(u,dv(a,[0,-u]))));return[pv(vv(l,l),vv(g,g)),e(v)]}(t),o=r.map((t,r)=>{const e=i(t,n[r]);return mv(e[e.length-1])});return{minima:[],maxima:re(n,0,1,o,()=>r).map(t=>(t.tS+t.tE)/2),inflections:[]}}const n=function(t){const[[n,r,e],[o,u,i]]=zh(t),[[c,s],[f,l]]=Rh(t),[[h],[a]]=Dh(t),g=lv(h,u),v=lv(a,r),p=lv(s,i),d=lv(s,u),b=lv(f,f),m=lv(c,i),_=lv(l,e),E=lv(l,r),I=lv(f,e),N=lv(e,r),T=lv(e,n),M=lv(e,o),w=lv(r,r),x=lv(r,n),S=lv(r,u),y=lv(n,i),P=lv(n,o),B=lv(n,n),O=lv(i,u),z=lv(i,o),L=lv(u,u),F=lv(u,o),A=lv(o,o),Y=av(lv(h,i),lv(a,e)),R=av(g,v),V=hv(lv(s,e),lv(l,i)),q=hv(hv(lv(s,r),lv(c,e)),hv(lv(l,u),lv(f,i))),G=av(p,_),D=av(hv(d,m),hv(E,I)),C=hv(lv(e,e),lv(i,i)),k=hv(N,O),H=hv(S,y),Q=hv(z,L),X=hv(T,w),j=hv(lv(r,o),lv(n,u)),$=av(B,A),U=av(x,F),J=hv(M,S),K=av(N,O),W=hv(lv(e,u),lv(r,i)),Z=hv(z,Q),tt=hv(T,X),nt=hv(M,H),rt=hv(S,H),et=av(tt,Z),ot=hv(H,y),ut=hv(J,y),it=hv(sv(E),I),ct=lv(B,av(g,fv(v,3))),st=lv(A,av(fv(g,3),v)),ft=sv(hv(lv(P,hv(av(lv(h,r),lv(a,u)),fv(av(lv(l,f),lv(s,c)),3))),fv(lv(lv(c,f),U),3))),lt=fv(hv(lv(j,av(b,lv(c,c))),lv($,hv(lv(s,f),lv(l,c)))),3),ht=hv(hv(ct,st),hv(ft,lt)),at=lv(h,hv(lv(o,hv(tt,fv(Q,3))),lv(n,rt))),gt=lv(a,hv(hv(lv(e,hv(fv(B,3),A)),lv(r,hv(fv(x,3),sv(F)))),lv(n,Z))),vt=fv(hv(hv(lv(s,hv(av(lv(l,$),lv(s,P)),sv(av(lv(f,U),lv(c,j))))),lv(c,av(hv(sv(lv(l,U)),lv(f,hv(sv(av(T,z)),av(w,L)))),lv(c,ut)))),hv(lv(l,hv(lv(l,P),sv(lv(f,j)))),lv(b,nt))),3),pt=hv(av(at,gt),vt),dt=lv(h,hv(hv(sv(lv(e,j)),lv(r,ot)),lv(u,hv(nu(nu(z)),Z)))),bt=lv(a,hv(hv(sv(lv(e,hv(fv(x,3),F))),lv(r,hv(w,sv(z)))),lv(u,ot))),mt=fv(hv(hv(lv(s,av(hv(sv(av(lv(l,U),lv(c,ut))),lv(f,et)),lv(s,j))),lv(c,av(sv(lv(f,K)),lv(c,W)))),hv(lv(l,hv(hv(lv(l,j),sv(lv(f,nt))),lv(c,et))),lv(b,W))),3),_t=hv(av(dt,bt),mt),Et=lv(h,hv(lv(e,hv(M,sv(H))),lv(i,hv(w,fv(Q,3))))),It=lv(a,hv(lv(e,hv(fv(X,3),Z)),lv(i,rt))),Nt=fv(hv(hv(lv(s,hv(av(lv(l,et),lv(s,nt)),sv(av(lv(f,K),lv(c,W))))),lv(c,av(lv(e,av(it,lv(c,i))),lv(i,hv(sv(lv(l,u)),lv(f,i)))))),hv(lv(l,hv(lv(l,H),lv(e,hv(sv(lv(f,u)),lv(l,o))))),lv(f,lv(i,it)))),3),Tt=hv(av(Et,It),Nt),Mt=av(hv(lv(C,R),sv(lv(k,Y))),fv(hv(lv(V,D),lv(q,G)),3)),wt=av(lv(Y,C),fv(lv(V,G),3));return{inflectionPoly:[av(lv(c,o),lv(f,n)),av(hv(lv(s,o),lv(c,u)),hv(lv(l,n),lv(f,r))),av(hv(d,m),hv(E,I)),av(p,_)],otherExtremaPoly:[ht,pt,_t,Tt,Mt,wt]}}(t),r=n.inflectionPoly,o=n.otherExtremaPoly,u=tv(t),c=u.inflectionPoly,s=u.otherExtremaPoly,f=r.map((t,n)=>{const r=i(t,c[n]);return mv(r[r.length-1])}),l=o.map((t,n)=>{const r=i(t,s[n]);return mv(r[r.length-1])}),h=re(s,0,1,l,()=>o),a=hr(o),g=[],v=[];for(let t=0;t<h.length;t++){const n=(h[t].tS+h[t].tE)/2,e=xr(a,n);N(E(xr(r,n),e))>=0?g.push(n):v.push(n)}return{minima:g,maxima:v,inflections:re(c,0,1,f,()=>r).map(t=>(t.tS+t.tE)/2)}}function Ev(t,n=.4,r=10,e=2**-16){const o=[0],u=[1];for(;;){const i=o[o.length-1],c=u[u.length-1],s=Mn(t,i,c),f=rf(s),l=Tn(s);if(f<=r&&l<=n||c-i<=e){if(o.push(u.pop()),1===c)return o;continue}const h=(i+c)/2;u.push(h)}}function Iv(t){if(!k(t))return!1;const n=t.map(t=>t[0]),r=t.map(t=>t[1]);return!(Nv(n)&&Nv(r))}function Nv(t){return function(t){for(let n=1;n<t.length;n++)if(t[n-1]>t[n])return!1;return!0}(t)||function(t){for(let n=1;n<t.length;n++)if(t[n-1]<t[n])return!1;return!0}(t)}function Tv(t){const n=nn(t),r=_f(n[0],0,1),e=_f(n[1],0,1);r.push(0,1),e.push(0,1);let o,u,i,c,s=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(let n=0;n<r.length;n++){const e=r[n],[i]=Tc(t,e);i<s&&(s=i,o=e),i>f&&(f=i,u=e)}for(let n=0;n<e.length;n++){const r=e[n],[,o]=Tc(t,r);o<l&&(l=o,i=r),o>h&&(h=o,c=r)}return{ts:[[o,i],[u,c]],box:[[s,l],[f,h]]}}function Mv(t,n,r){function e(r){return[r[0]*n-r[1]*t,r[0]*t+r[1]*n]}return void 0===r?e:e(r)}function wv(t,n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,e){return re(t.map(t=>[0,t]),n,r,void 0,void 0,e)}function xv(t){const n=t[0],r=t[t.length-1];let e,o;if(n[0]<r[0]?(e={ts:[0,0],box:[n,n]},o={ts:[1,1],box:[r,r]}):(e={ts:[1,1],box:[r,r]},o={ts:[0,0],box:[n,n]}),2===t.length)return{minX:e,maxX:o};const[u]=nn(t),i=wv(u,0,1);for(let n=0;n<i.length;n++){const r=i[n],u=[r.tS,r.tE],c=yc(t,u);c[0][0]<e.box[0][0]&&(e={ts:u,box:c}),c[1][0]>o.box[0][0]&&(o={ts:u,box:c})}return{minX:e,maxX:o}}function Sv(t){const n=t[0],r=t[t.length-1];let e,o;if(n[1]<r[1]?(e={ts:[0,0],box:[n,n]},o={ts:[1,1],box:[r,r]}):(e={ts:[1,1],box:[r,r]},o={ts:[0,0],box:[n,n]}),2===t.length)return{minY:e,maxY:o};const[,u]=nn(t),i=wv(u,0,1);for(let n=0;n<i.length;n++){const r=i[n],u=[r.tS,r.tE],c=yc(t,u);c[0][1]<e.box[0][1]&&(e={ts:u,box:c}),c[1][1]>o.box[0][1]&&(o={ts:u,box:c})}return{minY:e,maxY:o}}function yv(t){const n=xv(t),r=Sv(t);return[[n.minX.box[0][0],r.minY.box[0][1]],[n.maxX.box[1][0],r.maxY.box[1][1]]]}function Pv(t){const[n,r]=t[0],[e,o]=t[t.length-1];let u,i;const c=rf(t);if(256*cf(t[0],t[t.length-1])<c*c){const[e,o]=Tc(t,.5),c=Math.sqrt((e-n)*(e-n)+(o-r)*(o-r));u=(o-r)/c,i=(e-n)/c}else{const t=Math.sqrt((e-n)*(e-n)+(o-r)*(o-r));u=(o-r)/t,i=(e-n)/t}const s=function(t,n,r){const e=Af(t[0].map(t=>-t));return yv(t.map(t=>Mv(-n,r,e(t))))}(t,u,i),[[f,l],[h,a]]=s,g=[s[0],[h,l],s[1],[f,a]],v=Mv(u,i);return g.map(n=>Af(t[0],v(n)))}function Bv(t){if(4===t.length){const[[n,r],[e,o],[u,i],[c,s]]=t;return[[n,r],[[(3*e-n)/2,(3*o-r)/2],[(3*u-c)/2,(3*i-s)/2]],[c,s]]}throw new Error("The given bezier curve must be a cubic")}const Ov=vn,zv=pn,Lv=ye,Fv=cg,Av=dn,Yv=ue,Rv=ir,Vv=E,qv=n,Gv=d,Dv=P,Cv=I,kv=r,Hv=n,Qv=function(t){let n=[0];for(let r=0;r<t.length;r++){const e=t[r];let o=e[0];for(let t=1;t<e.length;t++){const n=e[t];o=1==n.length?1===o.length?qv(o[0],n[0]):Gv(o,n[0]):1===o.length?Gv(n,o[0]):Vv(n,o)}n=1===o.length?1===n.length?Dv(n[0],o[0]):Cv(n,o[0]):1===n.length?Cv(o,n[0]):kv(n,o)}return n},Xv=d;function jv(t,n){const{radius:r,center:e}=t,[o,u]=e,[[i,c,s,f],[l,h,a,g]]=ft(n);return[Qv([[i,i],[l,l]]),Xv(Qv([[c,i],[h,l]]),2),Qv([[[2],s,i],[c,c],[[2],a,l],[h,h]]),Xv(Qv([[f,i],[s,c],[[-1],i,[o]],[g,l],[a,h],[[-1],l,[u]]]),2),Qv([[[2],f,c],[s,s],[[-2],c,[o]],[[2],g,h],[a,a],[[-2],h,[u]]]),Xv(Qv([[f,s],[[-1],s,[o]],[g,a],[[-1],a,[u]]]),2),Qv([[f,f],[[-2],f,[o]],[g,g],[[-2],g,[u]],[Hv(o,o)],[Hv(u,u)],[Hv(-r,r)]])]}function $v(t,n){const{radius:r,center:e}=t,[o,u]=e,[[i,c,s],[f,l,h]]=lt(n);return[Qv([[i,i],[f,f]]),Xv(Qv([[c,i],[l,f]]),2),Qv([[[2],s,i],[c,c],[[-2],i,[o]],[[2],h,f],[l,l],[[-2],f,[u]]]),Xv(Qv([[s,c],[[-1],c,[o]],[h,l],[[-1],l,[u]]]),2),Qv([[s,s],[[-2],s,[o]],[h,h],[[-2],h,[u]],[Hv(o,o)],[Hv(u,u)],[Hv(-r,r)]])]}function Uv(t,n){const{radius:r,center:e}=t,[o,u]=e,[[i,c],[s,f]]=ht(n);return[Qv([[i,i],[s,s]]),Xv(Qv([[c,i],[[-1],i,[o]],[f,s],[[-1],s,[u]]]),2),Qv([[c,c],[[-2],c,[o]],[f,f],[[-2],f,[u]],[Hv(o,o)],[Hv(u,u)],[Hv(-r,r)]])]}const Jv=Math.abs,Kv=S(6);function Wv(t,n){let r,e,o;if(4===n.length)r=function(t,n){const{radius:r,center:[e,o]}=t,[[u,i,c,[,s]],[f,l,h,[,a]]]=vc(n);return[zv(Yv(u,u),Yv(f,f)),Lv(zv(Yv(i,u),Yv(l,f))),zv(Lv(zv(Yv(c,u),Yv(h,f))),zv(Yv(i,i),Yv(l,l))),zv(zv(zv(Rv(2*s,u),Yv(Lv(c),i)),zv(Rv(2*a,f),Yv(Lv(h),l))),zv(Rv(-2*e,u),Rv(-2*o,f))),zv(zv(zv(Rv(2*s,i),Rv(2*a,l)),zv(Yv(c,c),Yv(h,h))),zv(Rv(-2*e,i),Rv(-2*o,l))),Av(zv(Rv(2*s,c),Rv(2*a,h)),zv(Rv(2*e,c),Rv(2*o,h))),zv(Fv(zv(Ov(s,e),Ov(a,o))),Av(zv(zv(Ov(s,s),Ov(a,a)),zv(Ov(e,e),Ov(o,o))),Ov(r,r)))]}(t,n),e=function(t,n){const{radius:r,center:[e,o]}=t,[[u,i,c],[s,f,l]]=Ai(n),h=n[0],a=Jv(h[0]),g=Jv(h[1]),v=Jv(e),p=Jv(o);return[u*u+s*s,2*(i*u+f*s),2*(c*u+l*s)+(i*i+f*f),2*(a*u+c*i+(g*s+l*f)+(u*v+s*p)),2*(a*i+g*f)+(c*c+l*l)+2*(i*v+f*p),2*(a*c+g*l+(c*v+l*p)),2*(a*v+g*p)+(a*a+g*g+(v*v+p*p)+r*r)]}(t,n),o=jv;else if(3===n.length)r=function(t,n){const{radius:r,center:[e,o]}=t,[[u,i,[,c]],[s,f,[,l]]]=pc(n);return[zv(Yv(u,u),Yv(s,s)),zv(Yv(Lv(i),u),Yv(Lv(f),s)),zv(zv(zv(Rv(2*c,u),Rv(2*l,s)),zv(Yv(i,i),Yv(f,f))),zv(Rv(-2*e,u),Rv(-2*o,s))),zv(zv(Rv(2*c,i),Rv(2*l,f)),zv(Rv(-2*e,i),Rv(-2*o,f))),zv(zv(zv(Ov(c,c),Ov(l,l)),zv(Ov(-2*c,e),Ov(-2*l,o))),Av(zv(Ov(e,e),Ov(o,o)),Ov(r,r)))]}(t,n),e=function(t,n){const{radius:r,center:[e,o]}=t,[[u,i],[c,s]]=Fi(n),f=n[0],l=Jv(f[0]),h=Jv(f[1]),a=Jv(e),g=Jv(o);return[u*u+c*c,2*(i*u+s*c),2*(l*u+h*c)+(i*i+s*s)+2*(u*a+c*g),2*(l*i+h*s+(i*a+s*g)),l*l+h*h+2*(l*a+h*g)+(a*a+g*g+r*r)]}(t,n),o=$v;else{if(2!==n.length)throw new Error("The given bezier curve must be of order 1, 2 or 3.");r=function(t,n){const{radius:r,center:[e,o]}=t,[[u,[,i]],[c,[,s]]]=dc(n);return[zv(Yv(u,u),Yv(c,c)),Lv(Av(zv(Rv(i,u),Rv(s,c)),zv(Rv(e,u),Rv(o,c)))),zv(zv(Fv(zv(Ov(i,e),Ov(s,o))),zv(Ov(i,i),Ov(s,s))),Av(zv(Ov(e,e),Ov(o,o)),Ov(r,r)))]}(t,n),e=function(t,n){const{radius:r,center:[e,o]}=t,[[u],[i]]=Li(n),c=n[0],s=Jv(c[0]),f=Jv(c[1]),l=Jv(e),h=Jv(o);return[u*u+i*i,2*(s*u+f*i+(u*l+i*h)),2*(s*l+f*h)+(s*s+f*f)+(l*l+h*h+r*r)]}(t,n),o=Uv}return(re(r,0,1,e.map(t=>Kv*t),()=>o(t,n),!0)||[{tS:.5,tE:.5,multiplicity:1}]).map(t=>{const r=yc(n,[t.tS,t.tE]);return{p:rr(r),box:r,t:nr(t),ri:t}})}function Zv(t,n){if(0===n)return[[t[0][0]],[t[0][1]]];if(1===n)return[[t[t.length-1][0]],[t[t.length-1][1]]];const[r,e]=st(t);return[xr(r,n),xr(e,n)]}function tp(t,n){const r=t.length;if(0===n)return t[0];if(1===n)return t[r-1];const[e,o]=Kt(t);return[sn(e,n),sn(o,n)]}function np(t){const[[n,r],[e,o]]=t;return[[n,r],[(n+e)/2,(r+o)/2],[e,o]]}function rp(t,n){const[r,e]=nn(t);return[sn(r,n),sn(e,n)]}function ep(t,n){const[r,e]=lh(t);return[sn(r,n),sn(e,n)]}function op(t,n){const[r,e]=zh(t);return[xr(r,n),xr(e,n)]}function up(t,n){const[r,e]=Rh(t);return[xr(r,n),xr(e,n)]}const ip=s,cp=b;function sp(t){if(4===t.length){const[[n,r],[e,o]]=t;return[cp(3,ip(e,n)),cp(3,ip(o,r))]}if(3===t.length){const[[n,r],[e,o]]=t;return[ip(2*e,2*n),ip(2*o,2*r)]}if(2===t.length){const[[n,r],[e,o]]=t;return[ip(e,n),ip(o,r)]}if(1===t.length)return[[0],[0]];throw new Error("The given bezier curve must be of order <= 3.")}const fp=P,lp=b,hp=I;function ap(t){if(4===t.length){const[[n,r],[e,o],[u,i]]=t;return[lp(6,hp(fp(u,n),-2*e)),lp(6,hp(fp(i,r),-2*o))]}if(3===t.length){const[[n,r],[e,o],[u,i]]=t;return[hp(fp(2*u,2*n),-4*e),hp(fp(2*i,2*r),-4*o)]}if(t.length<=2)return[[0],[0]];throw new Error("The given bezier curve must be of order <= 3")}const gp=s,vp=b;function pp(t){if(4===t.length){const[n,r]=t[2],[e,o]=t[3];return[vp(3,gp(e,n)),vp(3,gp(o,r))]}if(3===t.length){const[n,r]=t[1],[e,o]=t[2];return[gp(2*e,2*n),gp(2*o,2*r)]}if(2===t.length){const[[n,r],[e,o]]=t;return[gp(e,n),gp(o,r)]}if(1===t.length)return[[0],[0]];throw new Error("The given bezier curve must be of order <= 3.")}const dp=P,bp=b,mp=I;function _p(t){if(4===t.length){const[,[n,r],[e,o],[u,i]]=t;return[bp(6,mp(dp(u,n),-2*e)),bp(6,mp(dp(i,r),-2*o))]}if(3===t.length){const[[n,r],[e,o],[u,i]]=t;return[mp(dp(2*u,2*n),-4*e),mp(dp(2*i,2*r),-4*o)]}if(t.length<=2)return[[0],[0]];throw new Error("The given bezier curve must be of order <= 3")}function Ep(t){if(4===t.length){const[[n,r],[e,o]]=t;return[3*(e-n),3*(o-r)]}if(3===t.length){const[[n,r],[e,o]]=t;return[2*(e-n),2*(o-r)]}if(2===t.length){const[[n,r],[e,o]]=t;return[e-n,o-r]}if(1===t.length)return[0,0];throw new Error("The given bezier curve must be of order <= 3.")}function Ip(t){if(4===t.length){const[[n,r],[e,o],[u,i]]=t;return[6*(u+n-2*e),6*(i+r-2*o)]}if(3===t.length){const[[n,r],[e,o],[u,i]]=t;return[2*(u+n-2*e),2*(i+r-2*o)]}if(t.length<=2)return[0,0];throw new Error("The given bezier curve must be of order <= 3")}function Np(t){if(4===t.length){const[n,r]=t[2],[e,o]=t[3];return[3*(e-n),3*(o-r)]}if(3===t.length){const[n,r]=t[1],[e,o]=t[2];return[2*(e-n),2*(o-r)]}if(2===t.length){const[[n,r],[e,o]]=t;return[e-n,o-r]}if(1===t.length)return[0,0];throw new Error("The given bezier curve must be of order <= 3.")}function Tp(t){if(4===t.length){const[,[n,r],[e,o],[u,i]]=t;return[6*(u+n-2*e),6*(i+r-2*o)]}if(3===t.length){const[[n,r],[e,o],[u,i]]=t;return[2*(u+n-2*e),2*(i+r-2*o)]}if(t.length<=2)return[0,0];throw new Error("The given bezier curve must be of order <= 3")}function Mp(t){return`[${t.map(t=>`[${t.join(",")}]`).join(",")}]`}function wp(t,n){if(4===t.length)return Eg(t,n);if(3===t.length)return yg(t,n);if(2===t.length)return Fg(t,n);throw new Error("The given bezier curve must be of order 1,2 or 3")}function xp(t,n){if(4===t.length)return ef(t,n);if(3===t.length)return of(t,n);if(2===t.length)return uf(t,n);throw new Error("The given bezier curve must be of order 1,2 or 3")}function Sp(t,n){if(4===t.length)return Wa(t,n);if(3===t.length)return ig(t,n);if(2===t.length)return ag(t,n);throw new Error("The given bezier curve must be of order 1,2 or 3")}const{sqrt:yp}=Math;function Pp(t,n=1.125,r=4){const e=Xt(t);return e.collinear?Iv(t)?Number.POSITIVE_INFINITY:0:3===e.realOrder?"cusp"===e.nodeType?Number.POSITIVE_INFINITY:Bp(Op,t,n,r):2===e.realOrder?Bp(zp,t,n,r):0}function Bp(t,n,r,e){const o=wn(n,r);let u=0;for(let r=0;r<o.length-1;r++)u+=un(t(Mn(n,o[r],o[r+1])),[0,1],e);return u}function Op(t){const n=t[0],r=t[1],e=t[2],o=t[3],u=n[0],i=n[1],c=r[0],s=r[1],f=e[0],l=e[1],h=o[0],a=o[1],g=h-u+3*(c-f),v=a-i+3*(s-l),p=f+u-2*c,d=l+i-2*s;return t=>{const n=t*t,r=n*g+2*t*p+(c-u),e=n*v+2*t*d+(s-i),o=r*(t*v+d)-e*(t*g+p),f=r*r+e*e;return 4/3*o*o/(f*f*yp(f))}}function zp(t){const n=t[0],r=t[1],e=t[2],o=n[0],u=n[1],i=r[0],c=r[1],s=e[0],f=e[1],l=s-2*i+o,h=f-2*c+u;return t=>{const n=l*t+(i-o),r=h*t+(c-u),e=n*h-r*l,s=n*n+r*r;return.5*e*e/(s*s*yp(s))}}const{cos:Lp,sin:Fp}=Math;function Ap(t){const{α:n,β:r,s0:e,s1:o,L:u,rot:i,p:c}=t;return uh([[u*(e*Lp(n)-2+o*Lp(r)),u*(3-2*e*Lp(n)-o*Lp(r)),u*(e*Lp(n)),0*u],[u*(e*Fp(n)+o*Fp(r)),u*(-2*e*Fp(n)-o*Fp(r)),u*(e*Fp(n)),0*u]]).map(Mv(Fp(i),Lp(i))).map(Af(c))}function Yp(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}const{cos:Rp,sin:Vp,atan2:qp}=Math;function Gp(t){const n=t[0];t=t.map(Af(function(t){return[-t[0],-t[1]]}(n)));const[r,e]=[t[3][0],t[3][1]],o=qp(e,r),u=(t=t.map(Mv(Vp(-o),Rp(-o))))[3][0];t=t.map(t=>function(t,n){return[n*t[0],n*t[1]]}(t,1/u));const i=t[1],c=[1-t[2][0],-t[2][1]];return{α:qp(i[1],i[0]),β:qp(c[1],c[0]),s0:3*Yp(i),s1:3*Yp(c),L:u,rot:o,p:n}}function Dp(t){const n=t[0],r=t[1],e=t[2],o=t[3],u=Yp([o[0]-n[0],o[1]-n[1]]),i=Xf(n,r),c=Xf(o,e);return[3*Yp(i)/u,3*Yp(c)/u]}function Cp(t,n,r){const e=t[0],o=t[1],u=t[2],i=t[3],c=Yp([i[0]-e[0],i[1]-e[1]]),s=Xf(e,o),f=Xf(i,u);return[e,Af(e,jf(s,n/3*c)),Af(i,jf(f,r/3*c)),i]}const{min:kp,max:Hp}=Math;function Qp(t){return kp(t.dL-t.eL,t.dR-t.eR)}function Xp(t,n){const r=Qp(n)-Qp(t);return 0!==r?r:t.tS-n.tS}const{min:jp,max:$p}=Math;function Up(t,n,r,e=50){if(1===t.length){const r=If(n,t[0]);return[{pA:{p:t[0],t:0},pB:r,d:r.d}]}if(1===n.length){const r=If(t,n[0]);return[{pA:r,pB:{p:n[0],t:0},d:r.d}]}if(2===t.length&&2===n.length){const r=If(n,t[0]),e=If(n,t[1]),o=If(t,n[0]),u=If(t,n[1]),i=[r,e,o,u].sort((t,n)=>t.d-n.d)[0].d,c=[];return r.d===i&&c.push({pA:{p:t[0],t:0},pB:r,d:i}),e.d===i&&c.push({pA:{p:t[1],t:1},pB:e,d:i}),o.d===i&&c.push({pA:o,pB:{p:n[0],t:0},d:i}),u.d===i&&c.push({pA:u,pB:{p:n[1],t:1},d:i}),c}const o=$p(Mf(t),Mf(n));r=r||o/1e6;const[u,i]=Jp(t,0,1),c={tS:0,tE:1,dL:If(n,t[0]).d,dR:If(n,t[t.length-1]).d,eL:u,eR:i,pL:t[0],pR:t[t.length-1]},s=new Sf(Xp);s.insert(c);let f,l=0,h=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;for(;;){const o=s.heap[0],{tS:u,tE:i,dL:c,dR:g,pL:v,pR:p}=o,d=(u+i)/2,[b,m]=Jp(t,u,d),[_,E]=Jp(t,d,i),I=Tc(t,d),N=If(n,I),T=en(I,N.p),M=jp(c,T,g);if(M<h&&(h=M,c<=T&&c<=g?f={pA:{p:v,t:u},pB:N,d:M}:T<=c&&T<=g?f={pA:{p:I,t:d},pB:N,d:M}:g<=c&&g<=T&&(f={pA:{p,t:i},pB:N,d:M})),a=Qp(o),h-a<r)return[f];if(l++>e)return[f];const w={tS:u,tE:d,dL:c,dR:T,eL:b,eR:m,pL:v,pR:I},x={tS:d,tE:i,dL:T,dR:g,eL:_,eR:E,pL:I,pR:p};s.swapMinOrMax(w),s.insert(x)}}function Jp(t,n,r){const e=(r+n)/2,o=Mn(t,n,e),u=Mn(t,e,r);return[rf(o),rf(u)]}export{vl as areBoxesIntersecting,rn as area,Ws as bezierBezierIntersection,mi as bezierBezierIntersectionBoundless,al as bezierBezierIntersectionFast,Zc as bezierSelfIntersection,Wv as circleBezierIntersection,Qt as classification,Ht as classifications,Xt as classify,Ln as clone,If as closestPointOnBezier,Cg as closestPointOnBezierCertified,Up as closestPointsBetweenBeziers,rf as controlPointLinesLength,Ap as cubicFromAnglesAndSpeeds,fh as cubicThroughPointGiven013,Gp as cubicToAnglesAndSpeeds,Bv as cubicToHybridQuadratic,Zn as cubicToQuadratic,Uh as curvature,Tn as curviness,oa as ddCurvature,Kh as eCurvature,Vn as equal,Tc as evalDeCasteljau,Ml as evalDeCasteljauDd,wc as evalDeCasteljauError,ml as evalDeCasteljauWithErr,yl as evalDeCasteljauWithErrDd,tp as evaluate,ep as evaluate2ndDerivative,Ip as evaluate2ndDerivativeAt0,ap as evaluate2ndDerivativeAt0Exact,Tp as evaluate2ndDerivativeAt1,_p as evaluate2ndDerivativeAt1Exact,up as evaluate2ndDerivativeExact,Zv as evaluateExact,Kl as evaluateImplicit1,Hl as evaluateImplicit2,Al as evaluateImplicit3,nf as fitQuadsToCubic,Lf as fitQuadsToCubicHausdorff,uh as fromPowerBasis,Mn as fromTo,Qn as fromToInclErrorBound,Tf as furthestPointOnBezier,ch as generateCuspAtHalf3,Yf as generateQuarterCircle,sh as generateSelfIntersecting,tf as getAbsAreaBetween,Pp as getBendingEnergy,yv as getBoundingBox,Pv as getBoundingBoxTight,a as getBoundingHull,Tv as getBounds,bi as getCoeffsBezBez,Ff as getControlPointBox,Dp as getCubicSpeeds,Xg as getCurvatureExtrema,cv as getCurvatureExtremaDd,_v as getCurvatureExtremaE,Us as getEndpointIntersections,Hg as getFootPointsOnBezierCertified,Gg as getFootPointsOnBezierPolysCertified,xp as getFootpointPoly,Sp as getFootpointPolyDd,wp as getFootpointPolyExact,ih as getHodograph,Wl as getImplicitForm1,rh as getImplicitForm1Dd,Ie as getImplicitForm1DdWithRunningError,oh as getImplicitForm1ErrorCounters,Uo as getImplicitForm1Exact,Bi as getImplicitForm2,Jl as getImplicitForm2Dd,Ae as getImplicitForm2DdWithRunningError,Ri as getImplicitForm2ErrorCounters,cu as getImplicitForm2Exact,$i as getImplicitForm3,kl as getImplicitForm3Dd,We as getImplicitForm3DdWithRunningError,Ji as getImplicitForm3ErrorCounters,Tu as getImplicitForm3Exact,Pl as getInflections,In as getInterfaceRotation,yc as getIntervalBox,Va as getIntervalBoxDd,Rn as getTAtLength,xv as getXBoundsTight,Sv as getYBoundsTight,zf as hausdorffDistance,Pf as hausdorffDistanceOneSided,Oc as intersectBoxes,k as isCollinear,J as isCubicReallyLine,D as isCubicReallyQuad,H as isHorizontal,cc as isPointOnBezierExtension,ia as isQuadObtuse,F as isQuadReallyLine,y as isReallyPoint,Iv as isSelfOverlapping,Q as isVertical,On as length,Xh as lineToCubic,np as lineToQuadratic,Mf as maxAbsCoordinate,Hh as normal,Qh as normal2,jh as quadraticToCubic,aa as quadraticToPolyline,ts as reduceOrderIfPossible,Fl as reverse,Cp as setCubicSpeeds,wn as splitByCurvature,Ev as splitByCurvatureAndLength,Qg as splitByLength,Ic as tFromXY,rp as tangent,Ep as tangentAt0,sp as tangentAt0Exact,Np as tangentAt1,pp as tangentAt1Exact,op as tangentExact,$h as toCubic,Kt as toPowerBasis,at as toPowerBasis0Exact,pe as toPowerBasis1DdWithRunningError,ht as toPowerBasis1Exact,ve as toPowerBasis2DdWithRunningError,lt as toPowerBasis2Exact,ge as toPowerBasis3DdWithRunningError,ft as toPowerBasis3Exact,gc as toPowerBasisDd,ae as toPowerBasisDdWithRunningError,zi as toPowerBasisErrorCounters,st as toPowerBasisExact,W as toPowerBasisWithRunningError,nn as toPowerBasis_1stDerivative,bh as toPowerBasis_1stDerivativeDd,kh as toPowerBasis_1stDerivativeErrorCounters,zh as toPowerBasis_1stDerivativeExact,lh as toPowerBasis_2ndDerivative,Nh as toPowerBasis_2ndDerivativeDd,Rh as toPowerBasis_2ndDerivativeExact,hh as toPowerBasis_3rdDerivative,xh as toPowerBasis_3rdDerivativeDd,Dh as toPowerBasis_3rdDerivativeExact,Mp as toString,zl as totalAbsoluteCurvature,Ll as totalCurvature,zn as totalLength,x as γ,S as γγ,Jh as κ};