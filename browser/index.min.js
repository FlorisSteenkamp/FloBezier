!function(r){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.FloBezier3=r()}}(function(){var r;return function r(t,n,e){function o(a,i){if(!n[a]){if(!t[a]){var f="function"==typeof require&&require;if(!i&&f)return f(a,!0);if(u)return u(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var v=n[a]={exports:{}};t[a][0].call(v.exports,function(r){var n=t[a][1][r];return o(n||r)},v,v.exports,r,t,n,e)}return n[a].exports}for(var u="function"==typeof require&&require,a=0;a<e.length;a++)o(e[a]);return o}({1:[function(r,t,n){"use strict";function e(r){if(Array.isArray(r)){for(var t=0,n=Array(r.length);t<r.length;t++)n[t]=r[t];return n}return Array.from(r)}function o(r){var t=k(r,2),n=k(t[0],2),e=n[0],o=n[1],u=k(t[1],2),a=u[0],i=u[1],f=(a-e)/3,c=(i-o)/3;return[[e,o],[e+f,o+c],[e+2*f,o+2*c],[a,i]]}function u(r,t){function n(r){return 0===r?[u,a]:1===r?[f,c]:[v(r),s(r)]}var e=k(r,4),o=k(e[0],2),u=o[0],a=o[1],i=k(e[3],2),f=i[0],c=i[1],v=p(r),s=g(r);return void 0===t?n:n(t)}function a(r,t){function n(r){var t=e(r),n=o(r),i=u(r);return(t*a(r)-n*i)/Math.sqrt(Math.pow(t*t+n*n,3))}var e=m(r),o=b(r),u=y(r),a=M(r);return void 0===t?n:n(t)}function i(r,t){function n(r){var t=e(r),n=o(r),i=u(r);return(t*a(r)-n*i)/(t*t+n*n)}var e=m(r),o=b(r),u=y(r),a=M(r);return void 0===t?n:n(t)}function f(r,t){function n(r){var t=r*r,n=1-r,e=t*h,o=t*p,i=2*r-3*t,v=(3*r-1)*n,d=n*n,g=3*(e+i*s-v*f-d*u),m=3*(o+i*l-v*c-d*a),b=6*(r*p-(3*r-1)*l+(3*r-2)*c+n*a),y=Math.sqrt(g*g+m*m);return 4*(g*(p-3*l+3*c-a)-m*(h-3*s+3*f-u))*Math.pow(y,3)-(g*b-o*m)*(2*b*m+2*o*g)*y}var e=k(r,4),o=k(e[0],2),u=o[0],a=o[1],i=k(e[1],2),f=i[0],c=i[1],v=k(e[2],2),s=v[0],l=v[1],d=k(e[3],2),h=d[0],p=d[1];return void 0===t?n:n(t)}function c(r,t){function n(r){var t=e(r),n=o(r),u=Math.sqrt(t*t+n*n);return[t/u,n/u]}var e=m(r),o=b(r);return void 0===t?n:n(t)}function v(r,t){function n(r){var t=e(r);return[t[1],-t[0]]}var e=c(r);return void 0===t?n:n(t)}function s(r,t){function n(r){}c(r);return void 0===t?n:void 0}function l(r,t){function n(t){if(r[0]===r[1])return 0;var n=k(t,4),e=k(n[0],2),o=e[0],u=e[1],a=k(n[1],2),i=a[0],f=a[1],c=k(n[2],2),v=c[0],s=c[1],l=k(n[3],2),d=l[0],p=l[1];if(o===i&&i===v&&v===d&&u===f&&f===s&&s===p)return 0;var g=h(t);return W(g,r)}return void 0===t?n:n(t)}function d(r,t){function n(r){return z.brent(function(t){return e(t)-r},0,1)}var e=function(t){return l([0,t],r)};return void 0===t?n:n(t)}function h(r,t){function n(r){var t=e(r),n=o(r);return Math.sqrt(t*t+n*n)}var e=m(r),o=b(r);return void 0===t?n:n(t)}function p(r,t){function n(t){return 0===t?r[0][0]:1===t?r[3][0]:o(t)}var e=$(r),o=z.evaluate(e);return void 0===t?n:n(t)}function g(r,t){function n(t){return 0===t?r[0][1]:1===t?r[3][1]:o(t)}var e=rr(r),o=z.evaluate(e);return void 0===t?n:n(t)}function m(r,t){var n=tr(r),e=z.evaluate(n);return void 0===t?e:e(t)}function b(r,t){var n=nr(r),e=z.evaluate(n);return void 0===t?e:e(t)}function y(r,t){var n=er(r),e=z.evaluate(n);return void 0===t?e:e(t)}function M(r,t){var n=or(r),e=z.evaluate(n);return void 0===t?e:e(t)}function I(r,t){var n=ur(r),e=z.evaluate(n);return void 0===t?e:e(t)}function w(r,t){var n=ar(r),e=z.evaluate(n);return void 0===t?e:e(t)}function N(r,t,n){var e=G.transform(r[0],function(r){return-r}),o=G.translateThenRotatePs(e,-t,n,r);return sr(o)}function x(r){return function(t,n){if(t===n){var e=u(r,t);return[e,e,e,e]}return T(j(r,t),(n-t)/(1-t))}}function T(r,t){var n=k(r,4),e=k(n[0],2),o=e[0],u=e[1],a=k(n[1],2),i=a[0],f=a[1],c=k(n[2],2),v=c[0],s=c[1],l=k(n[3],2),d=l[0],h=l[1],p=1-t,g=t*t,m=g*t,b=p*p,y=b*p;return[[o,u],[t*i+p*o,t*f+p*u],[g*v+2*p*t*i+b*o,g*s+2*p*t*f+b*u],[m*d+3*p*g*v+3*b*t*i+y*o,m*h+3*p*g*s+3*b*t*f+y*u]]}function j(r,t){var n=k(r,4),e=k(n[0],2),o=e[0],u=e[1],a=k(n[1],2),i=a[0],f=a[1],c=k(n[2],2),v=c[0],s=c[1],l=k(n[3],2),d=l[0],h=l[1],p=1-t,g=t*t,m=g*t,b=p*p,y=b*p;return[[m*d+3*p*g*v+3*b*t*i+y*o,m*h+3*p*g*s+3*b*t*f+y*u],[g*d+2*t*p*v+b*i,g*h+2*t*p*s+b*f],[t*d+p*v,t*h+p*s],[d,h]]}function S(r,t){var n=k(r,4),e=k(n[0],2),o=e[0],u=e[1],a=k(n[1],2),i=a[0],f=a[1],c=k(n[2],2),v=c[0],s=c[1],l=k(n[3],2),d=l[0],h=l[1],p=1-t,g=t*t,m=g*t,b=p*p,y=b*p,M=[[o,u],[t*i+p*o,t*f+p*u],[g*v+2*p*t*i+b*o,g*s+2*p*t*f+b*u],[m*d+3*p*g*v+3*b*t*i+y*o,m*h+3*p*g*s+3*b*t*f+y*u]];return[M,[M[3],[g*d+2*t*p*v+b*i,g*h+2*t*p*s+b*f],[t*d+p*v,t*h+p*s],[d,h]]]}function E(r,t){return r.map(function(r){return[r[0]*t,r[1]*t]})}function A(r,t){var n=k(t,2),e=k(n[0],2),o=e[0],u=e[1],a=k(n[1],2),i=a[0],f=a[1],c=i-o,v=f-u;if(0===c&&0===v)return[];r=K([-o,-u],r);var s=Math.sqrt(c*c+v*v);return r=J(-v/s,c/s,r),z.allRoots(rr(r),0,1)}function B(r,t){return r=r.map(function(r){return[r[0],r[1]-t]}),z.allRoots(rr(r),0,1)}function _(r,t){return r=r.map(function(r){return[r[0]-t,r[1]]}),z.allRoots($(r),0,1)}function O(r){var t=k(r,4),n=k(t[0],2),e=n[0],o=n[1],u=k(t[1],2),a=u[0],i=u[1],f=k(t[2],2),c=f[0],v=f[1],s=k(t[3],2),l=s[0],d=s[1];return[[.95*e+.15*a+-.15*c+.05*l,.95*o+.15*i+-.15*v+.05*d],[-.25*e+.75*a+.75*c+-.25*l,-.25*o+.75*i+.75*v+-.25*d],[.05*e+-.15*a+.15*c+.95*l,.05*o+-.15*i+.15*v+.95*d]]}function R(r){var t=k(r,4),n=k(t[0],2),e=n[0],o=n[1],u=k(t[1],2),a=u[0],i=u[1],f=k(t[2],2),c=f[0],v=f[1],s=k(t[3],2),l=s[0],d=s[1];return[[e,o],[[(3*a-e)/2,(3*i-o)/2],[(3*c-l)/2,(3*v-d)/2]],[l,d]]}function P(r,t,n){var e=k(r,3),o=e[0],u=k(e[1],2),a=k(u[0],2),i=(a[0],a[1],k(u[1],2)),f=(i[0],i[1],e[2]);return D([o,L(r[1],n),f],t)}function L(r,t){var n=k(r,2),e=k(n[0],2),o=e[0],u=e[1],a=k(n[1],2);return[o*(1-t)+a[0]*t,u*(1-t)+a[1]*t]}function q(r){var t=k(r,4),n=k(t[0],2),e=n[0],o=n[1],u=k(t[1],2),a=u[0],i=u[1],f=k(t[2],2),c=f[0],v=f[1],s=k(t[3],2);return[[e,o],[a,i],[c,v],[s[0],s[1]]]}function D(r,t){var n=k(r,3),e=k(n[0],2),o=e[0],u=e[1],a=k(n[1],2),i=a[0],f=a[1],c=k(n[2],2),v=c[0],s=c[1];return[o*Math.pow(1-t,2)+2*i*(1-t)*t+v*Math.pow(t,2),u*Math.pow(1-t,2)+2*f*(1-t)*t+s*Math.pow(t,2)]}function Y(r){var t=k(r,3),n=k(t[0],2),e=n[0],o=n[1],u=k(t[1],2),a=u[0],i=u[1],f=k(t[2],2),c=f[0],v=f[1];return[[e,o],[1/3*e+2/3*a,1/3*o+2/3*i],[2/3*a+1/3*c,2/3*i+1/3*v],[c,v]]}function C(r,t,n){function e(r,t,n){var e=u(r)(n),o=v(r)(0),a=G.translate(e,o),i=A(t,[e,a]),f=void 0,c=void 0,s=Number.POSITIVE_INFINITY,l=!0,d=!1,h=void 0;try{for(var p,g=i[Symbol.iterator]();!(l=(p=g.next()).done);l=!0){var m=p.value,b=u(t)(m),y=G.distanceBetween(b,e);y<s&&(f=m,c=b,s=y)}}catch(r){d=!0,h=r}finally{try{!l&&g.return&&g.return()}finally{if(d)throw h}}return{pp:e,t:f,p:c,d:s}}void 0===n&&(n=1e-6);var o=k(r,4),a=(o[0],o[1],o[2],o[3],k(t,4)),i=(a[0],a[1],a[2],a[3],e(r,t,0)),f=(i.pp,i.t),c=(i.p,i.d),s=e(r,t,1),l=(s.pp,s.t),d=(s.p,s.d),h=e(t,r,0),p=(h.pp,h.t),g=(h.p,h.d),m=e(t,r,1),b=(m.pp,m.t),y=(m.p,m.d),M=0,I=1,w=0,N=1,x=0;if(c<=n&&(M=f,x++),d<=n&&(I=l,x++),g<=n&&(w=p,x++),y<=n&&(N=b,x++),!(x<2)){if(w>N){var T=[N,w];w=T[0],N=T[1]}if(M>I){var j=[I,M];M=j[0],I=j[1]}for(var S=N-w,E=1;E<10;E++){var B=w+S*(E/10),_=e(r,t,B);_.pp,_.t,_.p;if(_.d>n)return}return{p:[w,N],q:[M,I]}}}function F(r,t,n,o){function a(o,u,v,s,d){var h=0===d?1:0,p=f(u,o),g=k(p,2);u=g[0],o=g[1];var m=o,b=k(m,4),y=b[0],M=(b[1],b[2],b[3]),I=u,w=k(I,4),N=(w[0],w[1],w[2],w[3],Q([y,M])),T=function(r){return N(o[r])},j=[1,2].map(T),S=k(j,2),E=S[0],A=S[1],B=E*A>0?.75:4/9,_=B*Math.min(0,E,A),O=B*Math.max(0,E,A),R=i(u,N,_,O),P=R.tMin,L=R.tMax;if(P!==Number.POSITIVE_INFINITY){if(L-P>.7){var q=s[1]-s[0],D=v[1]-v[0];if(void 0!==C(u,o))return;if(q<=D){h=d;var Y=[o,u];u=Y[0],o=Y[1];var F=[v,s];s=F[0],v=F[1]}var V=s[1]-s[0],U=s[0],z=U+V/2,G=z,H=s[1],W=x(u)(0,.5),X=x(u)(.5,1);return a(W,o,[U,z],v,h),void a(X,o,[G,H],v,h)}var J=s[1]-s[0],K=P*J+s[0],Z=L*J+s[0];if(u=x(u)(P,L),Math.abs(Z-K)<n){var $=(Z+K)/2,rr=c.apply(void 0,[$].concat(e([[r,t],[t,r]][d])));if(void 0===rr)return;return void l.push([[rr,$],[$,rr]][d])}a(u,o,[K,Z],v,h)}}function i(r,t,n,o){var u=function(n){return t(r[n])},a=[0,1,2,3].map(u),i=k(a,4),f=(i[0],i[1],i[2],i[3],R(r)),c=t(f[0]),v=t(f[2]),s=t(f[1][0]),l=t(f[1][1]),d=Math.min(s,l),h=Math.max(s,l),p=[c-2*d+v,-2*c+2*d,c],g=[c-2*h+v,-2*c+2*h,c],m=2*Math.max(z.hornerErrorBound(p,1),z.hornerErrorBound(g,1));n-=m,o+=m;var b=p.slice();b[2]=b[2]-n;var y=p.slice();y[2]=y[2]-o;var M=g.slice();M[2]=M[2]-n;var I=g.slice();I[2]=I[2]-o;var w=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY,x=z.allRoots(b,0,1),T=z.allRoots(y,0,1),j=z.allRoots(M,0,1),S=z.allRoots(I,0,1);return w=Math.min.apply(Math,e(x).concat(e(T),e(j),e(S))),N=Math.max.apply(Math,e(x).concat(e(T),e(j),e(S))),c>=n&&c<=o&&(w=0),v>=n&&v<=o&&(N=1),w<0&&(w=0),N>1&&(N=1),{tMin:w,tMax:N}}function f(r,t){var n=r,e=k(n,4),o=e[0],u=e[1],a=e[2],i=e[3],f=t,c=k(f,4),s=c[0],l=c[1],d=c[2],h=c[3],p=v(o,u)+v(u,a)+v(a,i),g=v(s,l)+v(l,d)+v(d,h),m=void 0,b=void 0;return g<p?(m=(s[0]+l[0]+d[0]+h[0])/4,b=(s[1]+l[1]+d[1]+h[1])/4):(m=(o[0]+u[0]+a[0]+i[0])/4,b=(o[1]+u[1]+a[1]+i[1])/4),r=r.map(function(r){return[r[0]-m,r[1]-b]}),t=t.map(function(r){return[r[0]-m,r[1]-b]}),[r,t]}function c(r,t,n){var e=u(t)(r),o=k(e,2),a=o[0],i=o[1],f=B(n,i),c=_(n,a);if(f.length||c.length){var s=[].concat(f,c),l=void 0,d=Number.POSITIVE_INFINITY,h=!0,p=!1,g=void 0;try{for(var m,b=s[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){var y=m.value,M=u(n)(y),I=v(e,M);I<d&&(d=I,l=y)}}catch(r){p=!0,g=r}finally{try{!h&&b.return&&b.return()}finally{if(p)throw g}}return l}}var v=(G.distanceBetween,G.squaredDistanceBetween),s=24*Number.EPSILON;void 0===n&&(n=0),n=Math.max(n,s),void 0===o&&(o=1e-6),o=Math.max(o,1e-6);var l=[];return a(r,t,[0,1],[0,1],1,0),l}function V(r){var t=k(r,2),n=k(t[0],2),e=n[0],o=n[1],u=k(t[1],2),a=u[0],i=u[1];return[o-i,a-e,e*i-a*o]}function Q(r){var t=V(r),n=k(t,3),e=n[0],o=n[1],u=n[2];return function(r){return e*r[0]+o*r[1]+u}}function U(r){return r.slice().reverse()}var k=function(){function r(r,t){var n=[],e=!0,o=!1,u=void 0;try{for(var a,i=r[Symbol.iterator]();!(e=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);e=!0);}catch(r){o=!0,u=r}finally{try{!e&&i.return&&i.return()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),z=r("flo-poly"),G=r("flo-vector2d"),H=r("flo-memoize"),W=r("flo-gauss-quadrature"),X=r("flo-graham-scan"),J=G.rotatePs,K=G.translatePs,Z=H.m1,$=Z(function(r){var t=k(r,4),n=k(t[0],1),e=n[0],o=k(t[1],1),u=o[0],a=k(t[2],1),i=a[0];return[k(t[3],1)[0]-3*i+3*u-e,3*i-6*u+3*e,3*u-3*e,e]}),rr=Z(function(r){var t=k(r,4),n=k(t[0],2),e=n[1],o=k(t[1],2),u=o[1],a=k(t[2],2),i=a[1];return[k(t[3],2)[1]-3*i+3*u-e,3*i-6*u+3*e,3*u-3*e,e]}),tr=Z(function(r){return z.differentiate($(r))}),nr=Z(function(r){return z.differentiate(rr(r))}),er=Z(function(r){return z.differentiate(tr(r))}),or=Z(function(r){return z.differentiate(nr(r))}),ur=Z(function(r){return z.differentiate(er(r))}),ar=Z(function(r){return z.differentiate(or(r))}),ir=Z(X),fr=a,cr=Z(function(r){var t={};return function(n){var e=n||[0,1],o=e[0]+", "+e[1];if(t[o])return t[o];var u=W(function(t){return Math.abs(i(r)(t))},e);return t[o]=u,u}}),vr=Z(function(r){var t=k(r,4),n=k(t[0],2),e=n[0],o=n[1],u=k(t[1],2),a=(u[0],u[1],k(t[2],2)),i=(a[0],a[1],k(t[3],2)),f=i[0],c=i[1],v=Math.sqrt((f-e)*(f-e)+(c-o)*(c-o)),s=(c-o)/v,l=(f-e)/v,d=N(r,s,l),h=k(d,2),p=k(h[0],2),g=p[0],m=p[1],b=k(h[1],2),y=b[0],M=b[1],I=[d[0],[y,m],d[1],[g,M]];return G.rotateThenTranslatePs(s,l,r[0],I)}),sr=Z(function(r){return lr(r).box}),lr=Z(function(r){var t=[tr(r),nr(r)].map(function(r){return z.allRoots(r,0,1)});t[0].push(0,1),t[1].push(0,1);for(var n=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,a=void 0,i=void 0,f=void 0,c=void 0,v=0;v<t[0].length;v++){var s=t[0][v],l=p(r,s);l<n&&(n=l,a=s),l>e&&(e=l,f=s)}for(var d=0;d<t[1].length;d++){var h=t[1][d],m=g(r,h);m<o&&(o=m,i=h),m>u&&(u=m,c=h)}return{ts:[[a,i],[f,c]],box:[[n,o],[e,u]]}}),dr={rotate:J,getX:$,getY:rr,getDx:tr,getDy:nr,getDdx:er,getDdy:or,getDddx:ur,getDddy:ar,getBounds:lr,bezier3Intersection:F,lineIntersection:A,tsAtX:_,tsAtY:B,getBoundingHull:ir,fromLine:o,translate:K,evaluate:u,"κ":a,"dκMod":f,curvature:fr,tangent:c,normal:v,totalCurvature:s,totalAbsoluteCurvature:cr,length:l,getTAtLength:d,evaluateX:p,evaluateY:g,evaluateDx:m,evaluateDy:b,evaluateDdx:y,evaluateDdy:M,evaluateDddx:I,evaluateDddy:w,getBoundingBoxTight:vr,getBoundingBox:sr,fromTo:x,splitAt:S,scale:E,toCubic:Y,toQuadratic:O,toHybridQuadratic:R,evaluateHybridQuadratic:P,evaluateQuadratic:D,evaluateLinear:L,coincident:C,from0ToT:T,fromTTo1:j,clone:q,reverse:U};t.exports=dr},{"flo-gauss-quadrature":2,"flo-graham-scan":3,"flo-memoize":4,"flo-poly":5,"flo-vector2d":6}],2:[function(r,t,n){"use strict";function e(r,t,n){if(n=void 0===n?16:n,t[0]===t[1])return 0;for(var e=u[n],a=e.weights,i=e.abscissas,f=o(t,2),c=f[0],v=f[1],s=0,l=(v-c)/2,d=(v+c)/2,h=0;h<=n-1;h++)s+=a[h]*r(l*i[h]+d);return l*s}var o=function(){function r(r,t){var n=[],e=!0,o=!1,u=void 0;try{for(var a,i=r[Symbol.iterator]();!(e=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);e=!0);}catch(r){o=!0,u=r}finally{try{!e&&i.return&&i.return()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u={2:{weights:[1,1],abscissas:[-.5773502691896257,.5773502691896257]},4:{weights:[.6521451548625461,.6521451548625461,.3478548451374538,.3478548451374538],abscissas:[-.3399810435848563,.3399810435848563,-.8611363115940526,.8611363115940526]},8:{weights:[.362683783378362,.362683783378362,.3137066458778873,.3137066458778873,.2223810344533745,.2223810344533745,.1012285362903763,.1012285362903763],abscissas:[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363]},16:{abscissas:[-.9894009349916499,-.9445750230732326,-.8656312023878318,-.755404408355003,-.6178762444026438,-.45801677765722737,-.2816035507792589,-.09501250983763744,.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499],weights:[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685,.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]}};t.exports=e},{}],3:[function(r,t,n){"use strict";function e(r,t){for(var n=[],e=0;e<r.length;e++)n.push(e);n.sort(function(n,e){var o=t(r[n],r[e]);return 0!==o?o:n-e});for(var o=[],u=0;u<r.length;u++)o.push(r[n[u]]);return o}function o(r,t,n){if(t!==n){var e=r[t];r[t]=r[n],r[n]=e}}function u(r){for(var t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],n=void 0,e=0;e<r.length;e++){var o=r[e][1];(o<t[1]||o===t[1]&&r[e][0]<t[0])&&(n=e,t=r[e])}return n}function a(r,t,n){t=!!t,n=void 0===n?c:n;var a=r.slice(),v=a.length,s=u(a),l=a.splice(s,1),d=i(l,1),h=d[0];a=e(a,function(r,t){var e=f.cross(f.fromTo(h,t),f.fromTo(h,r));return 0!==(e=Math.abs(e)<n?0:e)?e:(e=r[1]-t[1],e=Math.abs(e)<n?0:e,0!==e?e:r[0]-t[0])}),a.unshift(h);for(var p=1,g=2;g<v;g++){for(;function(r,e,o){var u=f.ccw(r,e,o,n);return t?u<0:u<=0}(a[p-1],a[p],a[g]);)if(p>1)p-=1;else{if(g===v-1){p-=1;break}g+=1}p+=1,o(a,p,g)}return a.slice(0,p+1)}var i=function(){function r(r,t){var n=[],e=!0,o=!1,u=void 0;try{for(var a,i=r[Symbol.iterator]();!(e=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);e=!0);}catch(r){o=!0,u=r}finally{try{!e&&i.return&&i.return()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=r("flo-vector2d"),c=1e-10;t.exports=a},{"flo-vector2d":6}],4:[function(r,t,n){"use strict";function e(r){if(!u)return r;var t=new WeakMap;return function(n){var e=t.get(n);return void 0!==e?e:(e=r(n),t.set(n,e),e)}}var o={m1:e},u="function"==typeof WeakMap;t.exports=o},{}],5:[function(t,n,e){(function(o){!function(t){if("object"==typeof e&&void 0!==n)n.exports=t();else if("function"==typeof r&&r.amd)r([],t);else{var u;u="undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:this,u.FloPoly=t()}}(function(){return function r(n,e,o){function u(i,f){if(!e[i]){if(!n[i]){var c="function"==typeof t&&t;if(!f&&c)return c(i,!0);if(a)return a(i,!0);var v=new Error("Cannot find module '"+i+"'");throw v.code="MODULE_NOT_FOUND",v}var s=e[i]={exports:{}};n[i][0].call(s.exports,function(r){var t=n[i][1][r];return u(t||r)},s,s.exports,r,n,e,o)}return e[i].exports}for(var a="function"==typeof t&&t,i=0;i<o.length;i++)u(o[i]);return u}({1:[function(r,t,n){"use strict";function e(r,t,n){r=s(r),t=void 0===t?-g:t,n=void 0===n?+g:n;var a=r.length-1,i=o(t,n);if(2===a)return v(r).filter(i);if(a>2){var f=void 0,c=void 0;t===-g||n===+g?(f=t===-g?p(r):t,c=n===+g?h(r):n):(f=t,c=n);var l=d(r),m=e(l,f,c).filter(i);return m[0]!==f&&m.unshift(f),m[m.length-1]!==c&&m.push(c),u(r,m)}return 1===a?[-r[1]/r[0]].filter(i):[]}function o(r,t){return function(n){return n>=r&&n<=t}}function u(r,t){for(var n=[],e=l(r),o=void 0,u=t[0],a=1;a<t.length;a++){var i=void 0,f=t[a],v=e(u),s=e(f);0===v*s?0===v?i=u:0===s&&a===t.length-1&&(i=f):v*s<0&&(i=c(e,u,f)),void 0!==i&&i!==o&&(n.push(i),o=i),u=f}return n}var a=r("./core-operators.js"),i=r("./root-operators.js"),f=r("./root-bounds.js"),c=i.brent,v=i.quadraticRoots,s=a.clip0,l=a.evaluate,d=a.differentiate,h=(a.toCasStr,f.rootMagnitudeUpperBound_fujiwara,f.positiveRootUpperBound_LMQ),p=(f.positiveRootLowerBound_LMQ,f.negativeRootUpperBound_LMQ,f.negativeRootLowerBound_LMQ),g=Number.POSITIVE_INFINITY;t.exports=e},{"./core-operators.js":2,"./root-bounds.js":7,"./root-operators.js":8}],2:[function(r,t,n){"use strict";function e(r,t){if(r.length!==t.length)return!1;for(var n=0;n<r.length;n++)if(r[n]!==t[n])return!1;return!0}function o(r,t){var n=r.length-1,e=t.length-1,o=n-e,u=0,a=0;o>0?a=-o:o<0&&(u=+o);for(var i=Math.max(n,e),f=[],c=0;c<i+1;c++){var v=r[c+u],s=t[c+a];f.push((v||0)+(s||0))}return M(f)}function u(r,t){var n=r.length-1,e=t.length-1,o=n-e,u=0,a=0;o>0?a=-o:o<0&&(u=+o);for(var i=Math.max(n,e),f=[],c=0;c<i+1;c++){var v=r[c+u],s=t[c+a];f.push((v||0)-(s||0))}return M(f)}function a(r){return c(-1,r)}function i(r){for(var t=[],n=r.length-1,e=0;e<n;e++)t.push((n-e)*r[e]);return t}function f(r,t){for(var n=r.length-1,e=t.length-1,o=n+e,u=new Array(o+1).fill(0),a=0;a<n+1;a++)for(var i=0;i<e+1;i++)u[o-(a+i)]+=r[n-a]*t[e-i];return M(u)}function c(r,t){if(0===r)return[];for(var n=t.length-1,e=[],o=0;o<n+1;o++)e.push(r*t[o]);return M(e)}function v(r){return r.length-1}function s(r,t){function n(t){for(var n=r[0],e=1;e<r.length;e++)n=r[e]+n*t;return n}return void 0===t?n:n(t)}function l(r){return r[r.length-1]}function d(r){for(var t=r.length-1,n=0,e=Math.sign(r[0]),o=1;o<t+1;o++){var u=Math.sign(r[o]);u!==e&&0!==u&&(n++,e=u)}return n}function h(r,t){for(var n=r.length-1,e=[r[0]],o=1;o<n;o++)e.push(r[o]+t*e[o-1]);return e}function p(r){return r.slice().reverse()}function g(r,t,n){for(var e=r.length-1,o=[],u=0;u<e+1;u++)o.push(new Array(e+1).fill(0));o[0][0]=1;for(var a=1;a<=e;a++){o[0][a]=n*o[0][a-1];for(var i=1;i<=a;i++)o[i][a]=n*o[i][a-1]+t*o[i-1][a-1]}for(var f=new Array(e+1).fill(0),c=0;c<=e;c++){f[e-c]=0;for(var v=c;v<=e;v++){var s=o[c][v]*r[e-v];f[e-c]+=s}}return f}function m(r){for(var t=r.length-1,n=r.slice(),e=0;e<t+1;e++)e%2&&(n[e]=-n[e]);return n}function b(r){var t=[];t.push(r),t.push(i(r));for(var n=1;t[n].length-1>0;){for(var e=function(r,t){var n=(r.length,t.length,r[1]/r[0]-t[1]/t[0]);return u(f(c(r[0]/t[0],t),[1,n]),r)}(t[n-1],t[n]);t[n].length-e.length<1;)e.shift();t.push(e),n++}return t}function y(r,t){t=void 0===t?Number.EPSILON:t;var n=I(r);if(0===n)return[];if(Math.abs(r[0])>t*n)return r;for(var e=r.slice(1);Math.abs(e[0])<t*n;)e=e.slice(1);return y(e,t)}function M(r){return 0!==r[0]?r:M(r.slice(1))}function I(r){for(var t=0,n=0;n<r.length;n++){var e=Math.abs(r[n]);e>t&&(t=e)}return t}function w(r){for(var t=r.length-1,n="",e=0;e<t+1;e++){var o=r[e].toString();n+=e===t?o:e===t-1?"x*"+o+" + ":"x^"+(t-e).toString()+"*"+o+" + "}return n}var N={equal:e,add:o,subtract:u,multiplyByConst:c,negate:a,differentiate:i,multiply:f,degree:v,evaluate:s,evaluateAt0:l,signChanges:d,invert:p,changeVariables:g,reflectAboutYAxis:m,sturmChain:b,clip:y,clip0:M,deflate:h,maxCoefficient:I,toCasStr:w};t.exports=N},{}],3:[function(r,t,n){"use strict";function e(r,t){for(var n=r.length-1,e=0,o=0;o<n;o++)e+=Math.abs(r[o]*Math.pow(t,n-o));return e}function o(r,t){var n=Number.EPSILON;return 2*(r.length-1)*n*e(r,t)}var u=r("./core-operators.js"),a={hornerErrorBound:o};u.evaluate;t.exports=a},{"./core-operators.js":2}],4:[function(r,t,n){"use strict";var e=r("./core-operators.js"),o=r("./root-operators.js"),u=r("./root-bounds.js"),a=r("./all-roots-recursive.js"),i=r("./random.js"),f=r("./error-analysis.js"),c=r("./from-roots.js"),v=(e.multiply,Object.assign({},e,o,u,{random:i},{fromRoots:c},{allRoots:a},f));t.exports=v},{"./all-roots-recursive.js":1,"./core-operators.js":2,"./error-analysis.js":3,"./from-roots.js":5,"./random.js":6,"./root-bounds.js":7,"./root-operators.js":8}],5:[function(r,t,n){"use strict";function e(r){for(var t=[1],n=0;n<r.length;n++)t=u(t,[1,-r[n]]);return t}var o=r("./core-operators.js"),u=o.multiply;t.exports=e},{"./core-operators.js":2}],6:[function(r,t,n){"use strict";function e(r){return(134775813*r+1)%s}function o(r,t,n,o,a){o=void 0===o?v:o,a=void 0===a?0:a;for(var i=[],f=0;f<r;f++){o=e(o);o=u(o,i,o/s*(n-t)+t,a)}return i=i.slice(0,r),{vs:i,seed:o}}function u(r,t,n,o){return r=e(r),t.push(n),r/s<o&&(r=u(r,t,n,o)),r}function a(r,t,n,e,u){t=void 0===t?0:t,n=void 0===n?1:n,e=void 0===e?v:e,u=void 0===u?0:u;var a=o(r,t,n,e,u);return e=a.seed,{p:c(a.vs),seed:e}}function i(r,t,n,e){t=void 0===t?-1:t,n=void 0===n?1:n,e=void 0===e?v:e;var u=o(r,t,n,e);return e=u.seed,{p:u.vs,seed:e}}function f(r){return function(t,n,e,o,u,a){u=void 0===u?v:u;for(var i=[],f=0;f<t;f++){var c=r(n,e,o,u,a),s=c.p;u=c.seed,i.push(s)}return i}}var c=r("./from-roots.js"),v=123456789,s=4294967296,l=f(a),d=f(i),h={flatRoots:a,flatRootsArr:l,flatCoefficients:i,flatCoefficientsArr:d};t.exports=h},{"./from-roots.js":5}],7:[function(r,t,n){"use strict";function e(r){return Math.max.apply(null,r.map(function(r){return Math.abs(r)}))}function o(r){r.length;return 1+1/r[0]*e(r.slice(1))}function u(r){for(var t=r.length-1,n=r[0],e=[],o=1;o<t;o++){var u=Math.pow(Math.abs(r[o]/n),1/o);e.push(u)}return e.push(Math.pow(Math.abs(r[t]/2*n),1/t)),2*Math.max.apply(void 0,e)}function a(r){var t=r.length-1;if(t<1)return 0;r[0]<0&&(r=l(r));for(var n=[],e=0;e<t;e++)n.push(1);for(var o=0,u=0;u<=t;u++)if(!(r[u]>=0)){for(var a=Number.POSITIVE_INFINITY,i=!1,f=0;f<u;f++)if(!(r[f]<=0)){var c=n[f],v=void 0;v=c>20?Math.pow(2,c):p[c];var s=Math.pow(-r[u]/(r[f]/v),1/(u-f));n[f]++,a>s&&(a=s),i=!0}i&&o<a&&(o=a)}return o}function i(r){var t=a(s(r));return 0===t?0:1/t}function f(r){return-i(d(r))}function c(r){return-a(d(r))}var v=r("./core-operators.js"),s=v.invert,l=v.negate,d=v.reflectAboutYAxis,h={rootMagnitudeUpperBound_fujiwara:u,positiveRootUpperBound_LMQ:a,positiveRootLowerBound_LMQ:i,negativeRootUpperBound_LMQ:f,negativeRootLowerBound_LMQ:c,rootMagnitudeUpperBound_rouche:o},p=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152];t.exports=h},{"./core-operators.js":2}],8:[function(r,t,n){"use strict";function e(r){var t=i(r,3),n=t[0],e=t[1],o=t[2],u=e*e-4*n*o;if(u<0)return[];if(0===u)return[-e/(2*n)];u=Math.sqrt(u);var a=void 0,f=void 0;return e>=0?(a=(-e-u)/(2*n),f=2*o/(-e-u)):(a=2*o/(-e+u),f=(-e+u)/(2*n)),a<f?[a,f]:[f,a]}function o(r,t,n){var e=v(r),o=(s(r),e.map(function(r){return s(r)(t)})),u=e.map(function(r){return s(r)(n)});return l(o)-l(u)}function u(r,t,n){if(t===n)return t;if(n<t){var e=[n,t];t=e[0],n=e[1]}var o=r(t),u=r(n);if(0===o)return t;if(0===u)return n;if(o*u>0)throw new Error("Root not bracketed");for(;;){var a=t+(n-t)/2,i=r(a);if(0===i)return a;o*i<0?n=a:t=a;var f=2*Number.EPSILON*Math.abs(n);if(Math.abs(t-n)<=f)return n}}function a(r,t,n){if(t===n)return t;var e=r(t),o=r(n);if(e*o>0)throw new Error("Root not bracketed");var u=void 0;if(Math.abs(e)<Math.abs(o)){u=t,t=n,n=u;var a=e;e=o,o=a}u=t;for(var i=!0,f=void 0;;){var c=2*Number.EPSILON*Math.abs(n),v=r(u),s=void 0;if(e!==v&&o!==v){var l=e-v,d=e-o,h=o-v;s=((t*o*h-n*e*l)*v+u*e*d*o)/(d*l*h)}else s=n-o*((n-t)/(o-e));var p=(3*t+n)/4,g=Math.abs(n-u),m=Math.abs(s-n),b=Math.abs(u-f);!(s>p&&s<n||s<p&&s>n)||i&&(m>=g/2||g<c)||!i&&(m>=b/2||b<c)?(s=(t+n)/2,i=!0):i=!1;var y=r(s);if(f=u,u=n,e*y<0?n=s:t=s,Math.abs(e)<Math.abs(o)){var M=t;t=n,n=M}if(0===o)return n;if(0===y)return s;if(Math.abs(t-n)<=c)return n;e=r(t),o=r(n)}}var i=function(){function r(r,t){var n=[],e=!0,o=!1,u=void 0;try{for(var a,i=r[Symbol.iterator]();!(e=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);e=!0);}catch(r){o=!0,u=r}finally{try{!e&&i.return&&i.return()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=r("./core-operators.js"),c={quadraticRoots:e,numRootsWithin:o,brent:a,bisection:u},v=f.sturmChain,s=f.evaluate,l=f.signChanges;t.exports=c},{"./core-operators.js":2}]},{},[4])(4)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(r,t,n){"use strict";function e(r,t){return r[0]*t[0]+r[1]*t[1]}function o(r,t){return r[0]*t[1]-r[1]*t[0]}function u(r,t,n,e){e=void 0===e?Y:e;var o=(t[0]-r[0])*(n[1]-r[1])-(t[1]-r[1])*(n[0]-r[0]);return Math.abs(o)<=e?0:o}function a(r,t,n){n=void 0===n?Y:n;var e=D(r,2),o=e[0],u=e[1],a=D(t,2),i=a[0],f=a[1],c=(u[0]-o[0])*(f[1]-i[1])-(u[1]-o[1])*(f[0]-i[0]),v=(o[1]-i[1])*(f[0]-i[0])-(o[0]-i[0])*(f[1]-i[1]),s=(o[1]-i[1])*(u[0]-o[0])-(o[0]-i[0])*(u[1]-o[1]);if(Math.abs(c)<=n)return void Math.abs(v);var l=v/c,d=s/c;return 0<=l&&l<=1&&0<=d&&d<=1?[o[0]+l*(u[0]-o[0]),o[1]+l*(u[1]-o[1])]:void 0}function i(r,t){return!(u(r[0],r[1],t[0])*u(r[0],r[1],t[1])>0)&&!(u(t[0],t[1],r[0])*u(t[0],t[1],r[1])>0)}function f(r,t){var n=t[0]-r[0],e=t[1]-r[1];return n*n+e*e}function c(r,t){return[r[0]*t,r[1]*t]}function v(r){return[-r[0],-r[1]]}function s(r){var t=1/m(r);return[r[0]*t,r[1]*t]}function l(r,t){var n=t/m(r);return[r[0]*n,r[1]*n]}function d(r,t){return[t[0]-r[0],t[1]-r[1]]}function h(r,t,n){return[r[0]+(t[0]-r[0])*n,r[1]+(t[1]-r[1])*n]}function p(r){var t=r[0],n=r[1];return[(t[0]+n[0])/2,(t[1]+n[1])/2]}function g(r,t){return Math.sqrt(f(r,t))}function m(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function b(r){return r[0]*r[0]+r[1]*r[1]}function y(r,t){return Math.abs(r[0]-t[0])+Math.abs(r[1]-t[1])}function M(r){return Math.abs(r[0])+Math.abs(r[1])}function I(r,t){var n=D(r,2),e=n[0],o=n[1],u=D(t,2),a=D(u[0],2),i=a[0],f=a[1],c=D(u[1],2),v=c[0],s=c[1],l=s-f,d=v-i,h=l*e-d*o+v*f-s*i,p=Math.sqrt(d*d+l*l);return Math.abs(h/p)}function w(r,t){var n=t[0],e=t[1],o=f(n,e);if(0==o)return f(r,n);var u=((r[0]-n[0])*(e[0]-n[0])+(r[1]-n[1])*(e[1]-n[1]))/o;return u=Math.max(0,Math.min(1,u)),f(r,[n[0]+u*(e[0]-n[0]),n[1]+u*(e[1]-n[1])])}function N(r){var t=r[0],n=r[1],e=r[2],o=.5*j([b(t),t[1],1],[b(n),n[1],1],[b(e),e[1],1]),u=.5*j([t[0],b(t),1],[n[0],b(n),1],[e[0],b(e),1]),a=j([t[0],t[1],1],[n[0],n[1],1],[e[0],e[1],1]);j([t[0],t[1],b(t)],[n[0],n[1],b(n)],[e[0],e[1],b(e)]);return[o/a,u/a]}function x(r){var t=r[0],n=r[1],e=r[2],o=g(n,e),u=g(t,e),a=g(t,n),i=o+u+a;return[(o*t[0]+u*n[0]+a*e[0])/i,(o*t[1]+u*n[1]+a*e[1])/i]}function T(r){if(3===r.length){var t=r[0],n=r[1],e=r[2];return[(t[0]+n[0]+e[0])/3,(t[1]+n[1]+e[1])/3]}for(var o=0,u=0;u<r.length;u++){var a=r[u],i=u===r.length-1?r[0]:r[u+1];o+=a[0]*i[1]-i[0]*a[1]}o/=2;for(var f=[0,0],c=0;c<r.length;c++){var v=r[c],s=c===r.length-1?r[0]:r[c+1];f[0]=f[0]+(v[0]+s[0])*(v[0]*s[1]-s[0]*v[1]),f[1]=f[1]+(v[1]+s[1])*(v[0]*s[1]-s[0]*v[1])}return[f[0]/(6*o),f[1]/(6*o)]}function j(r,t,n){return r[0]*(t[1]*n[2]-t[2]*n[1])-r[1]*(t[0]*n[2]-t[2]*n[0])+r[2]*(t[0]*n[1]-t[1]*n[0])}function S(r,t){function n(t){return[r[0]+t[0],r[1]+t[1]]}return void 0===t?n:n(t)}function E(r,t,n){function e(n){return[n[0]*t-n[1]*r,n[0]*r+n[1]*t]}return void 0===n?e:e(n)}function A(r,t){return r[0]===t[0]&&r[1]===t[1]}function B(r,t,n){return[+n[0]*t+n[1]*r,-n[0]*r+n[1]*t]}function _(r){return[-r[1],r[0]]}function O(r){return[r[1],-r[0]]}function R(r,t){return[t(r[0]),t(r[1])]}function P(r,t,n){n=void 0===n?f:n;for(var e=void 0,o=Number.POSITIVE_INFINITY,u=0;u<t.length;u++){var a=t[u],i=n(r,a);i<o&&(e=a,o=i)}return e}function L(r,t,n,e){return e.map(function(e){return E(t,n,S(r,e))})}function q(r,t,n,e){return e.map(function(e){return S(n,E(r,t,e))})}var D=function(){function r(r,t){var n=[],e=!0,o=!1,u=void 0;try{for(var a,i=r[Symbol.iterator]();!(e=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);e=!0);}catch(r){o=!0,u=r}finally{try{!e&&i.return&&i.return()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Y=1e-10,C=function(r){return function(t,n,e){var o=r(t,n),u=function(r){return r.map(o)};return void 0===e?u:u(e)}}(E),F=function(r){return function(t,n){var e=r(t),o=function(r){return r.map(e)};return void 0===n?o:o(n)}}(S),V={dot:e,cross:o,ccw:u,segSegIntersection:a,doesSegSegIntersect:i,squaredDistanceBetween:f,scale:c,reverse:v,translate:S,toUnitVector:s,toLength:l,fromTo:d,interpolate:h,mean:p,distanceBetween:g,length:m,lengthSquared:b,manhattanDistanceBetween:y,manhattanLength:M,distanceBetweenPointAndLine:I,squaredDistanceBetweenPointAndLineSegment:w,circumCenter:N,inCenter:x,centroid:T,equal:A,rotate:E,rotatePs:C,reverseRotate:B,rotate90Degrees:_,rotateNeg90Degrees:O,transform:R,getClosestTo:P,translatePs:F,translateThenRotatePs:L,rotateThenTranslatePs:q};t.exports=V},{}]},{},[1])(1)});
//# sourceMappingURL=index.min.js.map
