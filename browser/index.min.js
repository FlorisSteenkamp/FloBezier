var FloBezier3=function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)n.d(r,u,function(t){return e[t]}.bind(null,u));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=28)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),u=n(7),o=n(8),i=n(29),l=n(30),a=n(31),f=n(9),s=(r.default.multiply,Object.assign({},r.default,u.default,o.default,a.default,{random:l.default,fromRoots:f.default,allRoots:i.default}));t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="function"==typeof WeakMap;t.memoize=function(e){if(!r)return e;let t=new WeakMap;return function(n){let r=t.get(n);return void 0!==r?r:(r=e(n),t.set(n,r),r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=1e-10;function u(e,t,n,u=r){let o=(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0]);return Math.abs(o)<=u?0:o}function o(e,t){let n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function i(e,t){return Math.sqrt(o(e,t))}function l(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function a(e){return e[0]*e[0]+e[1]*e[1]}function f(e,t,n){return e[0]*(t[1]*n[2]-t[2]*n[1])-e[1]*(t[0]*n[2]-t[2]*n[0])+e[2]*(t[0]*n[1]-t[1]*n[0])}function s(e,t){function n(t){return[e[0]+t[0],e[1]+t[1]]}return void 0===t?n:n(t)}t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},t.cross=function(e,t){return e[0]*t[1]-e[1]*t[0]},t.ccw=u,t.segSegIntersection=function(e,t,n=r){let[u,o]=e,[i,l]=t,a=(o[0]-u[0])*(l[1]-i[1])-(o[1]-u[1])*(l[0]-i[0]),f=(u[1]-i[1])*(l[0]-i[0])-(u[0]-i[0])*(l[1]-i[1]),s=(u[1]-i[1])*(o[0]-u[0])-(u[0]-i[0])*(o[1]-u[1]);if(Math.abs(a)<=n)return void Math.abs(f);let c=f/a,d=s/a;return 0<=c&&c<=1&&0<=d&&d<=1?[u[0]+c*(o[0]-u[0]),u[1]+c*(o[1]-u[1])]:void 0},t.doesSegSegIntersect=function(e,t){return!(u(e[0],e[1],t[0])*u(e[0],e[1],t[1])>0||u(t[0],t[1],e[0])*u(t[0],t[1],e[1])>0)},t.squaredDistanceBetween=o,t.scale=function(e,t){return[e[0]*t,e[1]*t]},t.reverse=function(e){return[-e[0],-e[1]]},t.toUnitVector=function(e){let t=1/l(e);return[e[0]*t,e[1]*t]},t.toLength=function(e,t){let n=t/l(e);return[e[0]*n,e[1]*n]},t.fromTo=function(e,t){return[t[0]-e[0],t[1]-e[1]]},t.interpolate=function(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]},t.mean=function(e){let t=e[0],n=e[1];return[(t[0]+n[0])/2,(t[1]+n[1])/2]},t.distanceBetween=i,t.len=l,t.lengthSquared=a,t.manhattanDistanceBetween=function(e,t){return Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])},t.manhattanLength=function(e){return Math.abs(e[0])+Math.abs(e[1])},t.distanceBetweenPointAndLine=function(e,t){let[n,r]=e,[[u,o],[i,l]]=t,a=l-o,f=i-u,s=a*n-f*r+i*o-l*u,c=Math.sqrt(f*f+a*a);return Math.abs(s/c)},t.squaredDistanceBetweenPointAndLineSegment=function(e,t){const n=o;let r=t[0],u=t[1],i=n(r,u);if(0==i)return n(e,r);let l=((e[0]-r[0])*(u[0]-r[0])+(e[1]-r[1])*(u[1]-r[1]))/i;return l=Math.max(0,Math.min(1,l)),n(e,[r[0]+l*(u[0]-r[0]),r[1]+l*(u[1]-r[1])])},t.circumCenter=function(e){let t=e[0],n=e[1],r=e[2];const u=a;let o=.5*f([u(t),t[1],1],[u(n),n[1],1],[u(r),r[1],1]),i=.5*f([t[0],u(t),1],[n[0],u(n),1],[r[0],u(r),1]),l=f([t[0],t[1],1],[n[0],n[1],1],[r[0],r[1],1]);return f([t[0],t[1],u(t)],[n[0],n[1],u(n)],[r[0],r[1],u(r)]),[o/l,i/l]},t.inCenter=function(e){const t=i;let n=e[0],r=e[1],u=e[2],o=t(r,u),l=t(n,u),a=t(n,r),f=o+l+a;return[(o*n[0]+l*r[0]+a*u[0])/f,(o*n[1]+l*r[1]+a*u[1])/f]},t.centroid=function(e){if(3===e.length){let t=e[0],n=e[1],r=e[2];return[(t[0]+n[0]+r[0])/3,(t[1]+n[1]+r[1])/3]}let t=0;for(let n=0;n<e.length;n++){let r=e[n],u=n===e.length-1?e[0]:e[n+1];t+=r[0]*u[1]-u[0]*r[1]}t/=2;let n=[0,0];for(let t=0;t<e.length;t++){let r=e[t],u=t===e.length-1?e[0]:e[t+1];n[0]=n[0]+(r[0]+u[0])*(r[0]*u[1]-u[0]*r[1]),n[1]=n[1]+(r[1]+u[1])*(r[0]*u[1]-u[0]*r[1])}return[n[0]/(6*t),n[1]/(6*t)]},t.det3=f,t.translate=s;let c=function(e){return function(t,n){let r=e(t),u=e=>e.map(r);return void 0===n?u:u(n)}}(s);t.translatePs=c;let d=function(e){return function(t,n,r){let u=e(t,n),o=e=>e.map(u);return void 0===r?o:o(r)}}(g);function g(e,t,n){c([1,2]);function r(n){return[n[0]*t-n[1]*e,n[0]*e+n[1]*t]}return void 0===n?r:r(n)}t.rotatePs=d,t.rotate=g,t.equal=function(e,t){return e[0]===t[0]&&e[1]===t[1]},t.reverseRotate=function(e,t,n){return[+n[0]*t+n[1]*e,-n[0]*e+n[1]*t]},t.rotate90Degrees=function(e){return[-e[1],e[0]]},t.rotateNeg90Degrees=function(e){return[e[1],-e[0]]},t.transform=function(e,t){return[t(e[0]),t(e[1])]},t.getClosestTo=function(e,t){let n=void 0,r=Number.POSITIVE_INFINITY;for(let u=0;u<t.length;u++){let i=t[u],l=o(e,i);l<r&&(n=i,r=l)}return n},t.getObjClosestTo=function(e,t,n){let r=void 0,u=Number.POSITIVE_INFINITY;for(let i=0;i<t.length;i++){let l=t[i],a=o(e,n(l));a<u&&(r=l,u=a)}return r},t.translateThenRotatePs=function(e,t,n,r){const u=s(e);return r.map(e=>g(t,n,u(e)))},t.rotateThenTranslatePs=function(e,t,n,r){return r.map(r=>s(n,g(e,t,r)))}},function(e,t,n){"use strict";function r(e,t){let n=e.length-1,r=t.length-1,u=n-r,o=0,i=0;u>0?i=-u:u<0&&(o=+u);let a=Math.max(n,r),f=[];for(let n=0;n<a+1;n++){let r=e[n+o],u=t[n+i];f.push((r||0)-(u||0))}return l(f)}function u(e){let t=[],n=e.length-1;for(let r=0;r<n;r++)t.push((n-r)*e[r]);return t}function o(e,t){let n=e.length-1,r=t.length-1,u=n+r,o=new Array(u+1).fill(0);for(let i=0;i<n+1;i++)for(let l=0;l<r+1;l++)o[u-(i+l)]+=e[n-i]*t[r-l];return l(o)}function i(e,t){if(0===e)return[];let n=t.length-1,r=[];for(let u=0;u<n+1;u++)r.push(e*t[u]);return l(r)}function l(e){return 0!==e[0]?e:l(e.slice(1))}function a(e){let t=0;for(let n=0;n<e.length;n++){let r=Math.abs(e[n]);r>t&&(t=r)}return t}Object.defineProperty(t,"__esModule",{value:!0});let f={equal:function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},add:function(e,t){let n=e.length-1,r=t.length-1,u=n-r,o=0,i=0;u>0?i=-u:u<0&&(o=+u);let a=Math.max(n,r),f=[];for(let n=0;n<a+1;n++){let r=e[n+o],u=t[n+i];f.push((r||0)+(u||0))}return l(f)},subtract:r,multiplyByConst:i,negate:function(e){return i(-1,e)},differentiate:u,multiply:o,degree:function(e){return e.length-1},evaluate:function(e,t){function n(t){let n=e[0];for(let r=1;r<e.length;r++)n=e[r]+n*t;return n}return void 0===t?n:n(t)},evaluateAt0:function(e){return e[e.length-1]},signChanges:function(e){let t=e.length-1,n=0,r=Math.sign(e[0]);for(let u=1;u<t+1;u++){let t=Math.sign(e[u]);t!==r&&0!==t&&(n++,r=t)}return n},invert:function(e){return e.slice().reverse()},changeVariables:function(e,t,n){let r=e.length-1,u=[];for(let e=0;e<r+1;e++)u.push(new Array(r+1).fill(0));u[0][0]=1;for(let e=1;e<=r;e++){u[0][e]=n*u[0][e-1];for(let r=1;r<=e;r++)u[r][e]=n*u[r][e-1]+t*u[r-1][e-1]}let o=new Array(r+1).fill(0);for(let t=0;t<=r;t++){o[r-t]=0;for(let n=t;n<=r;n++){let i=u[t][n]*e[r-n];o[r-t]+=i}}return o},reflectAboutYAxis:function(e){let t=e.length-1,n=e.slice();for(let e=0;e<t+1;e++)e%2&&(n[e]=-n[e]);return n},sturmChain:function(e){function t(e,t){e.length,t.length;let n=e[1]/e[0]-t[1]/t[0];return r(o(i(e[0]/t[0],t),[1,n]),e)}let n=[];n.push(e),n.push(u(e));let l=1;for(;n[l].length-1>0;){let e=t(n[l-1],n[l]);for(;n[l].length-e.length<1;)e.shift();n.push(e),l++}return n},clip:function e(t,n){n=void 0===n?Number.EPSILON:n;let r=a(t);if(0===r)return[];if(Math.abs(t[0])>n*r)return t;let u=t.slice(1);for(;Math.abs(u[0])<n*r;)u=u.slice(1);return e(u,n)},clip0:l,deflate:function(e,t){let n=e.length-1,r=[e[0]];for(let u=1;u<n;u++)r.push(e[u]+t*r[u-1]);return r},maxCoefficient:a,toCasStr:function(e){let t=e.length-1,n="";for(let r=0;r<t+1;r++){let u=e[r].toString();n+=r===t?u:r===t-1?"x*"+u+" + ":"x^"+(t-r).toString()+"*"+u+" + "}return n}};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(1).memoize(function(e){let[[,t],[,n],[,r],[,u]]=e;return[u-3*r+3*n-t,3*r-6*n+3*t,3*n-3*t,t]});t.getY=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(1).memoize(function(e){let[[t],[n],[r],[u]]=e;return[u-3*r+3*n-t,3*r-6*n+3*t,3*n-3*t,t]});t.getX=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(12),u=n(13);t.evaluate=function(e,t){const[[n,o],,,[i,l]]=e,a=r.evaluateX(e),f=u.evaluateY(e);function s(e){return 0===e?[n,o]:1===e?[i,l]:[a(e),f(e)]}return void 0===t?s:s(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),{sturmChain:u,evaluate:o,signChanges:i}=r.default;let l={quadraticRoots:function(e){let t,n,[r,u,o]=e,i=u*u-4*r*o;return i<0?[]:0===i?[-u/(2*r)]:(i=Math.sqrt(i),u>=0?(t=(-u-i)/(2*r),n=2*o/(-u-i)):(t=2*o/(-u+i),n=(-u+i)/(2*r)),t<n?[t,n]:[n,t])},numRootsWithin:function(e,t,n){let r=u(e),l=(o(e),r.map(e=>o(e)(t))),a=r.map(e=>o(e)(n));return i(l)-i(a)},brent:function(e,t,n){if(t===n)return t;let r,u=e(t),o=e(n);if(u*o>0)throw new Error("Root not bracketed");if(Math.abs(u)<Math.abs(o)){r=t,t=n,n=r;let e=u;u=o,o=e}r=t;let i,l=!0;for(;;){let a,f=2*Number.EPSILON*Math.abs(n),s=e(r);if(u!==s&&o!==s){let e=u-s,i=u-o,l=o-s;a=((t*o*l-n*u*e)*s+r*u*i*o)/(i*e*l)}else a=n-o*((n-t)/(o-u));let c=(3*t+n)/4,d=Math.abs(n-r),g=Math.abs(a-n),h=Math.abs(r-i);!(a>c&&a<n||a<c&&a>n)||l&&(g>=d/2||d<f)||!l&&(g>=h/2||h<f)?(a=(t+n)/2,l=!0):l=!1;let b=e(a);if(i=r,r=n,u*b<0?n=a:t=a,Math.abs(u)<Math.abs(o)){let e=t;t=n,n=e}if(0===o)return n;if(0===b)return a;if(Math.abs(t-n)<=f)return n;u=e(t),o=e(n)}},bisection:function(e,t,n){if(t===n)return t;n<t&&([t,n]=[n,t]);let r=e(t),u=e(n);if(0===r)return t;if(0===u)return n;if(r*u>0)throw new Error("Root not bracketed");for(;;){let u=t+(n-t)/2,o=e(u);if(0===o)return u;r*o<0?n=u:t=u;let i=2*Number.EPSILON*Math.abs(n);if(Math.abs(t-n)<=i)return n}}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),{invert:u,negate:o,reflectAboutYAxis:i}=r.default;const l=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152];function a(e){let t=e.length-1;if(t<1)return 0;e[0]<0&&(e=o(e));let n=[];for(let e=0;e<t;e++)n.push(1);let r=0;for(let u=0;u<=t;u++){if(e[u]>=0)continue;let t=Number.POSITIVE_INFINITY,o=!1;for(let r=0;r<u;r++){if(e[r]<=0)continue;let i,a=n[r];i=a>20?Math.pow(2,a):l[a];let f=Math.pow(-e[u]/(e[r]/i),1/(u-r));n[r]++,t>f&&(t=f),o=!0}o&&r<t&&(r=t)}return r}function f(e){let t=a(u(e));return 0===t?0:1/t}let s={rootMagnitudeUpperBound_fujiwara:function(e){let t=e.length-1,n=e[0],r=[];for(let u=1;u<t;u++){let t=Math.pow(Math.abs(e[u]/n),1/u);r.push(t)}return r.push(Math.pow(Math.abs(e[t]/2*n),1/t)),2*Math.max.apply(void 0,r)},positiveRootUpperBound_LMQ:a,positiveRootLowerBound_LMQ:f,negativeRootUpperBound_LMQ:function(e){return-f(i(e))},negativeRootLowerBound_LMQ:function(e){return-a(i(e))},rootMagnitudeUpperBound_rouche:function(e){return e.length,1+1/e[0]*function(e){return Math.max(...e.map(e=>Math.abs(e)))}(e.slice(1))}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),{multiply:u}=r.default;t.default=function(e){let t=[1];for(let n=0;n<e.length;n++)t=u(t,[1,-e[n]]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),o=n(5);let i=u.memoize(e=>r.default.differentiate(o.getX(e)));t.getDx=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),o=n(4);let i=u.memoize(e=>r.default.differentiate(o.getY(e)));t.getDy=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(5);t.evaluateX=function(e,t){const n=u.getX(e),o=r.default.evaluate(n);function i(t){return 0===t?e[0][0]:1===t?e[3][0]:o(t)}return void 0===t?i:i(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(4);t.evaluateY=function(e,t){const n=u.getY(e),o=r.default.evaluate(n);function i(t){return 0===t?e[0][1]:1===t?e[3][1]:o(t)}return void 0===t?i:i(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(10);t.evaluateDx=function(e,t){const n=u.getDx(e),o=r.default.evaluate(n);return void 0===t?o:o(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(11);t.evaluateDy=function(e,t){const n=u.getDy(e),o=r.default.evaluate(n);return void 0===t?o:o(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),u=n(15);t.tangent=function(e,t){const n=r.evaluateDx(e),o=u.evaluateDy(e);function i(e){let t=n(e),r=o(e),u=Math.sqrt(t*t+r*r);return[t/u,r/u]}return void 0===t?i:i(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16);t.normal=function(e,t){const n=r.tangent(e);function u(e){let t=n(e);return[t[1],-t[0]]}return void 0===t?u:u(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.from0ToT=function(e,t){let[[n,r],[u,o],[i,l],[a,f]]=e,s=1-t,c=t*t,d=c*t,g=s*s,h=g*s;return[[n,r],[t*u+s*n,t*o+s*r],[c*i+2*s*t*u+g*n,c*l+2*s*t*o+g*r],[d*a+3*s*c*i+3*g*t*u+h*n,d*f+3*s*c*l+3*g*t*o+h*r]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromTTo1=function(e,t){let[[n,r],[u,o],[i,l],[a,f]]=e,s=1-t,c=t*t,d=c*t,g=s*s,h=g*s;return[[d*a+3*s*c*i+3*g*t*u+h*n,d*f+3*s*c*l+3*g*t*o+h*r],[c*a+2*t*s*i+g*u,c*f+2*t*s*l+g*o],[t*a+s*i,t*f+s*l],[a,f]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),u=n(18),o=n(19);t.fromTo=function(e){return function(t,n){if(t===n){let n=r.evaluate(e,t);return[n,n,n,n]}if(0===t&&1===n)return e;if(0===t)return u.from0ToT(e,n);if(1===n)return o.fromTTo1(e,t);let i=o.fromTTo1(e,t);return u.from0ToT(i,(n-t)/(1-t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toHybridQuadratic=function(e){let[[t,n],[r,u],[o,i],[l,a]]=e;return[[t,n],[[(3*r-t)/2,(3*u-n)/2],[(3*o-l)/2,(3*i-a)/2]],[l,a]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),u=n(6),o=n(23),i=n(17);function l(e,t,n){let l=u.evaluate(e)(n),a=i.normal(e)(n),f=r.translate(l,a),s=o.lineIntersection(t,[l,f]),c=void 0,d=void 0,g=Number.POSITIVE_INFINITY;for(let e of s){let n=u.evaluate(t)(e),o=r.distanceBetween(n,l);o<g&&(c=e,d=n,g=o)}return{t:c,p:d,d:g}}t.coincident=function(e,t,n=1e-6){let r=[.01,.99].map(n=>l(e,t,n)),u=[.01,.99].map(n=>l(t,e,n)),o=.01,i=.99,a=.01,f=.99;r[0].d<=n&&(o=r[0].t),r[1].d<=n&&(i=r[1].t),u[0].d<=n&&(a=u[0].t),u[1].d<=n&&(f=u[1].t),a>f&&([a,f]=[f,a]),o>i&&([o,i]=[i,o]);let s=f-a;if(s<.1&&i-o<.1)return;for(let r=0;r<10;r++){let u=a+s*(r/10),{d:o}=l(e,t,u);if(o>n)return}return{p:[a,f],q:[o,i]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(2),o=n(4);t.lineIntersection=function(e,t){let[[n,i],[l,a]]=t,[f,s]=[l-n,a-i];if(0===f&&0===s)return[];e=u.translatePs([-n,-i],e);let c=Math.sqrt(f*f+s*s),d=s/c,g=f/c;return e=u.rotatePs(-d,g,e),r.default.allRoots(o.getY(e),0,1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(5);t.tsAtX=function(e,t){return e=e.map(e=>[e[0]-t,e[1]]),r.default.allRoots(u.getX(e),0,1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(4);t.tsAtY=function(e,t){return e=e.map(e=>[e[0],e[1]-t]),r.default.allRoots(u.getY(e),0,1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FatLine=class{constructor(e,t,n){this.l=e,this.minD=t,this.maxD=n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deCasteljau=function(e,t){function n(t){if(0===t)return[[e[0],e[0],e[0],e[0]],e];if(1===t)return[e,[e[3],e[3],e[3],e[3]]];let n=1-t,r=e[0],u=e[1],o=e[2],i=e[3],l=r*n+u*t,a=u*n+o*t,f=o*n+i*t,s=l*n+a*t,c=a*n+f*t,d=s*n+c*t;return[[r,l,s,d],[d,c,f,i]]}return void 0===t?n:n(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(2),o=n(1),i=n(32),l=n(33),a=n(5);t.getX=a.getX;const f=n(4);t.getY=f.getY;const s=n(10);t.getDx=s.getDx;const c=n(11);t.getDy=c.getDy;const d=n(12);t.evaluateX=d.evaluateX;const g=n(13);t.evaluateY=g.evaluateY;const h=n(6);t.evaluate=h.evaluate;const b=n(14);t.evaluateDx=b.evaluateDx;const v=n(15);t.evaluateDy=v.evaluateDy;const p=n(34),_=n(37),m=n(16);t.tangent=m.tangent;const M=n(17);t.normal=M.normal;const y=n(18);t.from0ToT=y.from0ToT;const I=n(19);t.fromTTo1=I.fromTTo1;const T=n(20);t.fromTo=T.fromTo;const P=n(21);t.toHybridQuadratic=P.toHybridQuadratic;const O=n(22);t.coincident=O.coincident;const N=n(23);t.lineIntersection=N.lineIntersection;const j=n(40);t.bezier3Intersection=j.bezier3Intersection;const D=n(46);t.bezier3IntersectionSylvester=D.bezier3IntersectionSylvester;const x=n(24);t.tsAtX=x.tsAtX;const w=n(25);t.tsAtY=w.tsAtY;const z=n(47);t.BezDebug=z.BezDebug;const B=n(26);t.FatLine=B.FatLine;const Y=n(27);t.deCasteljau=Y.deCasteljau;const R=n(49);t.evalDeCasteljau=R.evalDeCasteljau;let E=u.rotatePs;t.rotate=E;let L=u.translatePs;t.translate=L;let S=o.memoize(e=>r.default.differentiate(s.getDx(e)));t.getDdx=S;let q=o.memoize(e=>r.default.differentiate(c.getDy(e)));t.getDdy=q;let F=o.memoize(e=>r.default.differentiate(S(e)));t.getDddx=F;let C=o.memoize(e=>r.default.differentiate(q(e)));t.getDddy=C;let A=o.memoize(l.default);function V(e,t){const n=b.evaluateDx(e),r=v.evaluateDy(e),u=W(e),o=J(e);function i(e){let t=n(e),i=r(e),l=u(e);return(t*o(e)-i*l)/Math.sqrt(Math.pow(t*t+i*i,3))}return void 0===t?i:i(t)}t.getBoundingHull=A,t.fromLine=function(e){let[[t,n],[r,u]]=e,o=(r-t)/3,i=(u-n)/3;return[[t,n],[t+o,n+i],[t+2*o,n+2*i],[r,u]]},t.κ=V;let X=V;function Q(e,t){const n=b.evaluateDx(e),r=v.evaluateDy(e),u=W(e),o=J(e);function i(e){let t=n(e),i=r(e),l=u(e);return(t*o(e)-i*l)/(t*t+i*i)}return void 0===t?i:i(t)}function H(e,t){let n=[,,G,k,U];function r(t){return n[t.length](e,t)}return void 0===t?r:r(t)}function U(e,t){if(e[0]===e[1])return 0;let[[n,r],[u,o],[l,a],[f,s]]=t;if(n===u&&u===l&&l===f&&r===o&&o===a&&a===s)return 0;const c=function(e,t){const n=b.evaluateDx(e),r=v.evaluateDy(e);function u(e){let t=n(e),u=r(e);return Math.sqrt(t*t+u*u)}return void 0===t?u:u(t)}(t);return i.default(c,e)}function k(e,t){if(e[0]===e[1])return 0;let[[n,r],[u,o],[l,a]]=t;if(n===u&&u===l&&r===o&&o===a)return 0;const f=function(e,t){const n=p.evaluateDx2(e),r=_.evaluateDy2(e);function u(e){let t=n(e),u=r(e);return Math.sqrt(t*t+u*u)}return void 0===t?u:u(t)}(t);return i.default(f,e)}function G(e,t){let[n,r]=e;if(n===r)return 0;let[[o,i],[l,a]]=t;if(o===l&&i===a)return 0;let f=[o+n*(l-o),i+n*(a-i)],s=[o+r*(l-o),i+r*(a-i)];return u.distanceBetween(f,s)}function W(e,t){const n=S(e),u=r.default.evaluate(n);return void 0===t?u:u(t)}function J(e,t){const n=q(e),u=r.default.evaluate(n);return void 0===t?u:u(t)}t.curvature=X,t.dκMod=function(e,t){let[[n,r],[u,o],[i,l],[a,f]]=e;function s(e){let t=e*e,s=1-e,c=2*e-3*t,d=(3*e-1)*s,g=s*s,h=3*(t*a+c*i-d*u-g*n),b=3*(t*f+c*l-d*o-g*r),v=6*(e*f-(3*e-1)*l+(3*e-2)*o+s*r),p=6*(e*a-(3*e-1)*i+(3*e-2)*u+s*n),_=Math.sqrt(h*h+b*b);return 4*(h*(f-3*l+3*o-r)-b*(a-3*i+3*u-n))*Math.pow(_,3)-(h*v-p*b)*(2*v*b+2*p*h)*_}return void 0===t?s:s(t)},t.totalCurvature=function(e,t){function n(t){return i.default(Q(e),t)}return m.tangent(e),void 0===t?n:n(t)},t.totalAbsoluteCurvature=function(e,t){function n(t=[0,1]){return i.default(t=>Math.abs(Q(e)(t)),t)}return void 0===t?n:n(t)},t.length=H,t.getTAtLength=function(e,t){let n=ue(e);const u=e=>H([0,e],n);function o(e){return r.default.brent(t=>u(t)-e,0,1)}return void 0===t?o:o(t)},t.evaluateDdx=W,t.evaluateDdy=J,t.evaluateDddx=function(e,t){const n=F(e),u=r.default.evaluate(n);return void 0===t?u:u(t)},t.evaluateDddy=function(e,t){const n=C(e),u=r.default.evaluate(n);return void 0===t?u:u(t)};let K=o.memoize(function(e){let[[t,n],[r,o],[i,l],[a,f]]=e,s=Math.sqrt((a-t)*(a-t)+(f-n)*(f-n)),c=(f-n)/s,d=(a-t)/s,g=function(e,t,n){let r=u.transform(e[0],e=>-e),o=u.translateThenRotatePs(r,-t,n,e);return Z(o)}(e,c,d),[[h,b],[v,p]]=g,_=[g[0],[v,b],g[1],[h,p]];return u.rotateThenTranslatePs(c,d,e[0],_)});t.getBoundingBoxTight=K;let Z=o.memoize(function(e){return $(e).box});t.getBoundingBox=Z;let $=o.memoize(function(e){let t=[s.getDx(e),c.getDy(e)].map(e=>r.default.allRoots(e,0,1));t[0].push(0,1),t[1].push(0,1);let n=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,l=void 0,a=void 0,f=void 0,h=void 0;for(let r=0;r<t[0].length;r++){let o=t[0][r],i=d.evaluateX(e,o);i<n&&(n=i,l=o),i>u&&(u=i,f=o)}for(let n=0;n<t[1].length;n++){let r=t[1][n],u=g.evaluateY(e,r);u<o&&(o=u,a=r),u>i&&(i=u,h=r)}return{ts:[[l,a],[f,h]],box:[[n,o],[u,i]]}});function ee(e,t){let[[n,r],[u,o]]=e;return[n*(1-t)+u*t,r*(1-t)+o*t]}function te(e,t){let[[n,r],[u,o],[i,l]]=e;return[n*Math.pow(1-t,2)+2*u*(1-t)*t+i*Math.pow(t,2),r*Math.pow(1-t,2)+2*o*(1-t)*t+l*Math.pow(t,2)]}function ne(e){let[[t,n],[r,u],[o,i]]=e;return[[t,n],[1/3*t+2/3*r,1/3*n+2/3*u],[2/3*r+1/3*o,2/3*u+1/3*i],[o,i]]}function re(e){let[[t,n],[r,u]]=e,o=(r-t)/3,i=(u-n)/3;return[[t,n],[t+1*o,n+1*i],[t+2*o,n+2*i],[r,u]]}function ue(e){return 2===e.length?re(e):3===e.length?ne(e):4===e.length?e:void 0}t.getBounds=$,t.splitAt=function(e,t){let[[n,r],[u,o],[i,l],[a,f]]=e,s=1-t,c=t*t,d=c*t,g=s*s,h=g*s,b=[[n,r],[t*u+s*n,t*o+s*r],[c*i+2*s*t*u+g*n,c*l+2*s*t*o+g*r],[d*a+3*s*c*i+3*g*t*u+h*n,d*f+3*s*c*l+3*g*t*o+h*r]];return[b,[b[3],[c*a+2*t*s*i+g*u,c*f+2*t*s*l+g*o],[t*a+s*i,t*f+s*l],[a,f]]]},t.bezierFromBezierPiece=function(e,t){if(0===t[0]&&1===t[1])return e;if(t[0]===t[1]){let n=h.evaluate(e)(t[0]);return[n,n,n,n]}return 0===t[0]?y.from0ToT(e,t[1]):1===t[1]?I.fromTTo1(e,t[0]):y.from0ToT(I.fromTTo1(e,t[0]),(t[1]-t[0])/(1-t[0]))},t.scale=function(e,t){return e.map(e=>[e[0]*t,e[1]*t])},t.toQuadratic=function(e){let[[t,n],[r,u],[o,i],[l,a]]=e;return[[.95*t+.15*r+-.15*o+.05*l,.95*n+.15*u+-.15*i+.05*a],[-.25*t+.75*r+.75*o+-.25*l,-.25*n+.75*u+.75*i+-.25*a],[.05*t+-.15*r+.15*o+.95*l,.05*n+-.15*u+.15*i+.95*a]]},t.evaluateHybridQuadratic=function(e,t,n){let r=e[0],u=(e[1],e[2]);return te([r,ee(e[1],n),u],t)},t.evaluateLinear=ee,t.clone=function(e){let[[t,n],[r,u],[o,i],[l,a]]=e;return[[t,n],[r,u],[o,i],[l,a]]},t.evaluateQuadratic=te,t.quadraticToCubic=ne,t.linearToCubic=re,t.toCubic=ue,t.reverse=function(e){return e.slice().reverse()},t.equal=function(e,t){let[[n,r],[u,o],[i,l],[a,f]]=e,[[s,c],[d,g],[h,b],[v,p]]=t;return n===s&&u===d&&i===h&&a===v&&r===c&&o===g&&l===b&&f===p}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),u=n(7),o=n(8),{clip0:i,evaluate:l,differentiate:a,toCasStr:f}=r.default,{brent:s,quadraticRoots:c}=u.default,{rootMagnitudeUpperBound_fujiwara:d,positiveRootUpperBound_LMQ:g,positiveRootLowerBound_LMQ:h,negativeRootUpperBound_LMQ:b,negativeRootLowerBound_LMQ:v}=o.default,p=Number.POSITIVE_INFINITY;t.default=function e(t,n=-p,r=+p){let u=(t=i(t)).length-1,o=function(e,t){return n=>n>=e&&n<=t}(n,r);if(2===u)return c(t).filter(o);if(u>2){let u,i;n===-p||r===+p?(u=n===-p?v(t):n,i=r===+p?g(t):r):(u=n,i=r);let f=e(a(t),u,i).filter(o);return f[0]!==u&&f.unshift(u),f[f.length-1]!==i&&f.push(i),function(e,t){let n,r=[],u=l(e),o=t[0];for(let e=1;e<t.length;e++){let i,l=t[e],a=u(o),f=u(l),c=a*f;0===c?0===a?i=o:0===f&&e===t.length-1&&(i=l):a*f<0&&(i=s(u,o,l)),void 0!==i&&i!==n&&(r.push(i),n=i),o=l}return r}(t,f)}return 1===u?[-t[1]/t[0]].filter(o):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),u=123456789,o=4294967296;function i(e){return function(t,n,r,o,i=u,l=0){let a=[];for(let u=0;u<t;u++){let t=e(n,r,o,i,l),u=t.p;i=t.seed,a.push(u)}return a}}function l(e){return(134775813*e+1)%o}function a(e,t,n,r=u,i=0){let a=[];for(let u=0;u<e;u++){r=f(r=l(r),a,r/o*(n-t)+t,i)}return{vs:a=a.slice(0,e),seed:r}}function f(e,t,n,r){return e=l(e),t.push(n),e/o<r&&(e=f(e,t,n,r)),e}function s(e,t=0,n=1,o=u,i=0){let l=a(e,t,n,o,i);return o=l.seed,{p:r.default(l.vs),seed:o}}function c(e,t=-1,n=1,r=u){let o=a(e,t=void 0===t?-1:t,n=void 0===n?1:n,r=void 0===r?u:r);return r=o.seed,{p:o.vs,seed:r}}let d={flatRoots:s,flatRootsArr:i(s),flatCoefficients:c,flatCoefficientsArr:i(c)};t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),{evaluate:u}=r.default;let o={hornerErrorBound:function(e,t){const n=Number.EPSILON;return 2*(e.length-1)*n*function(e,t){let n=e.length-1,r=0;for(let u=0;u<n;u++)r+=Math.abs(e[u]*Math.pow(t,n-u));return r}(e,t)}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={2:{weights:[1,1],abscissas:[-.5773502691896257,.5773502691896257]},4:{weights:[.6521451548625461,.6521451548625461,.3478548451374538,.3478548451374538],abscissas:[-.3399810435848563,.3399810435848563,-.8611363115940526,.8611363115940526]},8:{weights:[.362683783378362,.362683783378362,.3137066458778873,.3137066458778873,.2223810344533745,.2223810344533745,.1012285362903763,.1012285362903763],abscissas:[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363]},16:{abscissas:[-.9894009349916499,-.9445750230732326,-.8656312023878318,-.755404408355003,-.6178762444026438,-.45801677765722737,-.2816035507792589,-.09501250983763744,.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499],weights:[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685,.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]}};t.default=function(e,t,n=16){if(t[0]===t[1])return 0;let{weights:u,abscissas:o}=r[n],[i,l]=t,a=0,f=(l-i)/2,s=(l+i)/2;for(let t=0;t<=n-1;t++)a+=u[t]*e(f*o[t]+s);return f*a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),u=1e-10;function o(e,t,n){if(t===n)return;let r=e[t];e[t]=e[n],e[n]=r}t.default=function(e,t=!1,n=u){function i(e,u,o){let i=r.default.ccw(e,u,o,n);return t?i<0:i<=0}t=!!t;let l=e.slice(),a=l.length,f=function(e){let t,n=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY];for(let r=0;r<e.length;r++){let u=e[r][1];(u<n[1]||u===n[1]&&e[r][0]<n[0])&&(t=r,n=e[r])}return t}(l),[s]=l.splice(f,1);(l=function(e,t){let n=[];for(let t=0;t<e.length;t++)n.push(t);n.sort(function(n,r){let u=t(e[n],e[r]);return 0!==u?u:n-r});let r=[];for(let t=0;t<e.length;t++)r.push(e[n[t]]);return r}(l,function(e,t){let u=r.default.cross(r.default.fromTo(s,t),r.default.fromTo(s,e));return 0!==(u=Math.abs(u)<n?0:u)?u:(u=e[1]-t[1],0!==(u=Math.abs(u)<n?0:u)?u:e[0]-t[0])})).unshift(s);let c=1;for(let e=2;e<a;e++){for(;i(l[c-1],l[c],l[e]);)if(c>1)c-=1;else{if(e===a-1){c-=1;break}e+=1}o(l,c+=1,e)}return l.slice(0,c+1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(35);t.evaluateDx2=function(e,t){const n=u.getDx2(e),o=r.default.evaluate(n);return void 0===t?o:o(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),o=n(36);let i=u.memoize(e=>r.default.differentiate(o.getX2(e)));t.getDx2=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(1).memoize(function(e){let[[t],[n],[r]]=e;return[r-2*n+t,2*n-2*t,t]});t.getX2=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(38);t.evaluateDy2=function(e,t){const n=u.getDy2(e),o=r.default.evaluate(n);return void 0===t?o:o(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),o=n(39);let i=u.memoize(e=>r.default.differentiate(o.getY2(e)));t.getDy2=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(1).memoize(function(e){let[[,t],[,n],[,r]]=e;return[r-2*n+t,2*n-2*t,t]});t.getY2=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22),u=n(20),o=n(41),i=n(43),l=n(44),a=n(45),f=n(6),s=n(26);t.bezier3Intersection=function(e,t,n,c){const d=192*Number.EPSILON;void 0===n&&(n=0),n=Math.max(n,d),void 0===c&&(c=1e-6),c=Math.max(c,1e-6);let g=0,h=[];"undefined"!=typeof _bez_debug_&&(_bez_debug_.generated.elems.beziers.push([e,t]),_bez_debug_.generated.elems.fatLine.push(new s.FatLine([[0,0],[1e-10,1e-10]],0,0)));let b={ps1:e,ps2:t,tRange1:[0,1],tRange2:[0,1],idx:1},v=[];for(v.push(b);0!==v.length;){let e=v.pop(),{ps1:t,ps2:n,tRange1:r,tRange2:u,idx:o}=e;p(t,n,r,u,o)}if("undefined"!=typeof _bez_debug_)for(let t of h)_bez_debug_.generated.elems.intersection.push(f.evaluate(e,t[0]));return h;function p(f,c,d,b,p){let _=0===p?1:0;[c,f]=a.center(c,f),"undefined"!=typeof _bez_debug_&&_bez_debug_.generated.elems.beziers.push([c,f]);let m,M,y,[I,,,T]=f;4===++g&&(g=0),m=o.getDistanceToLineFunction([I,T]);let[P,O]=[1,2].map(e=>m(f[e])),N=P*O>0?.75:4/9;M=N*Math.min(0,P,O),y=N*Math.max(0,P,O),"undefined"!=typeof _bez_debug_&&_bez_debug_.generated.elems.fatLine.push(new s.FatLine([I,T],M,y));let{tMin:j,tMax:D}=l.geoClip(c,m,M,y);if(j===Number.POSITIVE_INFINITY)return;if(D-j>.7){let e=b[1]-b[0],t=d[1]-d[0];if(void 0!==r.coincident(c,f))return;e<=t&&(_=p,[c,f]=[f,c],[b,d]=[d,b]);let n=b[1]-b[0],o=b[0],i=o+n/2,l=i,a=b[1],s=u.fromTo(c)(0,.5),g=u.fromTo(c)(.5,1);return v.push({ps1:s,ps2:f,tRange1:[o,i],tRange2:d,idx:_}),void v.push({ps1:g,ps2:f,tRange1:[l,a],tRange2:d,idx:_})}let x=b[1]-b[0],w=j*x+b[0],z=D*x+b[0];if(c=u.fromTo(c)(j,D),Math.abs(z-w)<n){let n=(z+w)/2,r=0===p?[e,t]:[t,e],u=i.calcOtherT(n,r[0],r[1]);if(void 0===u)return;let o=0===p?[n,u]:[u,n];h.push(o)}else v.push({ps1:c,ps2:f,tRange1:[w,z],tRange2:d,idx:_})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(42);t.getDistanceToLineFunction=function(e){let[t,n,u]=r.getLineEquation(e);return function(e){return t*e[0]+n*e[1]+u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLineEquation=function(e){let[[t,n],[r,u]]=e,o=n-u,i=r-t,l=t*u-r*n,a=Math.sqrt(Math.pow(o,2)+Math.pow(i,2));return[o/a,i/a,l/a]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),u=n(6),o=n(24),i=n(25);t.calcOtherT=function(e,t,n){let l=Math.max(t[0][0],t[0][1],t[1][0],t[1][1],t[2][0],t[2][1],t[3][0],t[3][1],n[0][0],n[0][1],n[1][0],n[1][1],n[2][0],n[2][1],n[3][0],n[3][1]),a=u.evaluate(t)(e),[f,s]=a,c=i.tsAtY(n,s),d=o.tsAtX(n,f);if(!c.length&&!d.length)return;let g=[...c,...d],h=void 0,b=Number.POSITIVE_INFINITY;for(let e of g){let t=u.evaluate(n)(e),o=r.squaredDistanceBetween(a,t);o<b&&(b=o,h=e)}let v=6144*Number.EPSILON*l;return b>v*v?void 0:h}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(21);t.geoClip=function(e,t,n,o){let i=u.toHybridQuadratic(e),l=t(i[0]),a=t(i[2]),f=t(i[1][0]),s=t(i[1][1]),c=Math.min(f,s),d=Math.max(f,s),g=[l-2*c+a,-2*l+2*c,l],h=[l-2*d+a,-2*l+2*d,l],b=2*Math.max(r.default.hornerErrorBound(g,1),r.default.hornerErrorBound(h,1));n-=b,o+=b;let v=g.slice();v[2]=v[2]-n;let p=g.slice();p[2]=p[2]-o;let _=h.slice();_[2]=_[2]-n;let m=h.slice();m[2]=m[2]-o;let M=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY,I=r.default.allRoots(v,0,1),T=r.default.allRoots(p,0,1),P=r.default.allRoots(_,0,1),O=r.default.allRoots(m,0,1);return M=Math.min(...I,...T,...P,...O),y=Math.max(...I,...T,...P,...O),l>=n&&l<=o&&(M=0),a>=n&&a<=o&&(y=1),M<0&&(M=0),y>1&&(y=1),{tMin:M,tMax:y}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.center=function(e,t){let n,u,[o,i,l,a]=e,[f,s,c,d]=t,g=r.squaredDistanceBetween(o,i)+r.squaredDistanceBetween(i,l)+r.squaredDistanceBetween(l,a);return r.squaredDistanceBetween(f,s)+r.squaredDistanceBetween(s,c)+r.squaredDistanceBetween(c,d)<g?(n=(f[0]+s[0]+c[0]+d[0])/4,u=(f[1]+s[1]+c[1]+d[1])/4):(n=(o[0]+i[0]+l[0]+a[0])/4,u=(o[1]+i[1]+l[1]+a[1])/4),[e=e.map(e=>[e[0]-n,e[1]-u]),t=t.map(e=>[e[0]-n,e[1]-u])]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(2),o=n(5),i=n(4);let l=4;t.bezier3IntersectionSylvester=function(e,t){let n,a,[f,s]=e[0],[c,d]=t[0];if(Math.abs(f-c)>1e-12){let r=(f-c)/(s-d),o=r*r,i=o/(1+o),l=i/r;n=u.rotatePs(i,l,e),a=u.rotatePs(i,l,t)}else n=e,a=t;let[g,h,b,v]=o.getX(n),[p,_,m,M]=i.getY(n),[y,I,T,P]=o.getX(a),[O,N,j,D]=i.getY(a),[x,w,z,B,Y,R]=[y,g,I,h,T,b],[E,L,S,q,F,C]=[O,p,N,_,j,m],A=D-M,V=x*x,X=w*w,Q=z*z,H=B*B,U=Y*Y,k=R*R,G=E*E,W=L*L,J=S*S,K=q*q,Z=F*F,$=C*C,ee=A*A,te=Q*z,ne=H*B,re=U*Y,ue=k*R,oe=ee*A,ie=B*A,le=B*ee,ae=w*ie,fe=w*le,se=z*A,ce=z*ee,de=w*A,ge=w*ee,he=[-X*A*R*$+ae*R*q*C+2*de*k*L*C-H*A*R*L*C-X*le*C-de*k*K+ie*k*L*q-2*X*ee*R*q+H*ge*q-A*ue*W+3*fe*R*L-ne*ee*L-X*w*oe,X*A*Y*$+2*X*A*R*F*C-ae*Y*q*C-4*de*Y*R*L*C+H*A*Y*L*C-ae*R*q*F-2*de*k*L*F+H*A*R*L*F+X*le*F+2*de*Y*R*K-2*ie*Y*R*L*q+2*X*ee*Y*q+3*A*Y*k*W-3*fe*Y*L,-2*X*A*Y*F*C-w*se*R*q*C-ae*R*S*C+2*z*ie*R*L*C+2*de*U*L*C+X*ce*C-X*A*R*Z+ae*Y*q*F+4*de*Y*R*L*F-H*A*Y*L*F-de*U*K+2*de*k*S*q-se*k*L*q+ie*U*L*q-2*w*z*le*q-ie*k*L*S+2*X*ee*R*S-w*H*ee*S-3*A*U*R*W-3*w*ce*R*L+3*z*H*ee*L,2*x*de*R*$-x*ie*R*q*C+w*se*Y*q*C+ae*Y*S*C-2*x*A*k*L*C-2*z*ie*Y*L*C-2*de*k*E*C+H*A*R*E*C+2*x*fe*C+X*A*Y*Z+w*se*R*q*F+ae*R*S*F-2*z*ie*R*L*F-2*de*U*L*F-X*ce*F+x*A*k*K-4*de*Y*R*S*q+2*se*Y*R*L*q-ie*k*E*q+4*x*ge*R*q-x*H*ee*q+2*ie*Y*R*L*S-2*X*ee*Y*S+A*re*W+2*A*ue*E*L-3*x*le*R*L+3*w*ce*Y*L-3*fe*R*E+ne*ee*E+3*x*X*oe,-2*x*de*Y*$-4*x*de*R*F*C+x*ie*Y*q*C+w*se*R*S*C+4*x*A*Y*R*L*C-Q*A*R*L*C+4*de*Y*R*E*C-H*A*Y*E*C+x*ie*R*q*F-w*se*Y*q*F-ae*Y*S*F+2*x*A*k*L*F+2*z*ie*Y*L*F+2*de*k*E*F-H*A*R*E*F-2*x*fe*F-2*x*A*Y*R*K+2*de*U*S*q-se*U*L*q+2*ie*Y*R*E*q-4*x*ge*Y*q+w*Q*ee*q-de*k*J+se*k*L*S-ie*U*L*S+2*w*z*le*S-6*A*Y*k*E*L+3*x*le*Y*L-3*Q*le*L+3*fe*Y*E,4*x*de*Y*F*C+x*se*R*q*C+x*ie*R*S*C-w*se*Y*S*C-2*x*A*U*L*C+Q*A*Y*L*C-2*z*ie*R*E*C-2*de*U*E*C-2*x*w*ce*C+2*x*de*R*Z-x*ie*Y*q*F-w*se*R*S*F-4*x*A*Y*R*L*F+Q*A*R*L*F-4*de*Y*R*E*F+H*A*Y*E*F+x*A*U*K-2*x*A*k*S*q+se*k*E*q-ie*U*E*q+2*x*z*le*q+2*de*Y*R*J-2*se*Y*R*L*S+ie*k*E*S-4*x*ge*R*S+x*H*ee*S+6*A*U*R*E*L+3*x*ce*R*L+3*w*ce*R*E-3*z*H*ee*E,-V*A*R*$-x*se*Y*q*C-x*ie*Y*S*C+2*x*A*k*E*C+2*z*ie*Y*E*C-V*le*C-2*x*de*Y*Z-x*se*R*q*F-x*ie*R*S*F+w*se*Y*S*F+2*x*A*U*L*F-Q*A*Y*L*F+2*z*ie*R*E*F+2*de*U*E*F+2*x*w*ce*F+4*x*A*Y*R*S*q-2*se*Y*R*E*q-2*V*ee*R*q-de*U*J+se*U*L*S-2*ie*Y*R*E*S+4*x*ge*Y*S-w*Q*ee*S-2*A*re*E*L-3*x*ce*Y*L+te*ee*L-A*ue*G+3*x*le*R*E-3*w*ce*Y*E-3*V*(w*oe),V*A*Y*$+2*V*A*R*F*C-x*se*R*S*C-4*x*A*Y*R*E*C+Q*A*R*E*C+x*se*Y*q*F+x*ie*Y*S*F-2*x*A*k*E*F-2*z*ie*Y*E*F+V*le*F-2*x*A*U*S*q+se*U*E*q+2*V*ee*Y*q-x*Q*ee*q+x*A*k*J-se*k*E*S+ie*U*E*S-2*x*z*le*S+3*A*Y*k*G-3*x*le*Y*E+3*Q*le*E,-2*V*A*Y*F*C+x*se*Y*S*C+2*x*A*U*E*C-Q*A*Y*E*C+V*ce*C-V*A*R*Z+x*se*R*S*F+4*x*A*Y*R*E*F-Q*A*R*E*F-2*x*A*Y*R*J+2*se*Y*R*E*S+2*V*ee*R*S-3*A*U*R*G-3*x*ce*R*E,V*A*Y*Z-x*se*Y*S*F-2*x*A*U*E*F+Q*A*Y*E*F-V*ce*F+x*A*U*J-se*U*E*S-2*V*ee*Y*S+x*Q*ee*S+A*re*G+3*x*ce*Y*E-te*ee*E+V*x*oe],be=r.default.allRoots(he,0),ve=[];for(let e=0;e<be.length;e++){let t=be[e],n=t*t,u=n*t,f={x:[g*u,h*n,b*t,v],y:[p*u,_*n,m*t,M]},s=r.default.subtract(o.getX(a),f.x),c=r.default.subtract(i.getY(a),f.y),d=r.default.allRoots(s,0,1),y=r.default.allRoots(c,0,1);for(let e=0;e<d.length;e++){let n=d[e];for(let e=0;e<y.length;e++){let r=y[e];if(Math.abs(n-r)<l){let e=(n+r)/2,u=e*t;e>=0&&e<=1&&u>=0&&u<=1&&ve.push([u,e])}}}}return ve}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48);t.BezDebug=class{constructor(e,t){this.draw=e,this.g=t,this.generated={elems:{beziers:[],fatLine:[],looseBoundingBox:[],tightBoundingBox:[],extreme:[],boundingHull:[],intersection:[]}},this.fs={draw:e,drawElem:r.drawElemFunctions}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);let u={beziers:function(e,t){let n=_bez_debug_.fs.draw,r=n.bezier(e,t[0],"blue thin5 nofill"),u=n.bezier(e,t[1],"green thin5 nofill"),o=function(e){let t=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;for(let o of e)o[0]<t&&(t=o[0]),o[1]<n&&(n=o[1]),o[0]>r&&(r=o[0]),o[1]>u&&(u=o[1]);let o=r-t,i=u-n;return Math.max(o,i)}([...t[0],...t[1]])/400,i=[...n.dot(e,t[0][0],o,"blue"),...n.dot(e,t[0][1],o,"blue"),...n.dot(e,t[0][2],o,"blue"),...n.dot(e,t[0][3],o,"blue"),...n.dot(e,t[1][0],o,"green"),...n.dot(e,t[1][1],o,"green"),...n.dot(e,t[1][2],o,"green"),...n.dot(e,t[1][3],o,"green")];return[...r,...u,...i]},intersection:function(e,t){return _bez_debug_.fs.draw.crossHair(e,t,"red thin5 nofill",.05)},extreme:function(e,t){return _bez_debug_.fs.draw.crossHair(e,t.p,"red thin10 nofill",.05)},boundingHull:function(e,t){return _bez_debug_.fs.draw.polygon(e,t,"thin5 black nofill")},looseBoundingBox:function(e,t){return _bez_debug_.fs.draw.rect(e,t,"thin5 brown nofill")},tightBoundingBox:function(e,t){return _bez_debug_.fs.draw.polygon(e,t,"thin5 black nofill")},fatLine:function(e,t){let n=_bez_debug_.fs.draw,{l:u,minD:o,maxD:i}=t,[l,a]=u;const f=1024;let s=r.fromTo(l,a),c=[+f*s[0],+f*s[1]],d=[-f*s[0],-f*s[1]],g=[-s[1],s[0]],h=r.toLength(g,o),b=r.toLength(g,i),v=r.translate(l,d),p=r.translate(a,c),_=[r.translate(v,h),r.translate(p,h)],m=[r.translate(v,b),r.translate(p,b)],M=n.line(e,_),y=n.line(e,m);return[...M,...y]}};t.drawElemFunctions=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(27);t.evalDeCasteljau=function(e,t){const[[n,u],[o,i],[l,a],[f,s]]=e;let c=r.deCasteljau([n,o,l,f]),d=r.deCasteljau([u,i,a,s]);function g(e){return 0===e?[n,u]:1===e?[f,s]:[c(e)[1][0],d(e)[1][0]]}return void 0===t?g:g(t)}}]);