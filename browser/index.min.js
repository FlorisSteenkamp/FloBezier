var FloBezier3=function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)n.d(r,u,function(t){return e[t]}.bind(null,u));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=28)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),u=n(7),o=n(8),l=n(29),i=n(30),a=n(31),f=n(9),s=(r.default.multiply,Object.assign({},r.default,u.default,o.default,a.default,{random:i.default,fromRoots:f.default,allRoots:l.default}));t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="function"==typeof WeakMap;let u={m1:function(e){if(!r)return e;let t=new WeakMap;return function(n){let r=t.get(n);return void 0!==r?r:(r=e(n),t.set(n,r),r)}}};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=1e-10;function u(e,t,n,u=r){let o=(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0]);return Math.abs(o)<=u?0:o}function o(e,t){let n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function l(e,t){return Math.sqrt(o(e,t))}function i(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function a(e){return e[0]*e[0]+e[1]*e[1]}function f(e,t,n){return e[0]*(t[1]*n[2]-t[2]*n[1])-e[1]*(t[0]*n[2]-t[2]*n[0])+e[2]*(t[0]*n[1]-t[1]*n[0])}function s(e,t){function n(t){return[e[0]+t[0],e[1]+t[1]]}return void 0===t?n:n(t)}t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},t.cross=function(e,t){return e[0]*t[1]-e[1]*t[0]},t.ccw=u,t.segSegIntersection=function(e,t,n=r){let[u,o]=e,[l,i]=t,a=(o[0]-u[0])*(i[1]-l[1])-(o[1]-u[1])*(i[0]-l[0]),f=(u[1]-l[1])*(i[0]-l[0])-(u[0]-l[0])*(i[1]-l[1]),s=(u[1]-l[1])*(o[0]-u[0])-(u[0]-l[0])*(o[1]-u[1]);if(Math.abs(a)<=n)return void Math.abs(f);let c=f/a,d=s/a;return 0<=c&&c<=1&&0<=d&&d<=1?[u[0]+c*(o[0]-u[0]),u[1]+c*(o[1]-u[1])]:void 0},t.doesSegSegIntersect=function(e,t){return!(u(e[0],e[1],t[0])*u(e[0],e[1],t[1])>0||u(t[0],t[1],e[0])*u(t[0],t[1],e[1])>0)},t.squaredDistanceBetween=o,t.scale=function(e,t){return[e[0]*t,e[1]*t]},t.reverse=function(e){return[-e[0],-e[1]]},t.toUnitVector=function(e){let t=1/i(e);return[e[0]*t,e[1]*t]},t.toLength=function(e,t){let n=t/i(e);return[e[0]*n,e[1]*n]},t.fromTo=function(e,t){return[t[0]-e[0],t[1]-e[1]]},t.interpolate=function(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]},t.mean=function(e){let t=e[0],n=e[1];return[(t[0]+n[0])/2,(t[1]+n[1])/2]},t.distanceBetween=l,t.len=i,t.lengthSquared=a,t.manhattanDistanceBetween=function(e,t){return Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])},t.manhattanLength=function(e){return Math.abs(e[0])+Math.abs(e[1])},t.distanceBetweenPointAndLine=function(e,t){let[n,r]=e,[[u,o],[l,i]]=t,a=i-o,f=l-u,s=a*n-f*r+l*o-i*u,c=Math.sqrt(f*f+a*a);return Math.abs(s/c)},t.squaredDistanceBetweenPointAndLineSegment=function(e,t){const n=o;let r=t[0],u=t[1],l=n(r,u);if(0==l)return n(e,r);let i=((e[0]-r[0])*(u[0]-r[0])+(e[1]-r[1])*(u[1]-r[1]))/l;return i=Math.max(0,Math.min(1,i)),n(e,[r[0]+i*(u[0]-r[0]),r[1]+i*(u[1]-r[1])])},t.circumCenter=function(e){let t=e[0],n=e[1],r=e[2];const u=a;let o=.5*f([u(t),t[1],1],[u(n),n[1],1],[u(r),r[1],1]),l=.5*f([t[0],u(t),1],[n[0],u(n),1],[r[0],u(r),1]),i=f([t[0],t[1],1],[n[0],n[1],1],[r[0],r[1],1]);return f([t[0],t[1],u(t)],[n[0],n[1],u(n)],[r[0],r[1],u(r)]),[o/i,l/i]},t.inCenter=function(e){const t=l;let n=e[0],r=e[1],u=e[2],o=t(r,u),i=t(n,u),a=t(n,r),f=o+i+a;return[(o*n[0]+i*r[0]+a*u[0])/f,(o*n[1]+i*r[1]+a*u[1])/f]},t.centroid=function(e){if(3===e.length){let t=e[0],n=e[1],r=e[2];return[(t[0]+n[0]+r[0])/3,(t[1]+n[1]+r[1])/3]}let t=0;for(let n=0;n<e.length;n++){let r=e[n],u=n===e.length-1?e[0]:e[n+1];t+=r[0]*u[1]-u[0]*r[1]}t/=2;let n=[0,0];for(let t=0;t<e.length;t++){let r=e[t],u=t===e.length-1?e[0]:e[t+1];n[0]=n[0]+(r[0]+u[0])*(r[0]*u[1]-u[0]*r[1]),n[1]=n[1]+(r[1]+u[1])*(r[0]*u[1]-u[0]*r[1])}return[n[0]/(6*t),n[1]/(6*t)]},t.det3=f,t.translate=s;let c=function(e){return function(t,n){let r=e(t),u=e=>e.map(r);return void 0===n?u:u(n)}}(s);t.translatePs=c;let d=function(e){return function(t,n,r){let u=e(t,n),o=e=>e.map(u);return void 0===r?o:o(r)}}(g);function g(e,t,n){c([1,2]);function r(n){return[n[0]*t-n[1]*e,n[0]*e+n[1]*t]}return void 0===n?r:r(n)}t.rotatePs=d,t.rotate=g,t.equal=function(e,t){return e[0]===t[0]&&e[1]===t[1]},t.reverseRotate=function(e,t,n){return[+n[0]*t+n[1]*e,-n[0]*e+n[1]*t]},t.rotate90Degrees=function(e){return[-e[1],e[0]]},t.rotateNeg90Degrees=function(e){return[e[1],-e[0]]},t.transform=function(e,t){return[t(e[0]),t(e[1])]},t.getClosestTo=function(e,t){let n=void 0,r=Number.POSITIVE_INFINITY;for(let u=0;u<t.length;u++){let l=t[u],i=o(e,l);i<r&&(n=l,r=i)}return n},t.getObjClosestTo=function(e,t,n){let r=void 0,u=Number.POSITIVE_INFINITY;for(let l=0;l<t.length;l++){let i=t[l],a=o(e,n(i));a<u&&(r=i,u=a)}return r},t.translateThenRotatePs=function(e,t,n,r){const u=s(e);return r.map(e=>g(t,n,u(e)))},t.rotateThenTranslatePs=function(e,t,n,r){return r.map(r=>s(n,g(e,t,r)))}},function(e,t,n){"use strict";function r(e,t){let n=e.length-1,r=t.length-1,u=n-r,o=0,l=0;u>0?l=-u:u<0&&(o=+u);let a=Math.max(n,r),f=[];for(let n=0;n<a+1;n++){let r=e[n+o],u=t[n+l];f.push((r||0)-(u||0))}return i(f)}function u(e){let t=[],n=e.length-1;for(let r=0;r<n;r++)t.push((n-r)*e[r]);return t}function o(e,t){let n=e.length-1,r=t.length-1,u=n+r,o=new Array(u+1).fill(0);for(let l=0;l<n+1;l++)for(let i=0;i<r+1;i++)o[u-(l+i)]+=e[n-l]*t[r-i];return i(o)}function l(e,t){if(0===e)return[];let n=t.length-1,r=[];for(let u=0;u<n+1;u++)r.push(e*t[u]);return i(r)}function i(e){return 0!==e[0]?e:i(e.slice(1))}function a(e){let t=0;for(let n=0;n<e.length;n++){let r=Math.abs(e[n]);r>t&&(t=r)}return t}Object.defineProperty(t,"__esModule",{value:!0});let f={equal:function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},add:function(e,t){let n=e.length-1,r=t.length-1,u=n-r,o=0,l=0;u>0?l=-u:u<0&&(o=+u);let a=Math.max(n,r),f=[];for(let n=0;n<a+1;n++){let r=e[n+o],u=t[n+l];f.push((r||0)+(u||0))}return i(f)},subtract:r,multiplyByConst:l,negate:function(e){return l(-1,e)},differentiate:u,multiply:o,degree:function(e){return e.length-1},evaluate:function(e,t){function n(t){let n=e[0];for(let r=1;r<e.length;r++)n=e[r]+n*t;return n}return void 0===t?n:n(t)},evaluateAt0:function(e){return e[e.length-1]},signChanges:function(e){let t=e.length-1,n=0,r=Math.sign(e[0]);for(let u=1;u<t+1;u++){let t=Math.sign(e[u]);t!==r&&0!==t&&(n++,r=t)}return n},invert:function(e){return e.slice().reverse()},changeVariables:function(e,t,n){let r=e.length-1,u=[];for(let e=0;e<r+1;e++)u.push(new Array(r+1).fill(0));u[0][0]=1;for(let e=1;e<=r;e++){u[0][e]=n*u[0][e-1];for(let r=1;r<=e;r++)u[r][e]=n*u[r][e-1]+t*u[r-1][e-1]}let o=new Array(r+1).fill(0);for(let t=0;t<=r;t++){o[r-t]=0;for(let n=t;n<=r;n++){let l=u[t][n]*e[r-n];o[r-t]+=l}}return o},reflectAboutYAxis:function(e){let t=e.length-1,n=e.slice();for(let e=0;e<t+1;e++)e%2&&(n[e]=-n[e]);return n},sturmChain:function(e){function t(e,t){e.length,t.length;let n=e[1]/e[0]-t[1]/t[0];return r(o(l(e[0]/t[0],t),[1,n]),e)}let n=[];n.push(e),n.push(u(e));let i=1;for(;n[i].length-1>0;){let e=t(n[i-1],n[i]);for(;n[i].length-e.length<1;)e.shift();n.push(e),i++}return n},clip:function e(t,n){n=void 0===n?Number.EPSILON:n;let r=a(t);if(0===r)return[];if(Math.abs(t[0])>n*r)return t;let u=t.slice(1);for(;Math.abs(u[0])<n*r;)u=u.slice(1);return e(u,n)},clip0:i,deflate:function(e,t){let n=e.length-1,r=[e[0]];for(let u=1;u<n;u++)r.push(e[u]+t*r[u-1]);return r},maxCoefficient:a,toCasStr:function(e){let t=e.length-1,n="";for(let r=0;r<t+1;r++){let u=e[r].toString();n+=r===t?u:r===t-1?"x*"+u+" + ":"x^"+(t-r).toString()+"*"+u+" + "}return n}};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=(0,n(1).default.m1)(function(e){let[[,t],[,n],[,r],[,u]]=e;return[u-3*r+3*n-t,3*r-6*n+3*t,3*n-3*t,t]});t.getY=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=(0,n(1).default.m1)(function(e){let[[t],[n],[r],[u]]=e;return[u-3*r+3*n-t,3*r-6*n+3*t,3*n-3*t,t]});t.getX=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(12),u=n(13);t.evaluate=function(e,t){const[[n,o],,,[l,i]]=e,a=r.evaluateX(e),f=u.evaluateY(e);function s(e){return 0===e?[n,o]:1===e?[l,i]:[a(e),f(e)]}return void 0===t?s:s(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),{sturmChain:u,evaluate:o,signChanges:l}=r.default;let i={quadraticRoots:function(e){let t,n,[r,u,o]=e,l=u*u-4*r*o;return l<0?[]:0===l?[-u/(2*r)]:(l=Math.sqrt(l),u>=0?(t=(-u-l)/(2*r),n=2*o/(-u-l)):(t=2*o/(-u+l),n=(-u+l)/(2*r)),t<n?[t,n]:[n,t])},numRootsWithin:function(e,t,n){let r=u(e),i=(o(e),r.map(e=>o(e)(t))),a=r.map(e=>o(e)(n));return l(i)-l(a)},brent:function(e,t,n){if(t===n)return t;let r,u=e(t),o=e(n);if(u*o>0)throw new Error("Root not bracketed");if(Math.abs(u)<Math.abs(o)){r=t,t=n,n=r;let e=u;u=o,o=e}r=t;let l,i=!0;for(;;){let a,f=2*Number.EPSILON*Math.abs(n),s=e(r);if(u!==s&&o!==s){let e=u-s,l=u-o,i=o-s;a=((t*o*i-n*u*e)*s+r*u*l*o)/(l*e*i)}else a=n-o*((n-t)/(o-u));let c=(3*t+n)/4,d=Math.abs(n-r),g=Math.abs(a-n),h=Math.abs(r-l);!(a>c&&a<n||a<c&&a>n)||i&&(g>=d/2||d<f)||!i&&(g>=h/2||h<f)?(a=(t+n)/2,i=!0):i=!1;let b=e(a);if(l=r,r=n,u*b<0?n=a:t=a,Math.abs(u)<Math.abs(o)){let e=t;t=n,n=e}if(0===o)return n;if(0===b)return a;if(Math.abs(t-n)<=f)return n;u=e(t),o=e(n)}},bisection:function(e,t,n){if(t===n)return t;n<t&&([t,n]=[n,t]);let r=e(t),u=e(n);if(0===r)return t;if(0===u)return n;if(r*u>0)throw new Error("Root not bracketed");for(;;){let u=t+(n-t)/2,o=e(u);if(0===o)return u;r*o<0?n=u:t=u;let l=2*Number.EPSILON*Math.abs(n);if(Math.abs(t-n)<=l)return n}}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),{invert:u,negate:o,reflectAboutYAxis:l}=r.default;const i=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152];function a(e){let t=e.length-1;if(t<1)return 0;e[0]<0&&(e=o(e));let n=[];for(let e=0;e<t;e++)n.push(1);let r=0;for(let u=0;u<=t;u++){if(e[u]>=0)continue;let t=Number.POSITIVE_INFINITY,o=!1;for(let r=0;r<u;r++){if(e[r]<=0)continue;let l,a=n[r];l=a>20?Math.pow(2,a):i[a];let f=Math.pow(-e[u]/(e[r]/l),1/(u-r));n[r]++,t>f&&(t=f),o=!0}o&&r<t&&(r=t)}return r}function f(e){let t=a(u(e));return 0===t?0:1/t}let s={rootMagnitudeUpperBound_fujiwara:function(e){let t=e.length-1,n=e[0],r=[];for(let u=1;u<t;u++){let t=Math.pow(Math.abs(e[u]/n),1/u);r.push(t)}return r.push(Math.pow(Math.abs(e[t]/2*n),1/t)),2*Math.max.apply(void 0,r)},positiveRootUpperBound_LMQ:a,positiveRootLowerBound_LMQ:f,negativeRootUpperBound_LMQ:function(e){return-f(l(e))},negativeRootLowerBound_LMQ:function(e){return-a(l(e))},rootMagnitudeUpperBound_rouche:function(e){return e.length,1+1/e[0]*function(e){return Math.max(...e.map(e=>Math.abs(e)))}(e.slice(1))}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),{multiply:u}=r.default;t.default=function(e){let t=[1];for(let n=0;n<e.length;n++)t=u(t,[1,-e[n]]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),o=n(5);let l=(0,u.default.m1)(e=>r.default.differentiate(o.getX(e)));t.getDx=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),o=n(4);let l=(0,u.default.m1)(e=>r.default.differentiate(o.getY(e)));t.getDy=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(5);t.evaluateX=function(e,t){const n=u.getX(e),o=r.default.evaluate(n);function l(t){return 0===t?e[0][0]:1===t?e[3][0]:o(t)}return void 0===t?l:l(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(4);t.evaluateY=function(e,t){const n=u.getY(e),o=r.default.evaluate(n);function l(t){return 0===t?e[0][1]:1===t?e[3][1]:o(t)}return void 0===t?l:l(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(10);t.evaluateDx=function(e,t){const n=u.getDx(e),o=r.default.evaluate(n);return void 0===t?o:o(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(11);t.evaluateDy=function(e,t){const n=u.getDy(e),o=r.default.evaluate(n);return void 0===t?o:o(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),u=n(15);t.tangent=function(e,t){const n=r.evaluateDx(e),o=u.evaluateDy(e);function l(e){let t=n(e),r=o(e),u=Math.sqrt(t*t+r*r);return[t/u,r/u]}return void 0===t?l:l(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16);t.normal=function(e,t){const n=r.tangent(e);function u(e){let t=n(e);return[t[1],-t[0]]}return void 0===t?u:u(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.from0ToT=function(e,t){let[[n,r],[u,o],[l,i],[a,f]]=e,s=1-t,c=t*t,d=c*t,g=s*s,h=g*s;return[[n,r],[t*u+s*n,t*o+s*r],[c*l+2*s*t*u+g*n,c*i+2*s*t*o+g*r],[d*a+3*s*c*l+3*g*t*u+h*n,d*f+3*s*c*i+3*g*t*o+h*r]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromTTo1=function(e,t){let[[n,r],[u,o],[l,i],[a,f]]=e,s=1-t,c=t*t,d=c*t,g=s*s,h=g*s;return[[d*a+3*s*c*l+3*g*t*u+h*n,d*f+3*s*c*i+3*g*t*o+h*r],[c*a+2*t*s*l+g*u,c*f+2*t*s*i+g*o],[t*a+s*l,t*f+s*i],[a,f]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),u=n(18),o=n(19);t.fromTo=function(e){return function(t,n){if(t===n){let n=r.evaluate(e,t);return[n,n,n,n]}if(0===t&&1===n)return e;if(0===t)return u.from0ToT(e,n);if(1===n)return o.fromTTo1(e,t);let l=o.fromTTo1(e,t);return u.from0ToT(l,(n-t)/(1-t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toHybridQuadratic=function(e){let[[t,n],[r,u],[o,l],[i,a]]=e;return[[t,n],[[(3*r-t)/2,(3*u-n)/2],[(3*o-i)/2,(3*l-a)/2]],[i,a]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),u=n(6),o=n(23),l=n(17);function i(e,t,n){let i=u.evaluate(e)(n),a=l.normal(e)(n),f=r.translate(i,a),s=o.lineIntersection(t,[i,f]),c=void 0,d=void 0,g=Number.POSITIVE_INFINITY;for(let e of s){let n=u.evaluate(t)(e),o=r.distanceBetween(n,i);o<g&&(c=e,d=n,g=o)}return{t:c,p:d,d:g}}t.coincident=function(e,t,n=1e-6){let r=[.01,.99].map(n=>i(e,t,n)),u=[.01,.99].map(n=>i(t,e,n)),o=.01,l=.99,a=.01,f=.99;r[0].d<=n&&(o=r[0].t),r[1].d<=n&&(l=r[1].t),u[0].d<=n&&(a=u[0].t),u[1].d<=n&&(f=u[1].t),a>f&&([a,f]=[f,a]),o>l&&([o,l]=[l,o]);let s=f-a;if(s<.1&&l-o<.1)return;for(let r=0;r<10;r++){let u=a+s*(r/10),{d:o}=i(e,t,u);if(o>n)return}return{p:[a,f],q:[o,l]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(2),o=n(4);t.lineIntersection=function(e,t){let[[n,l],[i,a]]=t,[f,s]=[i-n,a-l];if(0===f&&0===s)return[];e=u.translatePs([-n,-l],e);let c=Math.sqrt(f*f+s*s),d=s/c,g=f/c;return e=u.rotatePs(-d,g,e),r.default.allRoots(o.getY(e),0,1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(5);t.tsAtX=function(e,t){return e=e.map(e=>[e[0]-t,e[1]]),r.default.allRoots(u.getX(e),0,1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(4);t.tsAtY=function(e,t){return e=e.map(e=>[e[0],e[1]-t]),r.default.allRoots(u.getY(e),0,1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FatLine=class{constructor(e,t,n){this.l=e,this.minD=t,this.maxD=n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deCasteljau=function(e,t){function n(t){if(0===t)return[[e[0],e[0],e[0],e[0]],e];if(1===t)return[e,[e[3],e[3],e[3],e[3]]];let n=1-t,r=e[0],u=e[1],o=e[2],l=e[3],i=r*n+u*t,a=u*n+o*t,f=o*n+l*t,s=i*n+a*t,c=a*n+f*t,d=s*n+c*t;return[[r,i,s,d],[d,c,f,l]]}return void 0===t?n:n(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(2),o=n(1),l=n(32),i=n(33),a=n(5);t.getX=a.getX;const f=n(4);t.getY=f.getY;const s=n(10);t.getDx=s.getDx;const c=n(11);t.getDy=c.getDy;const d=n(12);t.evaluateX=d.evaluateX;const g=n(13);t.evaluateY=g.evaluateY;const h=n(6);t.evaluate=h.evaluate;const b=n(14);t.evaluateDx=b.evaluateDx;const v=n(15);t.evaluateDy=v.evaluateDy;const p=n(34),_=n(37),M=n(16);t.tangent=M.tangent;const m=n(17);t.normal=m.normal;const y=n(18);t.from0ToT=y.from0ToT;const I=n(19);t.fromTTo1=I.fromTTo1;const T=n(20);t.fromTo=T.fromTo;const P=n(21);t.toHybridQuadratic=P.toHybridQuadratic;const O=n(22);t.coincident=O.coincident;const N=n(23);t.lineIntersection=N.lineIntersection;const j=n(40);t.bezier3Intersection=j.bezier3Intersection;const D=n(46);t.bezier3IntersectionSylvester=D.bezier3IntersectionSylvester;const x=n(24);t.tsAtX=x.tsAtX;const w=n(25);t.tsAtY=w.tsAtY;const B=n(47);t.BezDebug=B.BezDebug;const Y=n(26);t.FatLine=Y.FatLine;const R=n(27);t.deCasteljau=R.deCasteljau;const E=n(49);t.evalDeCasteljau=E.evalDeCasteljau;let L=u.rotatePs;t.rotate=L;let S=u.translatePs;t.translate=S;const z=o.default.m1;let q=z(e=>r.default.differentiate(s.getDx(e)));t.getDdx=q;let F=z(e=>r.default.differentiate(c.getDy(e)));t.getDdy=F;let A=z(e=>r.default.differentiate(q(e)));t.getDddx=A;let C=z(e=>r.default.differentiate(F(e)));t.getDddy=C;let V=z(i.default);function X(e,t){const n=b.evaluateDx(e),r=v.evaluateDy(e),u=J(e),o=K(e);function l(e){let t=n(e),l=r(e),i=u(e);return(t*o(e)-l*i)/Math.sqrt(Math.pow(t*t+l*l,3))}return void 0===t?l:l(t)}t.getBoundingHull=V,t.fromLine=function(e){let[[t,n],[r,u]]=e,o=(r-t)/3,l=(u-n)/3;return[[t,n],[t+o,n+l],[t+2*o,n+2*l],[r,u]]},t.κ=X;let Q=X;function H(e,t){const n=b.evaluateDx(e),r=v.evaluateDy(e),u=J(e),o=K(e);function l(e){let t=n(e),l=r(e),i=u(e);return(t*o(e)-l*i)/(t*t+l*l)}return void 0===t?l:l(t)}function U(e,t){function n(t){return[,,W,G,k][t.length](e,t)}return void 0===t?n:n(t)}function k(e,t){if(e[0]===e[1])return 0;let[[n,r],[u,o],[i,a],[f,s]]=t;if(n===u&&u===i&&i===f&&r===o&&o===a&&a===s)return 0;const c=function(e,t){const n=b.evaluateDx(e),r=v.evaluateDy(e);function u(e){let t=n(e),u=r(e);return Math.sqrt(t*t+u*u)}return void 0===t?u:u(t)}(t);return l.default(c,e)}function G(e,t){if(e[0]===e[1])return 0;let[[n,r],[u,o],[i,a]]=t;if(n===u&&u===i&&r===o&&o===a)return 0;const f=function(e,t){const n=p.evaluateDx2(e),r=_.evaluateDy2(e);function u(e){let t=n(e),u=r(e);return Math.sqrt(t*t+u*u)}return void 0===t?u:u(t)}(t);return l.default(f,e)}function W(e,t){let[n,r]=e;if(n===r)return 0;let[[o,l],[i,a]]=t;if(o===i&&l===a)return 0;let f=[o+n*(i-o),l+n*(a-l)],s=[o+r*(i-o),l+r*(a-l)];return u.distanceBetween(f,s)}function J(e,t){const n=q(e),u=r.default.evaluate(n);return void 0===t?u:u(t)}function K(e,t){const n=F(e),u=r.default.evaluate(n);return void 0===t?u:u(t)}t.curvature=Q,t.dκMod=function(e,t){let[[n,r],[u,o],[l,i],[a,f]]=e;function s(e){let t=e*e,s=1-e,c=2*e-3*t,d=(3*e-1)*s,g=s*s,h=3*(t*a+c*l-d*u-g*n),b=3*(t*f+c*i-d*o-g*r),v=6*(e*f-(3*e-1)*i+(3*e-2)*o+s*r),p=6*(e*a-(3*e-1)*l+(3*e-2)*u+s*n),_=Math.sqrt(h*h+b*b);return 4*(h*(f-3*i+3*o-r)-b*(a-3*l+3*u-n))*Math.pow(_,3)-(h*v-p*b)*(2*v*b+2*p*h)*_}return void 0===t?s:s(t)},t.totalCurvature=function(e,t){function n(t){return l.default(H(e),t)}return M.tangent(e),void 0===t?n:n(t)},t.totalAbsoluteCurvature=function(e,t){function n(t=[0,1]){return l.default(t=>Math.abs(H(e)(t)),t)}return void 0===t?n:n(t)},t.len=U,t.getTAtLength=function(e,t){const n=t=>U([0,t],e);function u(e){return r.default.brent(t=>n(t)-e,0,1)}return void 0===t?u:u(t)},t.evaluateDdx=J,t.evaluateDdy=K,t.evaluateDddx=function(e,t){const n=A(e),u=r.default.evaluate(n);return void 0===t?u:u(t)},t.evaluateDddy=function(e,t){const n=C(e),u=r.default.evaluate(n);return void 0===t?u:u(t)};let Z=z(function(e){let[[t,n],[r,o],[l,i],[a,f]]=e,s=Math.sqrt((a-t)*(a-t)+(f-n)*(f-n)),c=(f-n)/s,d=(a-t)/s,g=function(e,t,n){let r=u.transform(e[0],e=>-e),o=u.translateThenRotatePs(r,-t,n,e);return $(o)}(e,c,d),[[h,b],[v,p]]=g,_=[g[0],[v,b],g[1],[h,p]];return u.rotateThenTranslatePs(c,d,e[0],_)});t.getBoundingBoxTight=Z;let $=z(function(e){return ee(e).box});t.getBoundingBox=$;let ee=z(function(e){let t=[s.getDx(e),c.getDy(e)].map(e=>r.default.allRoots(e,0,1));t[0].push(0,1),t[1].push(0,1);let n=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,i=void 0,a=void 0,f=void 0,h=void 0;for(let r=0;r<t[0].length;r++){let o=t[0][r],l=d.evaluateX(e,o);l<n&&(n=l,i=o),l>u&&(u=l,f=o)}for(let n=0;n<t[1].length;n++){let r=t[1][n],u=g.evaluateY(e,r);u<o&&(o=u,a=r),u>l&&(l=u,h=r)}return{ts:[[i,a],[f,h]],box:[[n,o],[u,l]]}});function te(e,t){let[[n,r],[u,o]]=e;return[n*(1-t)+u*t,r*(1-t)+o*t]}function ne(e,t){let[[n,r],[u,o],[l,i]]=e;return[n*Math.pow(1-t,2)+2*u*(1-t)*t+l*Math.pow(t,2),r*Math.pow(1-t,2)+2*o*(1-t)*t+i*Math.pow(t,2)]}t.getBounds=ee,t.splitAt=function(e,t){let[[n,r],[u,o],[l,i],[a,f]]=e,s=1-t,c=t*t,d=c*t,g=s*s,h=g*s,b=[[n,r],[t*u+s*n,t*o+s*r],[c*l+2*s*t*u+g*n,c*i+2*s*t*o+g*r],[d*a+3*s*c*l+3*g*t*u+h*n,d*f+3*s*c*i+3*g*t*o+h*r]];return[b,[b[3],[c*a+2*t*s*l+g*u,c*f+2*t*s*i+g*o],[t*a+s*l,t*f+s*i],[a,f]]]},t.bezierFromBezierPiece=function(e,t){if(0===t[0]&&1===t[1])return e;if(t[0]===t[1]){let n=h.evaluate(e)(t[0]);return[n,n,n,n]}return 0===t[0]?y.from0ToT(e,t[1]):1===t[1]?I.fromTTo1(e,t[0]):y.from0ToT(I.fromTTo1(e,t[0]),(t[1]-t[0])/(1-t[0]))},t.scale=function(e,t){return e.map(e=>[e[0]*t,e[1]*t])},t.toQuadratic=function(e){let[[t,n],[r,u],[o,l],[i,a]]=e;return[[.95*t+.15*r+-.15*o+.05*i,.95*n+.15*u+-.15*l+.05*a],[-.25*t+.75*r+.75*o+-.25*i,-.25*n+.75*u+.75*l+-.25*a],[.05*t+-.15*r+.15*o+.95*i,.05*n+-.15*u+.15*l+.95*a]]},t.evaluateHybridQuadratic=function(e,t,n){let r=e[0],u=(e[1],e[2]);return ne([r,te(e[1],n),u],t)},t.evaluateLinear=te,t.clone=function(e){let[[t,n],[r,u],[o,l],[i,a]]=e;return[[t,n],[r,u],[o,l],[i,a]]},t.evaluateQuadratic=ne,t.toCubic=function(e){let[[t,n],[r,u],[o,l]]=e;return[[t,n],[1/3*t+2/3*r,1/3*n+2/3*u],[2/3*r+1/3*o,2/3*u+1/3*l],[o,l]]},t.reverse=function(e){return e.slice().reverse()},t.equal=function(e,t){let[[n,r],[u,o],[l,i],[a,f]]=e,[[s,c],[d,g],[h,b],[v,p]]=t;return n===s&&u===d&&l===h&&a===v&&r===c&&o===g&&i===b&&f===p}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),u=n(7),o=n(8),{clip0:l,evaluate:i,differentiate:a,toCasStr:f}=r.default,{brent:s,quadraticRoots:c}=u.default,{rootMagnitudeUpperBound_fujiwara:d,positiveRootUpperBound_LMQ:g,positiveRootLowerBound_LMQ:h,negativeRootUpperBound_LMQ:b,negativeRootLowerBound_LMQ:v}=o.default,p=Number.POSITIVE_INFINITY;t.default=function e(t,n=-p,r=+p){let u=(t=l(t)).length-1,o=function(e,t){return n=>n>=e&&n<=t}(n,r);if(2===u)return c(t).filter(o);if(u>2){let u,l;n===-p||r===+p?(u=n===-p?v(t):n,l=r===+p?g(t):r):(u=n,l=r);let f=e(a(t),u,l).filter(o);return f[0]!==u&&f.unshift(u),f[f.length-1]!==l&&f.push(l),function(e,t){let n,r=[],u=i(e),o=t[0];for(let e=1;e<t.length;e++){let l,i=t[e],a=u(o),f=u(i),c=a*f;0===c?0===a?l=o:0===f&&e===t.length-1&&(l=i):a*f<0&&(l=s(u,o,i)),void 0!==l&&l!==n&&(r.push(l),n=l),o=i}return r}(t,f)}return 1===u?[-t[1]/t[0]].filter(o):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),u=123456789,o=4294967296;function l(e){return function(t,n,r,o,l=u,i=0){let a=[];for(let u=0;u<t;u++){let t=e(n,r,o,l,i),u=t.p;l=t.seed,a.push(u)}return a}}function i(e){return(134775813*e+1)%o}function a(e,t,n,r=u,l=0){let a=[];for(let u=0;u<e;u++){r=f(r=i(r),a,r/o*(n-t)+t,l)}return{vs:a=a.slice(0,e),seed:r}}function f(e,t,n,r){return e=i(e),t.push(n),e/o<r&&(e=f(e,t,n,r)),e}function s(e,t=0,n=1,o=u,l=0){let i=a(e,t,n,o,l);return o=i.seed,{p:r.default(i.vs),seed:o}}function c(e,t=-1,n=1,r=u){let o=a(e,t=void 0===t?-1:t,n=void 0===n?1:n,r=void 0===r?u:r);return r=o.seed,{p:o.vs,seed:r}}let d={flatRoots:s,flatRootsArr:l(s),flatCoefficients:c,flatCoefficientsArr:l(c)};t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),{evaluate:u}=r.default;let o={hornerErrorBound:function(e,t){const n=Number.EPSILON;return 2*(e.length-1)*n*function(e,t){let n=e.length-1,r=0;for(let u=0;u<n;u++)r+=Math.abs(e[u]*Math.pow(t,n-u));return r}(e,t)}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={2:{weights:[1,1],abscissas:[-.5773502691896257,.5773502691896257]},4:{weights:[.6521451548625461,.6521451548625461,.3478548451374538,.3478548451374538],abscissas:[-.3399810435848563,.3399810435848563,-.8611363115940526,.8611363115940526]},8:{weights:[.362683783378362,.362683783378362,.3137066458778873,.3137066458778873,.2223810344533745,.2223810344533745,.1012285362903763,.1012285362903763],abscissas:[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363]},16:{abscissas:[-.9894009349916499,-.9445750230732326,-.8656312023878318,-.755404408355003,-.6178762444026438,-.45801677765722737,-.2816035507792589,-.09501250983763744,.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499],weights:[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685,.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]}};t.default=function(e,t,n=16){if(t[0]===t[1])return 0;let{weights:u,abscissas:o}=r[n],[l,i]=t,a=0,f=(i-l)/2,s=(i+l)/2;for(let t=0;t<=n-1;t++)a+=u[t]*e(f*o[t]+s);return f*a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),u=1e-10;function o(e,t,n){if(t===n)return;let r=e[t];e[t]=e[n],e[n]=r}t.default=function(e,t=!1,n=u){function l(e,u,o){let l=r.default.ccw(e,u,o,n);return t?l<0:l<=0}t=!!t;let i=e.slice(),a=i.length,f=function(e){let t,n=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY];for(let r=0;r<e.length;r++){let u=e[r][1];(u<n[1]||u===n[1]&&e[r][0]<n[0])&&(t=r,n=e[r])}return t}(i),[s]=i.splice(f,1);(i=function(e,t){let n=[];for(let t=0;t<e.length;t++)n.push(t);n.sort(function(n,r){let u=t(e[n],e[r]);return 0!==u?u:n-r});let r=[];for(let t=0;t<e.length;t++)r.push(e[n[t]]);return r}(i,function(e,t){let u=r.default.cross(r.default.fromTo(s,t),r.default.fromTo(s,e));return 0!==(u=Math.abs(u)<n?0:u)?u:(u=e[1]-t[1],0!==(u=Math.abs(u)<n?0:u)?u:e[0]-t[0])})).unshift(s);let c=1;for(let e=2;e<a;e++){for(;l(i[c-1],i[c],i[e]);)if(c>1)c-=1;else{if(e===a-1){c-=1;break}e+=1}o(i,c+=1,e)}return i.slice(0,c+1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(35);t.evaluateDx2=function(e,t){const n=u.getDx2(e),o=r.default.evaluate(n);return void 0===t?o:o(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),o=n(36);let l=(0,u.default.m1)(e=>r.default.differentiate(o.getX2(e)));t.getDx2=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=(0,n(1).default.m1)(function(e){let[[t],[n],[r]]=e;return[r-2*n+t,2*n-2*t,t]});t.getX2=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(38);t.evaluateDy2=function(e,t){const n=u.getDy2(e),o=r.default.evaluate(n);return void 0===t?o:o(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),o=n(39);let l=(0,u.default.m1)(e=>r.default.differentiate(o.getY2(e)));t.getDy2=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=(0,n(1).default.m1)(function(e){let[[,t],[,n],[,r]]=e;return[r-2*n+t,2*n-2*t,t]});t.getY2=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22),u=n(20),o=n(41),l=n(43),i=n(44),a=n(45),f=n(6),s=n(26);t.bezier3Intersection=function(e,t,n,c){const d=192*Number.EPSILON;void 0===n&&(n=0),n=Math.max(n,d),void 0===c&&(c=1e-6),c=Math.max(c,1e-6);let g=0,h=[];"undefined"!=typeof _bez_debug_&&(_bez_debug_.generated.elems.beziers.push([e,t]),_bez_debug_.generated.elems.fatLine.push(new s.FatLine([[0,0],[1e-10,1e-10]],0,0)));let b={ps1:e,ps2:t,tRange1:[0,1],tRange2:[0,1],idx:1},v=[];for(v.push(b);0!==v.length;){let e=v.pop(),{ps1:t,ps2:n,tRange1:r,tRange2:u,idx:o}=e;p(t,n,r,u,o)}if("undefined"!=typeof _bez_debug_)for(let t of h)_bez_debug_.generated.elems.intersection.push(f.evaluate(e,t[0]));return h;function p(f,c,d,b,p){let _=0===p?1:0;[c,f]=a.center(c,f),"undefined"!=typeof _bez_debug_&&_bez_debug_.generated.elems.beziers.push([c,f]);let M,m,y,[I,,,T]=f;4===++g&&(g=0),M=o.getDistanceToLineFunction([I,T]);let[P,O]=[1,2].map(e=>M(f[e])),N=P*O>0?.75:4/9;m=N*Math.min(0,P,O),y=N*Math.max(0,P,O),"undefined"!=typeof _bez_debug_&&_bez_debug_.generated.elems.fatLine.push(new s.FatLine([I,T],m,y));let{tMin:j,tMax:D}=i.geoClip(c,M,m,y);if(j===Number.POSITIVE_INFINITY)return;if(D-j>.7){let e=b[1]-b[0],t=d[1]-d[0];if(void 0!==r.coincident(c,f))return;e<=t&&(_=p,[c,f]=[f,c],[b,d]=[d,b]);let n=b[1]-b[0],o=b[0],l=o+n/2,i=l,a=b[1],s=u.fromTo(c)(0,.5),g=u.fromTo(c)(.5,1);return v.push({ps1:s,ps2:f,tRange1:[o,l],tRange2:d,idx:_}),void v.push({ps1:g,ps2:f,tRange1:[i,a],tRange2:d,idx:_})}let x=b[1]-b[0],w=j*x+b[0],B=D*x+b[0];if(c=u.fromTo(c)(j,D),Math.abs(B-w)<n){let n=(B+w)/2,r=0===p?[e,t]:[t,e],u=l.calcOtherT(n,r[0],r[1]);if(void 0===u)return;let o=0===p?[n,u]:[u,n];h.push(o)}else v.push({ps1:c,ps2:f,tRange1:[w,B],tRange2:d,idx:_})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(42);t.getDistanceToLineFunction=function(e){let[t,n,u]=r.getLineEquation(e);return function(e){return t*e[0]+n*e[1]+u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLineEquation=function(e){let[[t,n],[r,u]]=e,o=n-u,l=r-t,i=t*u-r*n,a=Math.sqrt(Math.pow(o,2)+Math.pow(l,2));return[o/a,l/a,i/a]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),u=n(6),o=n(24),l=n(25);t.calcOtherT=function(e,t,n){let i=Math.max(t[0][0],t[0][1],t[1][0],t[1][1],t[2][0],t[2][1],t[3][0],t[3][1],n[0][0],n[0][1],n[1][0],n[1][1],n[2][0],n[2][1],n[3][0],n[3][1]),a=u.evaluate(t)(e),[f,s]=a,c=l.tsAtY(n,s),d=o.tsAtX(n,f);if(!c.length&&!d.length)return;let g=[...c,...d],h=void 0,b=Number.POSITIVE_INFINITY;for(let e of g){let t=u.evaluate(n)(e),o=r.squaredDistanceBetween(a,t);o<b&&(b=o,h=e)}let v=6144*Number.EPSILON*i;return b>v*v?void 0:h}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(21);t.geoClip=function(e,t,n,o){let l=u.toHybridQuadratic(e),i=t(l[0]),a=t(l[2]),f=t(l[1][0]),s=t(l[1][1]),c=Math.min(f,s),d=Math.max(f,s),g=[i-2*c+a,-2*i+2*c,i],h=[i-2*d+a,-2*i+2*d,i],b=2*Math.max(r.default.hornerErrorBound(g,1),r.default.hornerErrorBound(h,1));n-=b,o+=b;let v=g.slice();v[2]=v[2]-n;let p=g.slice();p[2]=p[2]-o;let _=h.slice();_[2]=_[2]-n;let M=h.slice();M[2]=M[2]-o;let m=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY,I=r.default.allRoots(v,0,1),T=r.default.allRoots(p,0,1),P=r.default.allRoots(_,0,1),O=r.default.allRoots(M,0,1);return m=Math.min(...I,...T,...P,...O),y=Math.max(...I,...T,...P,...O),i>=n&&i<=o&&(m=0),a>=n&&a<=o&&(y=1),m<0&&(m=0),y>1&&(y=1),{tMin:m,tMax:y}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.center=function(e,t){let n,u,[o,l,i,a]=e,[f,s,c,d]=t,g=r.squaredDistanceBetween(o,l)+r.squaredDistanceBetween(l,i)+r.squaredDistanceBetween(i,a);return r.squaredDistanceBetween(f,s)+r.squaredDistanceBetween(s,c)+r.squaredDistanceBetween(c,d)<g?(n=(f[0]+s[0]+c[0]+d[0])/4,u=(f[1]+s[1]+c[1]+d[1])/4):(n=(o[0]+l[0]+i[0]+a[0])/4,u=(o[1]+l[1]+i[1]+a[1])/4),[e=e.map(e=>[e[0]-n,e[1]-u]),t=t.map(e=>[e[0]-n,e[1]-u])]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(2),o=n(5),l=n(4);let i=4;t.bezier3IntersectionSylvester=function(e,t){let n,a,[f,s]=e[0],[c,d]=t[0];if(Math.abs(f-c)>1e-12){let r=(f-c)/(s-d),o=r*r,l=o/(1+o),i=l/r;n=u.rotatePs(l,i,e),a=u.rotatePs(l,i,t)}else n=e,a=t;let[g,h,b,v]=o.getX(n),[p,_,M,m]=l.getY(n),[y,I,T,P]=o.getX(a),[O,N,j,D]=l.getY(a),[x,w,B,Y,R,E]=[y,g,I,h,T,b],[L,S,z,q,F,A]=[O,p,N,_,j,M],C=D-m,V=x*x,X=w*w,Q=B*B,H=Y*Y,U=R*R,k=E*E,G=L*L,W=S*S,J=z*z,K=q*q,Z=F*F,$=A*A,ee=C*C,te=Q*B,ne=H*Y,re=U*R,ue=k*E,oe=ee*C,le=Y*C,ie=Y*ee,ae=w*le,fe=w*ie,se=B*C,ce=B*ee,de=w*C,ge=w*ee,he=[-X*C*E*$+ae*E*q*A+2*de*k*S*A-H*C*E*S*A-X*ie*A-de*k*K+le*k*S*q-2*X*ee*E*q+H*ge*q-C*ue*W+3*fe*E*S-ne*ee*S-X*w*oe,X*C*R*$+2*X*C*E*F*A-ae*R*q*A-4*de*R*E*S*A+H*C*R*S*A-ae*E*q*F-2*de*k*S*F+H*C*E*S*F+X*ie*F+2*de*R*E*K-2*le*R*E*S*q+2*X*ee*R*q+3*C*R*k*W-3*fe*R*S,-2*X*C*R*F*A-w*se*E*q*A-ae*E*z*A+2*B*le*E*S*A+2*de*U*S*A+X*ce*A-X*C*E*Z+ae*R*q*F+4*de*R*E*S*F-H*C*R*S*F-de*U*K+2*de*k*z*q-se*k*S*q+le*U*S*q-2*w*B*ie*q-le*k*S*z+2*X*ee*E*z-w*H*ee*z-3*C*U*E*W-3*w*ce*E*S+3*B*H*ee*S,2*x*de*E*$-x*le*E*q*A+w*se*R*q*A+ae*R*z*A-2*x*C*k*S*A-2*B*le*R*S*A-2*de*k*L*A+H*C*E*L*A+2*x*fe*A+X*C*R*Z+w*se*E*q*F+ae*E*z*F-2*B*le*E*S*F-2*de*U*S*F-X*ce*F+x*C*k*K-4*de*R*E*z*q+2*se*R*E*S*q-le*k*L*q+4*x*ge*E*q-x*H*ee*q+2*le*R*E*S*z-2*X*ee*R*z+C*re*W+2*C*ue*L*S-3*x*ie*E*S+3*w*ce*R*S-3*fe*E*L+ne*ee*L+3*x*X*oe,-2*x*de*R*$-4*x*de*E*F*A+x*le*R*q*A+w*se*E*z*A+4*x*C*R*E*S*A-Q*C*E*S*A+4*de*R*E*L*A-H*C*R*L*A+x*le*E*q*F-w*se*R*q*F-ae*R*z*F+2*x*C*k*S*F+2*B*le*R*S*F+2*de*k*L*F-H*C*E*L*F-2*x*fe*F-2*x*C*R*E*K+2*de*U*z*q-se*U*S*q+2*le*R*E*L*q-4*x*ge*R*q+w*Q*ee*q-de*k*J+se*k*S*z-le*U*S*z+2*w*B*ie*z-6*C*R*k*L*S+3*x*ie*R*S-3*Q*ie*S+3*fe*R*L,4*x*de*R*F*A+x*se*E*q*A+x*le*E*z*A-w*se*R*z*A-2*x*C*U*S*A+Q*C*R*S*A-2*B*le*E*L*A-2*de*U*L*A-2*x*w*ce*A+2*x*de*E*Z-x*le*R*q*F-w*se*E*z*F-4*x*C*R*E*S*F+Q*C*E*S*F-4*de*R*E*L*F+H*C*R*L*F+x*C*U*K-2*x*C*k*z*q+se*k*L*q-le*U*L*q+2*x*B*ie*q+2*de*R*E*J-2*se*R*E*S*z+le*k*L*z-4*x*ge*E*z+x*H*ee*z+6*C*U*E*L*S+3*x*ce*E*S+3*w*ce*E*L-3*B*H*ee*L,-V*C*E*$-x*se*R*q*A-x*le*R*z*A+2*x*C*k*L*A+2*B*le*R*L*A-V*ie*A-2*x*de*R*Z-x*se*E*q*F-x*le*E*z*F+w*se*R*z*F+2*x*C*U*S*F-Q*C*R*S*F+2*B*le*E*L*F+2*de*U*L*F+2*x*w*ce*F+4*x*C*R*E*z*q-2*se*R*E*L*q-2*V*ee*E*q-de*U*J+se*U*S*z-2*le*R*E*L*z+4*x*ge*R*z-w*Q*ee*z-2*C*re*L*S-3*x*ce*R*S+te*ee*S-C*ue*G+3*x*ie*E*L-3*w*ce*R*L-3*V*(w*oe),V*C*R*$+2*V*C*E*F*A-x*se*E*z*A-4*x*C*R*E*L*A+Q*C*E*L*A+x*se*R*q*F+x*le*R*z*F-2*x*C*k*L*F-2*B*le*R*L*F+V*ie*F-2*x*C*U*z*q+se*U*L*q+2*V*ee*R*q-x*Q*ee*q+x*C*k*J-se*k*L*z+le*U*L*z-2*x*B*ie*z+3*C*R*k*G-3*x*ie*R*L+3*Q*ie*L,-2*V*C*R*F*A+x*se*R*z*A+2*x*C*U*L*A-Q*C*R*L*A+V*ce*A-V*C*E*Z+x*se*E*z*F+4*x*C*R*E*L*F-Q*C*E*L*F-2*x*C*R*E*J+2*se*R*E*L*z+2*V*ee*E*z-3*C*U*E*G-3*x*ce*E*L,V*C*R*Z-x*se*R*z*F-2*x*C*U*L*F+Q*C*R*L*F-V*ce*F+x*C*U*J-se*U*L*z-2*V*ee*R*z+x*Q*ee*z+C*re*G+3*x*ce*R*L-te*ee*L+V*x*oe],be=r.default.allRoots(he,0),ve=[];for(let e=0;e<be.length;e++){let t=be[e],n=t*t,u=n*t,f={x:[g*u,h*n,b*t,v],y:[p*u,_*n,M*t,m]},s=r.default.subtract(o.getX(a),f.x),c=r.default.subtract(l.getY(a),f.y),d=r.default.allRoots(s,0,1),y=r.default.allRoots(c,0,1);for(let e=0;e<d.length;e++){let n=d[e];for(let e=0;e<y.length;e++){let r=y[e];if(Math.abs(n-r)<i){let e=(n+r)/2,u=e*t;e>=0&&e<=1&&u>=0&&u<=1&&ve.push([u,e])}}}}return ve}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48);t.BezDebug=class{constructor(e,t){this.draw=e,this.g=t,this.generated={elems:{beziers:[],fatLine:[],looseBoundingBox:[],tightBoundingBox:[],extreme:[],boundingHull:[],intersection:[]}},this.fs={draw:e,drawElem:r.drawElemFunctions}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);let u={beziers:function(e,t){let n=_bez_debug_.fs.draw,r=n.bezier(e,t[0],"blue thin5 nofill"),u=n.bezier(e,t[1],"green thin5 nofill"),o=function(e){let t=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;for(let o of e)o[0]<t&&(t=o[0]),o[1]<n&&(n=o[1]),o[0]>r&&(r=o[0]),o[1]>u&&(u=o[1]);let o=r-t,l=u-n;return Math.max(o,l)}([...t[0],...t[1]])/400,l=[...n.dot(e,t[0][0],o,"blue"),...n.dot(e,t[0][1],o,"blue"),...n.dot(e,t[0][2],o,"blue"),...n.dot(e,t[0][3],o,"blue"),...n.dot(e,t[1][0],o,"green"),...n.dot(e,t[1][1],o,"green"),...n.dot(e,t[1][2],o,"green"),...n.dot(e,t[1][3],o,"green")];return[...r,...u,...l]},intersection:function(e,t){return _bez_debug_.fs.draw.crossHair(e,t,"red thin5 nofill",.05)},extreme:function(e,t){return _bez_debug_.fs.draw.crossHair(e,t.p,"red thin10 nofill",.05)},boundingHull:function(e,t){return _bez_debug_.fs.draw.polygon(e,t,"thin5 black nofill")},looseBoundingBox:function(e,t){return _bez_debug_.fs.draw.rect(e,t,"thin5 brown nofill")},tightBoundingBox:function(e,t){return _bez_debug_.fs.draw.polygon(e,t,"thin5 black nofill")},fatLine:function(e,t){let n=_bez_debug_.fs.draw,{l:u,minD:o,maxD:l}=t,[i,a]=u;const f=1024;let s=r.fromTo(i,a),c=[+f*s[0],+f*s[1]],d=[-f*s[0],-f*s[1]],g=[-s[1],s[0]],h=r.toLength(g,o),b=r.toLength(g,l),v=r.translate(i,d),p=r.translate(a,c),_=[r.translate(v,h),r.translate(p,h)],M=[r.translate(v,b),r.translate(p,b)],m=n.line(e,_),y=n.line(e,M);return[...m,...y]}};t.drawElemFunctions=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(27);t.evalDeCasteljau=function(e,t){const[[n,u],[o,l],[i,a],[f,s]]=e;let c=r.deCasteljau([n,o,i,f]),d=r.deCasteljau([u,l,a,s]);function g(e){return 0===e?[n,u]:1===e?[f,s]:[c(e)[1][0],d(e)[1][0]]}return void 0===t?g:g(t)}}]);