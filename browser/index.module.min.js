var t={d:(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};t.d(n,{bz:()=>zg,y2:()=>Wa,SO:()=>Ze,gZ:()=>$a,Cn:()=>Tl,Vr:()=>al,bG:()=>id,d9:()=>Hr,jd:()=>va,Ay:()=>Ng,Sx:()=>Mg,hI:()=>ev,Ne:()=>vv,Dg:()=>Ur,su:()=>Or,WQ:()=>Df,T_:()=>Ua,K5:()=>uh,ku:()=>ud,hA:()=>sd,OA:()=>cd,Lb:()=>wg,Go:()=>aa,Xm:()=>Cr,jX:()=>Jh,JQ:()=>Pr,i$:()=>Dr,Gc:()=>tv,W9:()=>nv,A5:()=>Gg,FZ:()=>kg,vT:()=>fd,zX:()=>Yg,P6:()=>qi,QH:()=>ms,qt:()=>Mu,rs:()=>kc,Fn:()=>Hu,Ge:()=>cf,Xn:()=>tu,_p:()=>Ps,_k:()=>Ou,VI:()=>Xc,UD:()=>Zu,v9:()=>df,Vs:()=>bu,Cf:()=>Lc,u1:()=>qu,iQ:()=>ef,ep:()=>ss,yC:()=>_f,_u:()=>Fo,Us:()=>Vo,Gb:()=>Sf,zs:()=>ha,cQ:()=>Bg,LI:()=>cv,$k:()=>rv,GS:()=>sv,Mf:()=>iv,dP:()=>Je,PV:()=>uv,ir:()=>ov,v2:()=>Zh,_z:()=>kh,xV:()=>Wh,Kd:()=>Di,vC:()=>Qh,MA:()=>hs,pr:()=>Js,i2:()=>Gh,HL:()=>Wi,AI:()=>oc,LX:()=>xs,q3:()=>bc,wj:()=>Ch,pt:()=>fu,Vh:()=>Ic,gt:()=>Gs,Qi:()=>gh,Nl:()=>vh,mk:()=>Vf,I3:()=>Gv,n:()=>Xr,W_:()=>hv,fF:()=>Qe,J_:()=>Ti,OT:()=>Tg,ub:()=>Sg,wN:()=>Gf,cp:()=>po,gd:()=>vo,wE:()=>bo,mb:()=>zc,p0:()=>dv,NI:()=>uo,CH:()=>no,_2:()=>Og,Ll:()=>mo,kE:()=>Rr,w2:()=>Wr,mJ:()=>lv,uQ:()=>bv,d3:()=>jr,GY:()=>Ih,lx:()=>Mr,z$:()=>xr,xO:()=>yg,q_:()=>Ar,YR:()=>xg,K_:()=>zf,s6:()=>fv,rA:()=>Qr,Uc:()=>Kh,VG:()=>Xh,He:()=>Rg,Qc:()=>Ei,BB:()=>ld,_G:()=>bh,Ce:()=>mh,Cv:()=>$r,Ef:()=>gv});var e={};t.r(e);var r={};function o(t){return t[t.length-1]}function i(t){var n=new ArrayBuffer(8);return new DataView(n).setFloat64(0,t,!1),Array.from(new Uint8Array(n))}function u(t){return i(t).map(s).join("")}function s(t){let n=t.toString(2);for(;n.length<8;n="0"+n);return n}function c(t){let n=i(t),e=n[0],r=n[1],o=e>>7,u=((127&e)<<4)+((240&r)>>4),s=0===u?0:16,c=0===u?u-1022:u-1023,f=n.slice(1);return f[0]=(15&r)+s,{sign:o,exponent:c,significand:f}}function f(t){return c(t).significand}function l(t){return Math.log2(t&-t)}function a(t){if(0===t||!Number.isFinite(t))return NaN;let n=f(t),e=n.length;for(let t=e-1;t>=0;t--){if(0===n[t])continue;let r=l(n[t]);if(Number.isFinite(r))return 8*(e-t-1)+r}return NaN}function h(t){return t>=128?7:t>=64?6:t>=32?5:t>=16?4:t>=8?3:t>=4?2:t>=2?1:t>=1?0:NaN}function v(t){if(0===t||!Number.isFinite(t))return NaN;let n=f(t),e=n.length;for(let t=0;t<e;t++){let r=h(n[t]);if(Number.isFinite(r))return 8*(e-t-1)+r}return NaN}function g(t){return c(t).exponent}function d(t){if(0===t||!Number.isFinite(t))return NaN;let n=g(t);return v(t)-52+n}function p(t){const n=t.slice(),e=n.length;if(1===e)return n;let r=n[e-1],o=e;for(let t=e-2;t>=0;--t){const e=r,i=n[t];r=e+i;const u=i-(r-e);u&&(n[--o]=r,r=u)}let i=0;for(let t=o;t<e;++t){const e=n[t],o=r;r=e+o;const u=o-(r-e);u&&(n[i++]=u)}return n[i++]=r,n.length=i,n}function b(t,n){const e=(2**(53-n)+1)*t;return e-(e-t)}t.r(r);const m=o,I=p;function E(t,n){if(t=I(t),0===m(t))return[0];let e=d(t[t.length-1]),r=e,o=t.length-1;for(;o>0;){let i=d(t[o-1]);if(e-i>n)break;r=i,o--}let i=Math.min(n-(e-r),53),u=t[o];u=b(u,i);let s=t.slice(o);return s[0]=u,s}function N(t){let n=t[0];for(let e=1;e<t.length;e++)n+=t[e];return n}function _(t,n){const e=t.length,r=n.length;let o=0,i=0;const u=[];for(;o<e&&i<r;)0!==t[o]?0!==n[i]?Math.abs(t[o])<=Math.abs(n[i])?(u.push(t[o]),o++):(u.push(n[i]),i++):i++:o++;for(;o<e;)u.push(t[o]),o++;for(;i<r;)u.push(n[i]),i++;if(0===u.length)return[0];const s=u.length;if(1===s)return u;const c=[],f=u[1],l=u[0];let a=f+l;const h=l-(a-f);0!==h&&c.push(h),i=0;for(let t=2;t<s;t++){const n=u[t],e=a+n,r=e-a,o=a-(e-r)+(n-r);0!==o&&c.push(o),a=e}return 0===a&&0!==c.length||c.push(a),c}const M=134217729;function x(t,n){const e=t.length;let r;const o=t[0];let i=o*n;const u=M*o,s=u-(u-o),c=o-s,f=M*n,l=f-(f-n),a=n-l,h=[],v=c*a-(i-s*l-c*l-s*a);0!==v&&h.push(v);for(let o=1;o<e;o++){const e=t[o],u=e*n,s=M*e,c=s-(s-e),f=e-c,l=M*n,a=l-(l-n),v=n-a,g=f*v-(u-c*a-f*a-c*v),d=i+g,p=d-i,b=i-(d-p)+(g-p);0!==b&&h.push(b),r=d;const m=u+r,I=r-(m-u);0!==I&&h.push(I),i=m}return 0===i&&0!==h.length||h.push(i),h}function S(t,n){const e=n.length;let r;const o=n[0];let i=o*t;const u=M*o,s=u-(u-o),c=o-s,f=M*t,l=f-(f-t),a=t-l,h=[],v=c*a-(i-s*l-c*l-s*a);0!==v&&h.push(v);for(let o=1;o<e;o++){const e=n[o],u=e*t,s=M*e,c=s-(s-e),f=e-c,l=M*t,a=l-(l-t),v=t-a,g=f*v-(u-c*a-f*a-c*v),d=i+g,p=d-i,b=i-(d-p)+(g-p);0!==b&&h.push(b),r=d;const m=u+r,I=r-(m-u);0!==I&&h.push(I),i=m}return 0===i&&0!==h.length||h.push(i),h}const T=x,B=_;function y(t,n){let e=[0];for(let r=0;r<t.length;r++)e=B(e,T(n,t[r]));return e}function w(t){const n=t.length,e=new Array(n);for(let r=0;r<n;r++)e[r]=-t[r];return e}const z=w,O=_;function P(t,n){const e=z(n);return O(t,e)}function D(t){let n=p(t);if(0===o(n))return 0;let e=n[n.length-1],r=n[0];return g(e)-g(r)+(53-a(r))}const F=y,C=E,A=D,L=P,V=N;function q(t,n){const e=t.length;let r=n;const o=[];for(let n=0;n<e;n++){const e=t[n],i=r+e,u=i-r;let s=r-(i-u)+(e-u);0!==s&&o.push(s),r=i}return 0===r&&0!==o.length||o.push(r),o}function Y(t,n){const e=t+n,r=e-t;return[t-(e-r)+(n-r),e]}const G=Y,k=q,R=_;function $(t){let n=[0];for(let e=0;e<t.length;e++){const r=t[e];n=1===r.length?1===n.length?G(n[0],r[0]):k(n,r[0]):1===n.length?k(r,n[0]):R(n,r)}return n}const H=w,W=_,j=p,Q=q,X=$,U=x,K=P,J=Math.sign;function Z(t,n){t=j(t);let e=(n=j(n))[n.length-1];if(1===n.length){if(0===e)throw new Error("division by zero");if(1===e)return{div:t,rem:[0]};if(-1===e)return{div:H(t),rem:[0]}}const r=J(t[t.length-1]);if(0===r)return{div:[0],rem:[0]};let o=J(e),i=[],u=0;for(;;){let r=[];for(let o=t.length-1;o>=0;o--){const u=t[o];let s=Math.round((u-u%e)/e);if(r.push(U(n,s)),0===s)break;i.push(s)}if(t=j(K(t,X(r))),u===i.length)break;u=i.length}let s=t,c=[0];for(let t=0;t<i.length;t++)c=Q(c,i[t]);c=j(c);const f=J(s[s.length-1]);return 0!==f&&f!==r&&(r>0?o>0?(c=Q(c,-1),s=W(s,n)):(c=Q(c,1),s=W(s,H(n))):r<0&&(o>0?(c=Q(c,1),s=W(s,H(n))):(c=Q(c,-1),s=W(s,n)))),{div:c,rem:s}}const tt=Z;const nt=Z;const et=w;function rt(t){const n=[];for(let e=0;e<t.length;e++)n.push(2*t[e]);return n}function ot(t){const n=[];for(let e=0;e<t.length;e++)n.push(-2*t[e]);return n}function it(t){const n=[];for(let e=0;e<t.length;e++)n.push(.5*t[e]);return n}function ut(t,n){const e=t-n,r=t-e;return[t-(e+r)+(r-n),e]}function st(t,n){const e=t*n,r=134217729*t,o=r-(r-t),i=t-o,u=134217729*n,s=u-(u-n),c=n-s;return[i*c-(e-o*s-i*s-o*c),e]}const ct=y,ft=st,lt=x,at=Y,ht=q,vt=_;function gt(t){let n=[0];for(let e=0;e<t.length;e++){const r=t[e];let o=r[0];for(let t=1;t<r.length;t++){const n=r[t];o=1==n.length?1===o.length?ft(o[0],n[0]):lt(o,n[0]):1===o.length?lt(n,o[0]):ct(n,o)}n=1===o.length?1===n.length?at(n[0],o[0]):ht(n,o[0]):1===n.length?ht(o,n[0]):vt(n,o)}return n}const dt=y,pt=st,bt=x,mt=p;function It(t){let n=t[0];for(let e=1;e<t.length;e++){const r=t[e];n=1==r.length?1===n.length?pt(n[0],r[0]):bt(n,r[0]):1===n.length?bt(r,n[0]):dt(r,n)}return mt(n)}const Et=y,Nt=It;const _t=p;function Mt(t){const n=(t=_t(t)).length;return 2===n?t:1===n?[0,t[0]]:[t[n-2],t[n-1]]}function xt(t,n,e){let r,o=(t[0]-e[0])*(n[1]-e[1]),i=(t[1]-e[1])*(n[0]-e[0]),u=o-i;if(o>0){if(i<=0)return u;r=o+i}else{if(!(o<0))return u;if(i>=0)return u;r=-o-i}return Math.abs(u)>=3330669073875472e-31*r?u:function(t,n,e,r){let o=t[0]-e[0],i=n[0]-e[0],u=t[1]-e[1],s=n[1]-e[1],c=P(st(o,s),st(u,i)),f=N(c);if(Math.abs(f)>=2220446049250315e-31*r)return f;let l=ut(t[0],e[0])[0],a=ut(n[0],e[0])[0],h=ut(t[1],e[1])[0],v=ut(n[1],e[1])[0];if(0===l&&0===h&&0===a&&0===v)return f;let g=1109335647967049e-46*r+3330669073875471e-31*Math.abs(f);if(f+=o*v+s*l-(u*a+i*h),Math.abs(f)>=g)return f;let d=_(c,P(st(l,s),st(h,i))),b=_(d,P(st(o,v),st(u,a))),m=_(b,P(st(l,v),st(h,a)));return m=p(m),m[m.length-1]}(t,n,e,r)}function St(t,n){return!function(t,n){if(0===t||0===n)return!0;Math.abs(n)>Math.abs(t)&&([t,n]=[n,t]);let e=a(t),r=v(n);return e+(g(t)-g(n))>r}(t,n)}const Tt=_,Bt=y,yt={fastTwoDiff:function(t,n){const e=t-n;return[t-e-n,e]},fastTwoSum:function(t,n){const e=t+n;return[n-(e-t),e]},split:function(t){const n=134217729*t,e=n-(n-t);return[e,t-e]},twoDiff:ut,twoProduct:st,twoSum:Y,reduceSignificand:b,fastExpansionSum:_,eAdd:Tt,growExpansion:q,eAddDouble:q,expansionProduct:y,eMult:Bt,scaleExpansion:x,eMultDouble1:x,scaleExpansion2:S,eMultDouble2:S,eDiv:function(t,n,e){let r=n,o=t,i=!1,u=0;e||(u=A(o)-A(r)+1,e=u/53+1,i=!0);let s=[1/V(r)],c=1;for(;;){if(o=F(o,s),c>e)return i?(o=C(o,u),o):o.slice(o.length-e,o.length);r=F(r,s),s=L([2],r),c*=2}},eLongDivide:Z,eIntDiv:function(t,n){return tt(t,n).div},eRem:function(t,n){return nt(t,n).rem},eCompress:p,eEstimate:N,eDiff:P,eNegativeOf:w,eMultBy2:rt,eMultByNeg2:ot,eDivBy2:it,eSign:o,eCompare:function(t,n){return o(P(t,n))},eAbs:function(t){return t[t.length-1]<0?et(t):t},eToBitlength:E,eIntPow:function(t,n){if(0===n)return[1];if(1===n)return t;if(2===n)return Et(t,t);const e=[];for(let r=0;r<n;r++)e.push(t);return Nt(e)},eCalculate:gt,eSum:$,eProduct:It,eToDd:Mt,parseDouble:c,parseDoubleDetailed:function(t){let n=u(t),[,e,r,o]=n.match(/^(.)(.{11})(.{52})$/),i=0===parseInt(r,2)?"0":"1";return{full:e+r+i+o,sign:e,exponent:r,hidden:i,significand:o}},isBitAligned:function(t,n,e){if(0===t)return!0;let r=g(t),o=v(t)-52+r;return a(t)-52+r>=e&&o<=n-1+e},msbExponent:d,lsbExponent:function(t){if(0===t||!Number.isFinite(t))return NaN;let n=g(t);return a(t)-52+n},bitLength:function(t){return 0===t?0:v(t)-a(t)+1},expBitLength:D,doubleToBinaryString:u,doubleToOctets:i,getHighestSetBit:v,getLowestSetBit:a,exponent:g,significand:f,orient2d:xt,isAdjacent:function(t,n){return St(t,n)||St(t,2*n)||St(2*t,n)},isNonOverlappingAll:function(t){for(let n=1;n<t.length;n++)if(St(t[n-1],t[n]))return!1;return!0},eIsInteger:function(t){t=p(t);for(let n=0;n<t.length;n++)if(t[n]%1!=0)return!1;return!0}};function wt(t,n,e){if(n===e)return;let r=t[n];t[n]=t[e],t[e]=r}function zt(t){let n=0;for(let e=0;e<=t.length-1&&0===t[e];e++)n++;return 0!==n&&(t=t.slice(n)),t}const Ot=zt;function Pt(t,n){const e=t.length-1,r=n.length-1;if(e<0||r<0)return[];const o=e+r,i=new Array(o+1).fill(0);for(let u=0;u<e+1;u++)for(let s=0;s<r+1;s++)i[o-(u+s)]+=t[e-u]*n[r-s];return Ot(i)}const Dt=zt;function Ft(t){const n=[],e=t.length-1;for(let r=0;r<e;r++)n.push((e-r)*t[r]);return n}function Ct(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],u=r-i,s=u-r,c=e-o,f=c-e,l=r-(u-s)+(-i-s)+c,a=u+l,h=e-(c-f)+(-o-f)+(l-(a-u)),v=a+h;return[h-(v-a),v]}const At=Ct,Lt=Ct;function Vt(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],u=r+i,s=u-r,c=e+o,f=c-e,l=r-(u-s)+(i-s)+c,a=u+l,h=e-(c-f)+(o-f)+(l-(a-u)),v=a+h;return[h-(v-a),v]}function qt(t,n){const e=t[1],r=n[1],o=e*r,i=134217729*e,u=i-(i-e),s=e-u,c=134217729*r,f=c-(c-r),l=r-f,a=s*l-(o-u*f-s*f-u*l)+(e*n[0]+t[0]*r),h=o+a;return[a-(h-o),h]}function Yt(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],u=r/i,s=i*u,c=134217729*i,f=c-(c-i),l=i-f,a=134217729*u,h=a-(a-u),v=u-h,g=o*u,d=s+g,p=g-(d-s)+(l*v-(s-f*h-l*h-f*v)),b=d+p,m=(r-b+(e-(p-(b-d))))/i,I=u+m;return[m-(I-u),I]}function Gt(t){var n=new ArrayBuffer(8);return new DataView(n).setFloat64(0,t,!1),Array.from(new Uint8Array(n))}function kt(t){return Gt(t).map(Rt).join("")}function Rt(t){let n=t.toString(2);for(;n.length<8;n="0"+n);return n}function $t(t){let n=Gt(t),e=n[0],r=n[1],o=e>>7,i=((127&e)<<4)+((240&r)>>4),u=0===i?0:16,s=0===i?i-1022:i-1023,c=n.slice(1);return c[0]=(15&r)+u,{sign:o,exponent:s,significand:c}}function Ht(t){return $t(t).significand}function Wt(t){return Math.log2(t&-t)}function jt(t){if(0===t||!Number.isFinite(t))return NaN;let n=Ht(t),e=n.length;for(let t=e-1;t>=0;t--){if(0===n[t])continue;let r=Wt(n[t]);if(Number.isFinite(r))return 8*(e-t-1)+r}return NaN}function Qt(t){return t>=128?7:t>=64?6:t>=32?5:t>=16?4:t>=8?3:t>=4?2:t>=2?1:t>=1?0:NaN}function Xt(t){if(0===t||!Number.isFinite(t))return NaN;let n=Ht(t),e=n.length;for(let t=0;t<e;t++){let r=Qt(n[t]);if(Number.isFinite(r))return 8*(e-t-1)+r}return NaN}function Ut(t){return $t(t).exponent}Number.EPSILON;const Kt=Yt,Jt=Number.EPSILON/2,Zt=Jt*Jt,tn=Number.EPSILON/2,nn=function(t,n){const e=n[0],r=n[1],o=r*t,i=134217729*r,u=i-(i-r),s=r-u,c=134217729*t,f=c-(c-t),l=t-f,a=s*l-(o-u*f-s*f-u*l)+e*t,h=o+a;return[a-(h-o),h]},en=function(t,n){return At(t,n)[1]>0?n:t},rn=function(t,n){return Lt(t,n)[1]>0?t:n},on=function(t,n){const e=t[0],r=t[1],o=r+n,i=o-r,u=e+(r-(o-i)+(n-i)),s=o+u;return[u-(s-o),s]},un=Vt,sn=Ct,cn=function(t){return[2*t[0],2*t[1]]},fn=function(t){return[4*t[0],4*t[1]]},ln=function(t){return[t[0]/2,t[1]/2]},an=function(t){return[-2*t[0],-2*t[1]]},hn=qt,vn=Yt,gn=function(t){return[-t[0],-t[1]]},dn=function(t,n){const e=t-n,r=t-e;return[t-(e+r)+(r-n),e]},pn=function(t,n){const e=t*n,r=134217729*t,o=r-(r-t),i=t-o,u=134217729*n,s=u-(u-n),c=n-s;return[i*c-(e-o*s-i*s-o*c),e]},bn=function(t,n){const e=t+n,r=e-t;return[t-(e-r)+(n-r),e]},mn=function(t,n,e,r){const o=t[0],i=t[1],u=n[0],s=n[1],c=Kt(t,n),f=Math.abs(o+i),l=Math.abs(u+s),a=l-Jt*l-r;return a<=0?{est:c,err:Number.POSITIVE_INFINITY}:{est:c,err:(l*e+f*r)/a**2+9*Zt*Math.abs(f/l)}},In={fastTwoDiff:function(t,n){const e=t-n;return[t-e-n,e]},fastTwoSum:function(t,n){const e=t+n;return[n-(e-t),e]},split:function(t){const n=134217729*t,e=n-(n-t);return[e,t-e]},twoDiff:dn,twoProduct:pn,doubleDivDouble:function(t,n){const e=t/n,r=e*n,o=134217729*e,i=o-(o-e),u=e-i,s=134217729*n,c=s-(s-n),f=n-c,l=(t-r-(u*f-(r-i*c-u*c-i*f)))/n,a=e+l;return[l-(a-e),a]},twoSum:bn,reduceSignificand:function(t,n){const e=(2**(53-n)+1)*t;return e-(e-t)},doubleSqrt:function(t){if(0===t)return[0,0];const n=Math.sqrt(t),e=n*n,r=134217729*n,o=r-(r-n),i=n-o,u=.5*(t-e-(i*i-(e-o*o-o*i*2)))/n;return[u-((t=n+u)-n),t]},ddSqrt:function(t){const n=t[0],e=t[1];if(0===e)return[0,0];const r=Math.sqrt(e),o=r*r,i=134217729*r,u=i-(i-r),s=r-u,c=.5*(e-o-(s*s-(o-u*u-u*s*2))+n)/r;return[c-(r+c-r),r+c]},ddAbs:function(t){const n=t[1];return n<0?[-t[0],-n]:t},ddAddDouble:on,ddAddDd:un,ddProduct:function(t){let n=t[0];for(let e=1;e<t.length;e++)n=qt(n,t[e]);return n},ddSum:function(t){let n=t[0];for(let e=1;e<t.length;e++)n=Vt(n,t[e]);return n},ddCompare:function(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],u=r-i,s=u-r,c=e-o,f=c-e,l=r-(u-s)+(-i-s)+c,a=u+l;return a+(e-(c-f)+(-o-f)+(l-(a-u)))},ddDiffDd:sn,ddMultDouble1:function(t,n){const e=n[0],r=n[1],o=r*t,i=134217729*r,u=i-(i-r),s=r-u,c=134217729*t,f=c-(c-t),l=t-f,a=e*t,h=o+a,v=a-(h-o)+(s*l-(o-u*f-s*f-u*l)),g=h+v;return[v-(g-h),g]},ddMultDouble2:nn,ddMultDd:hn,ddDivDouble:function(t,n){const e=t[0],r=t[1],o=r/n,i=o*n,u=134217729*o,s=u-(u-o),c=o-s,f=134217729*n,l=f-(f-n),a=n-l,h=(r-i-(c*a-(i-s*l-c*l-s*a))+e)/n,v=o+h;return[h-(v-o),v]},ddDivDd:vn,ddNegativeOf:gn,ddSign:function(t){return t[1]},ddMultBy2:cn,ddMultBy4:fn,ddDivBy2:ln,ddMultByNeg2:an,ddMultByNeg4:function(t){return[-4*t[0],-4*t[1]]},ddMin:en,ddMax:rn,ddDivDdWithError:mn,divWithErr:function(t,n,e,r){const o=t/n,i=Math.abs(t),u=Math.abs(n),s=u-r;return s<=0?{est:o,err:Number.POSITIVE_INFINITY}:{est:o,err:(u*e+i*r)/s**2+tn*Math.abs(i/u)}},sqrtWithErr:function(t,n){if(t-n<=0){const e=t>0?Math.sqrt(t):0;return{est:e,err:Math.max(Math.sqrt(t+n)-e,e)}}const e=Math.sqrt(t),r=Math.sqrt(t-n),o=Math.sqrt(t+n);return{est:e,err:Math.max(Math.abs(r-e),Math.abs(o-e))}},parseDouble:$t,parseDoubleDetailed:function(t){let n=kt(t),[,e,r,o]=n.match(/^(.)(.{11})(.{52})$/),i=0===parseInt(r,2)?"0":"1";return{full:e+r+i+o,sign:e,exponent:r,hidden:i,significand:o}},isBitAligned:function(t,n,e){if(0===t)return!0;let r=Ut(t),o=Xt(t)-52+r;return jt(t)-52+r>=e&&o<=n-1+e},msbExponent:function(t){if(0===t||!Number.isFinite(t))return NaN;let n=Ut(t);return Xt(t)-52+n},lsbExponent:function(t){if(0===t||!Number.isFinite(t))return NaN;let n=Ut(t);return jt(t)-52+n},bitLength:function(t){return 0===t?0:Xt(t)-jt(t)+1},doubleToBinaryString:kt,doubleToOctets:Gt,getHighestSetBit:Xt,getLowestSetBit:jt,exponent:Ut,significand:Ht},En=Number.EPSILON/2,Nn=En*En;function _n(t){const n=t*En;return n/(1-n)}const Mn=nn,xn=N,Sn=function(t){const n=t*Nn;return n/(1-n)}(3);const Tn=x;const Bn=Y,yn=st;function wn(t,n){let e=0;for(let r=0;r<t.length;r++)e=e*n+t[r];return e}const zn=Math.abs;Number.EPSILON,Number.EPSILON,Number.EPSILON;const On=Math.abs,Pn=Number.EPSILON/2;function Dn(t,n){let e=t[0],r=.5*On(e);for(let o=1;o<t.length;o++)e=e*n+t[o],r=r*On(n)+On(e);return r=Pn*(2*r-On(e)),[e,r]}const Fn=_n,Cn=function(t,n){const e=[],r=[];let o,i=t[0];for(let u=1;u<t.length;u++){const[s,c]=yn(i,n);[o,i]=Bn(c,t[u]),e.push(s),r.push(o)}return{r̂:i,pπ:e,pσ:r}},An=Dn,Ln=wn,Vn=function(t,n){let e=0;for(let r=0;r<t.length;r++)e=e*n+zn(t[r]);return e},qn=Fn(1),Yn=Fn(2);function Gn(t,n,e,r=1){const o=Math.abs(n),i=t[0],[u,s]=An(i,n),c=Yn*Vn(i,o),f=void 0!==e?Ln(e,o):0;if((s+c+f)*r<Math.abs(u))return u;let{r̂:l,pπ:a,pσ:h}=Cn(i,n);const[v,g]=An(a,n),[d,p]=An(h,n),[b,m]=An(t[1],n);let I=g+p+m+f;return l=v+d+b+l,I+=qn*l,I*r<Math.abs(l)?l:0}const kn=_n;kn(1),kn(2);const Rn=_,$n=x;function Hn(t,n){let e=[0];for(let r=0;r<t.length;r++)e=Rn(t[r],$n(e,n));return e}const Wn=Pt;function jn(t){let n=[1];for(let e=0;e<t.length;e++)n=Wn(n,[1,-t[e]]);return n}function Qn(t){return function(n,e,r,o,i=123456789,u=0){const s=[];for(let c=0;c<n;c++){const n=t(e,r,o,i,u),c=n.p;i=n.seed,s.push(c)}return s}}function Xn(t){return(134775813*t+1)%4294967296}function Un(t,n,e,r,o=0){let i=[];for(let u=0;u<t;u++)r=Kn(r=Xn(r),i,r/4294967296*(e-n)+n,o);return i=i.slice(0,t),{vs:i,seed:r}}function Kn(t,n,e,r){return t=Xn(t),n.push(e),t/4294967296<r&&(t=Kn(t,n,e,r)),t}Qn((function(t,n=0,e=1,r=123456789,o=0){const i=Un(t,n,e,r,o);return r=i.seed,{p:jn(i.vs),seed:r}})),Qn((function(t,n=-1,e=1,r=123456789){const o=Un(t,n,e,r);return r=o.seed,{p:o.vs,seed:r}}));const Jn=Gn,Zn=Hn,te=N,ne=Gn,ee=Hn,re=N,oe=Number.EPSILON,ie=Math.abs,ue=Math.max,se=function(t){return t.slice().reverse()},ce=function(t){const n=t.length-1;if(n<0)return[];const e=t.slice();for(let t=0;t<n+1;t++)t%2&&(e[t]=-e[t]);return e},fe=function(t){const n=[];for(let e=0;e<t.length;e++)n.push(-t[e]);return n},le=function(t){return n=>1/t(se(n))};function ae(t){const n=t.length-1;if(n<1)return 0;t[0]<0&&(t=fe(t));const e=[];for(let t=0;t<n;t++)e.push(1);let r=0;for(let o=0;o<=n;o++){if(t[o]>=0)continue;let n=Number.POSITIVE_INFINITY,i=!1;for(let r=0;r<o;r++){if(t[r]<=0)continue;const u=(-t[o]/(t[r]/2**e[r]))**(1/(o-r));e[r]++,n>u&&(n=u),i=!0}i&&r<n&&(r=n)}return r}le(ae);const he=(we=ae,t=>-we(ce(t))),ve=(le(he),function(t){const{p:n,pE:e}=t,r=[],o=[],i=n.length-1;for(let t=0;t<i;t++){const u=i-t,s=Mn(u,n[t]);r.push(s);const c=0==(u&u-1)?0:Sn,f=xn(s);o.push(u*e[t]+Math.abs(f)*c)}return{p:r,pE:o}}),ge=Gn,de=Hn,pe=function(t){const n=t[0].length,e=[];for(let r=0;r<n;r++){const o=[];for(let e=0;e<t.length;e++)o.push(t[e][n-(r+1)]);e.push(o)}return e},be=function(t,n,e,r){const o=Jn(t,e,n,4);return 0!==o?o:te(Zn(r(),e))},me=function(t,n,e,r,o,i,u,s){let c=e,f=r,l=c,a=o,h=f-c,v=h;for(;;){let g;ie(a)<ie(i)&&(c=f,f=l,l=c,o=i,i=a,a=o);const d=ue(ie(c),ie(f));g=d<=1?oe:oe*2**Math.ceil(Math.log2(d));const p=.5*(l-f);if(ie(p)<=g)return f<l?[f,l]:[l,f];if(ie(h)<g||ie(o)<=ie(i))h=p,v=h;else{let t,n,e=i/o;if(c===l)t=2*p*e,n=1-e;else{n=o/a;const r=i/a;t=e*(2*p*n*(n-r)-(f-c)*(r-1)),n=(n-1)*(r-1)*(e-1)}0<t?n=-n:t=-t,e=h,h=v,2*t<3*p*n-ie(g*n)&&t<ie(.5*e*n)?v=t/n:(h=p,v=h)}if(c=f,o=i,g<ie(v)?f+=v:0<p?f+=g:f-=g,0===(i=s?re(ee(u(),f)):ne(t,f,n))){if(s)return[f,f];const o=Math.max(e,f-g),c=Math.min(r,f+g);if(ne(t,o,n)*ne(t,c,n)!=0)return[o,c];if(s=!0,0===(i=re(ee(u(),f))))return[f,f]}(0<i&&0<a||i<=0&&a<=0)&&(l=c,a=o,h=f-c,v=h)}},Ie=he,Ee=ae,Ne=function(t){const n=[],e=t.length-1;for(let r=0;r<e;r++)n.push(Tn(t[r],e-r));return n},_e=N,Me=Dn,xe=o,Se=Math.max,Te=Math.min,Be=Math.abs,ye=1+Number.EPSILON;var we;function ze(t,n=0,e=1,r,o,i){o||(o=()=>t),r=r||new Array(t.length).fill(0);let u,s,c=0;for(;t.length>0&&Be(t[0][1])<=r[0]&&(s=s||o(),0===xe(s[0]));)(t=t.slice()).shift(),(r=r.slice()).shift(),s.shift();if(0===t.length)return i?void 0:[];if(1===t.length)return[];if(n===Number.NEGATIVE_INFINITY||e===Number.POSITIVE_INFINITY){const r=t.map((t=>t[1]));n===Number.NEGATIVE_INFINITY&&(n=Ie(r)),e===Number.POSITIVE_INFINITY&&(e=Ee(r))}const f=pe(t);let l,a;const h=t.length-1;let v,g;l=0,a=!1;do{if(v=a?_e(de(E(),n)):ge(f,n,r),0===v){if(l++,l>=3&&!a){a=!0;continue}n-=2*Number.EPSILON*Se(1,Be(n))}}while(0===v);l=0,a=!1;do{if(g=a?_e(de(E(),e)):ge(f,e,r),0===g){if(l++,l>=3&&!a){a=!0;continue}e+=2*Number.EPSILON*Se(1,Be(e))}}while(0===g);const d=[{p:t,pE:r}],p=[pe(t)];for(let t=1;t<=h;t++){const n=ve(d[t-1]);d.push(n),p.push(pe(n.p))}let b,m,I=[];for(c=h-1;c>=0;c--)b=d[c].pE,m=p[c],I=N();function E(){if(void 0!==u)return u[c];let t=s||o();for(u=[t];t.length>1;)t=Ne(t),u.push(t);return u[c]}return I;function N(){const t=[],r=be(m,b,n,E);if(!I.length){const t=be(m,b,e,E);if(r*t>=0)return[];const[o,i]=me(m,b,n,e,r,t,E);return[{tS:o,tE:i,multiplicity:1}]}let o=I[0].tS,i=be(m,b,o,E);if(r*i>0);else if(r*i<0){const[e,u]=me(m,b,n,o,r,i,E);t.push({tS:e,tE:u,multiplicity:1})}let u,s=n,f=r,l=o,a=i;for(let n=0;n<I.length;n++){const r=I[n+1];u=I[n],o=l,s=I[n].tE,l=r?r.tS:e;const c=f;if(i=a,f=be(m,b,s,E),a=be(m,b,l,E),i*f>0)if(f*a>0)s!==o&&u.multiplicity%2==1&&v();else if(f*a<0){s!==o&&u.multiplicity%2==1&&v();const[n,e]=me(m,b,s,l,f,a,E);t.push({tS:n,tE:e,multiplicity:1})}else s!==o&&u.multiplicity%2==1&&v();else if(i*f<0){if(t.push({tS:u.tS,tE:u.tE,multiplicity:3}),f*a<0){const[n,e]=me(m,b,s,l,f,a,E);t.push({tS:n,tE:e,multiplicity:1})}}else if(0===f)0===i?t.push({tS:u.tS,tE:u.tE,multiplicity:u.multiplicity+1}):i*a>0?t.push({tS:u.tS,tE:u.tE,multiplicity:2}):t.push({tS:u.tS,tE:u.tE,multiplicity:3});else{if(f*a<0){const[n,e]=me(m,b,s,l,f,a,E);t.push({tS:n,tE:e,multiplicity:1})}c*f>0?t.push({tS:u.tS,tE:u.tE,multiplicity:2}):t.push({tS:u.tS,tE:u.tE,multiplicity:3})}}for(let n=0;n<t.length-1;n++){const e=t[n],r=t[n+1];if(e.tE>=r.tS)return Oe(t)}return t;function v(){const n=(s-o)*ye;let e=1,r=0;for(let t=c+2;t<=h;t++){const i=p[t][0],u=Me(i,o);r+=(Be(u[0])+u[1])*e,e*=n*ye}const l=f>0?Te(i,f):Se(i,f),a=2*Number.EPSILON*Se(1,Be(s)),v=r*(2*a);(l+(f>0?2*-v*a:2*v*a))*f<0&&t.push({tS:u.tS,tE:u.tE,multiplicity:2})}}}function Oe(t){const n=[],e=t[0];let r={tS:e.tS,tE:e.tE,multiplicity:e.multiplicity};for(let e=0;e<t.length-1;e++){const o=t[e],i=t[e+1];o.tE<i.tS?(n.push(r),r={tS:i.tS,tE:i.tE,multiplicity:i.multiplicity}):(r.tE=i.tE,r.multiplicity=o.multiplicity+i.multiplicity)}return n.push(r),n}function Pe(t){return{tS:t,tE:t,multiplicity:1}}function De(t){return(t.tS+t.tE)/2}Number.EPSILON;const Fe=wn,Ce=Number.EPSILON/2,Ae=Math.abs,Le=Math.max;const Ve=Ft,qe=wn,Ye=function(t,n,e,r=Fe(t,n),o=Fe(t,e)){let i=n,u=e,s=i,c=r,f=u-i,l=f;for(;;){Ae(c)<Ae(o)&&(i=u,u=s,s=i,r=o,o=c,c=r);const n=2*Ce*Le(1,Ae(i),Ae(u)),e=.5*(s-u);if(Ae(e)<=n)return u;if(Ae(f)<n||Ae(r)<=Ae(o))f=e,l=f;else{let t,a,h=o/r;if(i===s)t=2*e*h,a=1-h;else{a=r/c;const n=o/c;t=h*(2*e*a*(a-n)-(u-i)*(n-1)),a=(a-1)*(n-1)*(h-1)}0<t?a=-a:t=-t,h=f,f=l,2*t<3*e*a-Ae(n*a)&&t<Ae(.5*h*a)?l=t/a:(f=e,l=f)}if(i=u,r=o,n<Ae(l)?u+=l:0<e?u+=n:u-=n,0===(o=Fe(t,u)))return u;o*c>0&&(s=i,c=r,f=u-i,l=f)}},Ge=he,ke=ae,Re=zt;function $e(t,n=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY){if(t.length<=1)return[];n===Number.NEGATIVE_INFINITY&&(n=Ge(t)),e===Number.POSITIVE_INFINITY&&(e=ke(t)),t=Re(t);let r=0;for(;0===t[t.length-1];)t=t.slice(0,-1),r++;const o=[t];for(let n=1;n<=t.length-1;n++)o.push(Ve(o[n-1]));let i=[];for(let r=t.length-2;r>=0;r--){const t=o[r],u=[];let s=n,c=qe(t,s);0===c&&0===r&&u.push(n);for(let n=0;n<i.length;n++){const e=i[n],r=qe(t,e);0===r?u.push(e):c*r<0&&u.push(Ye(t,s,e,c,r)),s=e,c=r}const f=qe(t,e);c*f<0&&u.push(Ye(t,s,e,c,f)),0===f&&0===r&&u.push(e),i=u}if(r>0&&n<=0&&e>=0){let t=[],n=!1;for(let e=0;e<i.length;e++){if(!n&&i[e]>=0){for(let n=0;n<r;n++)t.push(0);n=!0}t.push(i[e])}return t}return i}Math.abs,Math.max;const He=Number.EPSILON,We=Math.abs,je=Math.max;function Qe(t){if(4===t.length)return Xe(t);if(3===t.length)return Ue(t);if(2===t.length)return Ke(t);if(1===t.length)return function(t){const[[n,e]]=t;return[[n],[e]]}(t);throw new Error("The given bezier curve is invalid.")}function Xe(t){const[[n,e],[r,o],[i,u],[s,c]]=t;return[[s-n+3*(r-i),3*(i+n-2*r),3*(r-n),n],[c-e+3*(o-u),3*(u+e-2*o),3*(o-e),e]]}function Ue(t){const[[n,e],[r,o],[i,u]]=t;return[[i+n-2*r,2*(r-n),n],[u+e-2*o,2*(o-e),e]]}function Ke(t){const[[n,e],[r,o]]=t;return[[r-n,n],[o-e,e]]}function Je(t){if(4===t.length)return function(t){const[[n,e],[r,o],[i,u],[s,c]]=t;return[[3*(s-n+3*(r-i)),6*(i+n-2*r),3*(r-n)],[3*(c-e+3*(o-u)),6*(u+e-2*o),3*(o-e)]]}(t);if(3===t.length)return function(t){const[[n,e],[r,o],[i,u]]=t;return[[2*(i+n-2*r),2*(r-n)],[2*(u+e-2*o),2*(o-e)]]}(t);if(2===t.length)return function(t){const[[n,e],[r,o]]=t;return[[r-n],[o-e]]}(t);if(1===t.length)return function(t){const[[n,e]]=t;return[[0],[0]]}(t);throw new Error("The bezier curve must be of order 0, 1, 2 or 3.")}function Ze(t){let[n,e]=Qe(t),[r,o]=Je(t);const i=function(t,n){const e=[],r=t.length-1;for(let n=0;n<r+1;n++)e.push(t[n]/(r+1-n));return e.push(n),e}(function(t,n){const e=t.length-1,r=n.length-1,o=e-r,i=o<0?+o:0,u=o>0?-o:0,s=Math.max(e,r),c=[];for(let e=0;e<s+1;e++){const r=t[e+i]||0,o=n[e+u]||0;c.push(r-o)}return Dt(c)}(Pt(n,o),Pt(e,r)),0);let u=0;for(let t=0;t<i.length;t++)u+=i[t];return u/2}function tr(t,n){return t[0]*n[0]+t[1]*n[1]}function nr(t,n){function e(n){return[t[0]+n[0],t[1]+n[1]]}return void 0===n?e:e(n)}function er(t,n,e){function r(e){return[e[0]*n-e[1]*t,e[0]*t+e[1]*n]}return void 0===e?r:r(e)}function rr(t){let n=1/Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[t[0]*n,t[1]*n]}function or(t,n){let e=n[0]-t[0],r=n[1]-t[1];return Math.sqrt(e*e+r*r)}function ir(t,n){let e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r}function ur(t,n){return[n[0]-t[0],n[1]-t[1]]}function sr(t,n){let[e,r]=t;if(e===r)return 0;let[[o,i],[u,s]]=n;return o===u&&i===s?0:or([o+e*(u-o),i+e*(s-i)],[o+r*(u-o),i+r*(s-i)])}function cr(t,n){const[e,r]=Je(t);function o(t){const n=wn(e,t),o=wn(r,t);return Math.sqrt(n*n+o*o)}return void 0===n?o:o(n)}function fr(t,n,e=16){if(n[0]===n[1])return 0;let{weights:r,abscissas:o}=lr[e],[i,u]=n,s=0,c=(u-i)/2,f=(u+i)/2;for(let n=0;n<=e-1;n++)s+=r[n]*t(c*o[n]+f);return c*s}const lr={2:{weights:[1,1],abscissas:[-.5773502691896257,.5773502691896257]},4:{weights:[.6521451548625461,.6521451548625461,.3478548451374538,.3478548451374538],abscissas:[-.3399810435848563,.3399810435848563,-.8611363115940526,.8611363115940526]},8:{weights:[.362683783378362,.362683783378362,.3137066458778873,.3137066458778873,.2223810344533745,.2223810344533745,.1012285362903763,.1012285362903763],abscissas:[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363]},16:{weights:[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685,.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096],abscissas:[-.9894009349916499,-.9445750230732326,-.8656312023878318,-.755404408355003,-.6178762444026438,-.45801677765722737,-.2816035507792589,-.09501250983763744,.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]},64:{weights:[.048690957009139724,.048690957009139724,.04857546744150343,.04857546744150343,.048344762234802954,.048344762234802954,.04799938859645831,.04799938859645831,.04754016571483031,.04754016571483031,.04696818281621002,.04696818281621002,.046284796581314416,.046284796581314416,.04549162792741814,.04549162792741814,.044590558163756566,.044590558163756566,.04358372452932345,.04358372452932345,.04247351512365359,.04247351512365359,.04126256324262353,.04126256324262353,.03995374113272034,.03995374113272034,.038550153178615626,.038550153178615626,.03705512854024005,.03705512854024005,.035472213256882386,.035472213256882386,.033805161837141606,.033805161837141606,.03205792835485155,.03205792835485155,.030234657072402478,.030234657072402478,.028339672614259483,.028339672614259483,.02637746971505466,.02637746971505466,.024352702568710874,.024352702568710874,.022270173808383253,.022270173808383253,.02013482315353021,.02013482315353021,.017951715775697343,.017951715775697343,.015726030476024718,.015726030476024718,.013463047896718643,.013463047896718643,.011168139460131128,.011168139460131128,.008846759826363947,.008846759826363947,.006504457968978363,.006504457968978363,.004147033260562468,.004147033260562468,.001783280721696433,.001783280721696433],abscissas:[-.024350292663424433,.024350292663424433,-.07299312178779904,.07299312178779904,-.12146281929612056,.12146281929612056,-.16964442042399283,.16964442042399283,-.21742364374000708,.21742364374000708,-.2646871622087674,.2646871622087674,-.31132287199021097,.31132287199021097,-.3572201583376681,.3572201583376681,-.4022701579639916,.4022701579639916,-.4463660172534641,.4463660172534641,-.48940314570705296,.48940314570705296,-.5312794640198946,.5312794640198946,-.571895646202634,.571895646202634,-.6111553551723933,.6111553551723933,-.6489654712546573,.6489654712546573,-.6852363130542333,.6852363130542333,-.7198818501716109,.7198818501716109,-.7528199072605319,.7528199072605319,-.7839723589433414,.7839723589433414,-.8132653151227975,.8132653151227975,-.8406292962525803,.8406292962525803,-.8659993981540928,.8659993981540928,-.8893154459951141,.8893154459951141,-.9105221370785028,.9105221370785028,-.9295691721319396,.9295691721319396,-.9464113748584028,.9464113748584028,-.9610087996520538,.9610087996520538,-.973326827789911,.973326827789911,-.983336253884626,.983336253884626,-.9910133714767443,.9910133714767443,-.9963401167719553,.9963401167719553,-.9993050417357722,.9993050417357722]}},ar=Number.EPSILON/2,hr=Math.abs,vr=[[0,0],[0,0],[0,0]];function gr(t,n,e){return 0===n?1===e?{ps:t,_ps:vr}:function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],u=e[1],s=r[0],c=r[1],f=o[0],l=o[1],a=1-n,h=n*n,v=a*a,g=n*a,d=[[i,u],[s*n+i*a,c*n+u*a],[f*h+i*v+2*s*g,l*h+u*v+2*c*g]],p=hr(i),b=hr(u),m=hr(s),I=hr(c);return{ps:d,_ps:[[0,0],[m*n+p*a,I*n+b*a],[hr(f)*h+p*v+2*m*g,hr(l)*h+b*v+2*I*g]]}}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],u=e[1],s=r[0],c=r[1],f=o[0],l=o[1],a=1-n,h=n*n,v=a*a,g=n*a,d=[[i*v+f*h+2*s*g,u*v+l*h+2*c*g],[s*a+f*n,c*a+l*n],[f,l]],p=hr(i),b=hr(u),m=hr(s),I=hr(c),E=hr(f),N=hr(l);return{ps:d,_ps:[[p*v+E*h+2*m*g,b*v+N*h+2*I*g],[m*a+E*n,I*a+N*n],[0,0]]}}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],u=r[0],s=r[1],c=o[0],f=o[1],l=i[0],a=i[1],h=1-n,v=n*n,g=h*h,d=n*h,p=(e-n)/h,b=p+p*ar,m=b+.5-.5,I=m>=b?m:m+ar,E=1-I,N=I*I,_=E*E,M=I*E,x=h*c+n*l,S=g*u+v*l+2*d*c,T=E*S+I*x,B=_*S+(2*M*x+N*l),y=h*f+n*a,w=g*s+v*a+2*d*f,z=E*w+I*y,O=_*w+(2*M*y+N*a),P=hr(u),D=hr(s),F=hr(c),C=hr(f),A=hr(l),L=hr(a),V=h*F+n*A,q=g*P+v*A+2*d*F,Y=h*C+n*L,G=g*D+v*L+2*d*C;return{ps:[[S,w],[T,z],[B,O]],_ps:[[q,G],[E*q+I*V,E*G+I*Y],[_*q+(2*M*V+N*A),_*G+(2*M*Y+N*L)]]}}(t,n,e)}exports.__esModule=!0,exports.splitByMaxCurvature=void 0;var dr=require("./from-to.js"),pr=require("../../global-properties/flatness.js");function br(t,n,r=1.01,o=16){const i=t[0],u=t[1];if(i===u)return 0;const[[s,c],[f,l],[a,h]]=n;if(s===f&&f===a&&c===l&&l===h)return 0;const v=gr(n,i,u).ps,g=(0,e.splitByMaxCurvature)(v,r);let d=0;for(let t=0;t<g.length-1;t++){const n=g[t],e=g[t+1];d+=fr(cr(v),[n,e],o)}return d}exports.splitByMaxCurvature=function(t,n){void 0===n&&(n=1.1);for(var e=[0,1],r=[[0,1]],o=(0,dr.fromTo)(t);r.length;){var i=r.pop(),u=o(i[0],i[1]);if((0,pr.flatness)(u)>n){var s=(i[0]+i[1])/2;r.push([i[0],s]),r.push([s,i[1]]),e.push(s)}}return e.sort((function(t,n){return t-n})),e};const mr=st,Ir=$,Er=N,Nr=_,_r=x;function Mr(t,n){return[t=>[t,t],wr,Br,Sr][t.length-1](t,n)}function xr(t,n){return[t=>[t,t],zr,yr,Tr][t.length-1](t,n)}function Sr(t,n){const[[e,r],[o,i],[u,s],[c,f]]=t,l=1-n,a=[c*n**3+3*u*l*n**2+3*o*l**2*n+e*l**3,f*n**3+3*s*l*n**2+3*i*l**2*n+r*l**3];return[[[e,r],[o*n+e*l,i*n+r*l],[u*n**2+2*o*l*n+e*l**2,s*n**2+2*i*l*n+r*l**2],a],[a,[c*n**2+2*u*n*l+o*l**2,f*n**2+2*s*n*l+i*l**2],[c*n+u*l,f*n+s*l],[c,f]]]}function Tr(t,n){const[[e,r],[o,i],[u,s],[c,f]]=t,l=1-n,a=mr(l,l),h=_r(a,l),v=mr(n,n),g=_r(v,n),d=mr(l,n),p=_r(v,l),b=_r(a,n),m=[Er(Ir([_r(g,c),_r(p,3*u),_r(b,3*o),_r(h,e)])),Er(Ir([_r(g,f),_r(p,3*s),_r(b,3*i),_r(h,r)]))];return[[[e,r],[Er(Nr(mr(o,n),mr(e,l))),Er(Nr(mr(i,n),mr(r,l)))],[Er(Ir([_r(v,u),_r(d,2*o),_r(a,e)])),Er(Ir([_r(v,s),_r(d,2*i),_r(a,r)]))],m],[m,[Er(Ir([_r(v,c),_r(d,2*u),_r(a,o)])),Er(Ir([_r(v,f),_r(d,2*s),_r(a,i)]))],[Er(Nr(mr(c,n),mr(u,l))),Er(Nr(mr(f,n),mr(s,l)))],[c,f]]]}function Br(t,n){const[[e,r],[o,i],[u,s]]=t,c=1-n,f=[e*c**2+2*o*c*n+u*n**2,r*c**2+2*i*c*n+s*n**2];return[[[e,r],[e*c+o*n,r*c+i*n],f],[f,[o*c+u*n,i*c+s*n],[u,s]]]}function yr(t,n){const[[e,r],[o,i],[u,s]]=t,c=1-n,f=mr(n,n),l=mr(c,c),a=mr(c,n),h=[Er(Ir([_r(l,e),_r(a,2*o),_r(f,u)])),Er(Ir([_r(l,r),_r(a,2*i),_r(f,s)]))];return[[[e,r],[Er(Nr(mr(e,c),mr(o,n))),Er(Nr(mr(r,c),mr(i,n)))],h],[h,[Er(Nr(mr(o,c),mr(u,n))),Er(Nr(mr(i,c),mr(s,n)))],[u,s]]]}function wr(t,n){const[[e,r],[o,i]]=t,u=1-n,s=[u*e+n*o,u*r+n*i];return[[[e,r],s],[s,[o,i]]]}function zr(t,n){const[[e,r],[o,i]]=t,u=1-n,s=[Er(Nr(mr(u,e),mr(n,o))),Er(Nr(mr(u,r),mr(n,i)))];return[[[e,r],s],[s,[o,i]]]}function Or(t,n){if(0===n)return t[0];if(1===n)return t[t.length-1];if(4===t.length){const[[e,r],[o,i],[u,s],[c,f]]=t,l=e+(o-e)*n,a=o+(u-o)*n,h=l+(a-l)*n,v=r+(i-r)*n,g=i+(s-i)*n,d=v+(g-v)*n;return[h+(a+(u+(c-u)*n-a)*n-h)*n,d+(g+(s+(f-s)*n-g)*n-d)*n]}if(3===t.length){const[[e,r],[o,i],[u,s]]=t,c=e+(o-e)*n,f=r+(i-r)*n;return[c+(o+(u-o)*n-c)*n,f+(i+(s-i)*n-f)*n]}if(2===t.length){const[[e,r],[o,i]]=t;return[e+(o-e)*n,r+(i-r)*n]}if(1===t.length)return t[0];throw new Error("The given bezier curve is invalid.")}function Pr(t){return(n,e)=>{const r=n>e;let o;if(n>e&&([n,e]=[e,n]),0===n&&1===e)o=t;else if(0===n)o=Mr(t,e)[0];else if(1===e)o=Mr(t,n)[1];else{if(n===e){const e=Or(t,n);if(1===t.length)return[e];if(2===t.length)return[e,e];if(3===t.length)return[e,e,e];if(4===t.length)return[e,e,e,e];throw new Error("The given bezier curve is invalid.")}o=Mr(Mr(t,n)[1],(e-n)/(1-n))[0]}return r?o.slice().reverse():o}}function Dr(t){return function(n,e){const r=n>e;let o;if(n>e&&([n,e]=[e,n]),0===n&&1===e)o=t;else if(0===n)o=xr(t,e)[0];else if(1===e)o=xr(t,n)[1];else{if(n===e){const e=Or(t,n);if(1===t.length)return[e];if(2===t.length)return[e,e];if(3===t.length)return[e,e,e];if(4===t.length)return[e,e,e,e];throw new Error("The given bezier curve is invalid.")}o=xr(xr(t,n)[1],(e-n)/(1-n))[0]}return r?o.slice().reverse():o}}const Fr=Math.abs;function Cr(t){const n=[];for(let e=0;e<t.length-1;e++){const r=[t[e+1][0]-t[e][0],t[e+1][1]-t[e][1]];0!==(0!==r[0]||r[1])&&n.push(r)}const e=n.length;if(e<=1)return 1;let r=0;for(let t=0;t<e-1;t++){const e=rr(n[t]),o=rr(n[t+1]);r+=e[0]*o[0]+e[1]*o[1]}return r=Fr((r/(e-1)+1)/2),1/r}function Ar(t,n=1.01,e=2**-20){const r=[0,1],o=[[0,1]],i=Pr(t);for(;o.length;){const t=o.pop();if(!(t[1]-t[0]<=e)&&Cr(i(t[0],t[1]))>n){const n=(t[0]+t[1])/2;o.push([t[0],n]),o.push([n,t[1]]),r.push(n)}}return r.sort(((t,n)=>t-n)),r}const Lr=Number.EPSILON,Vr=Lr/2,qr=Math.abs,Yr=[[0,0],[0,0],[0,0],[0,0]];function Gr(t,n,e){return 0===n?1===e?{ps:t,_ps:Yr}:function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=r[0],f=r[1],l=o[0],a=o[1],h=i[0],v=i[1],g=1-n,d=n*n,p=n*d,b=g*g,m=g*b,I=n*g,E=n*b,N=g*d,_=[[u,s],[c*n+u*g,f*n+s*g],[l*d+u*b+2*c*I,a*d+s*b+2*f*I],[h*p+u*m+3*(l*N+c*E),v*p+s*m+3*(a*N+f*E)]],M=qr(u),x=qr(s),S=qr(c),T=qr(f),B=qr(l),y=qr(a);return{ps:_,_ps:[[0,0],[S*n+M*g,T*n+x*g],[B*d+M*b+2*S*I,y*d+x*b+2*T*I],[qr(h)*p+M*m+3*(B*N+S*E),qr(v)*p+x*m+3*(y*N+T*E)]]}}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=r[0],f=r[1],l=o[0],a=o[1],h=i[0],v=i[1],g=1-n,d=n*n,p=n*g,b=g*g,m=g*b,I=n*d,E=g*d,N=n*b,_=[[h*I+u*m+3*(l*E+c*N),v*I+s*m+3*(a*E+f*N)],[h*d+c*b+2*l*p,v*d+f*b+2*a*p],[h*n+l*g,v*n+a*g],[h,v]],M=qr(u),x=qr(s),S=qr(c),T=qr(f),B=qr(l),y=qr(a),w=qr(h),z=qr(v);return{ps:_,_ps:[[w*I+M*m+3*(B*E+S*N),z*I+x*m+3*(y*E+T*N)],[w*d+S*b+2*B*p,z*d+T*b+2*y*p],[w*n+B*g,z*n+y*g],[0,0]]}}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],u=t[3],s=r[0],c=r[1],f=o[0],l=o[1],a=i[0],h=i[1],v=u[0],g=u[1],d=1-n,p=(e-n)/d,b=p+(p*Vr+p*Vr*Lr),m=b+.5-.5,I=m>=b?m:m+Vr,E=n*n,N=n*E,_=d*d,M=d*_,x=n*d,S=_*n,T=E*d,B=1-I,y=I*I,w=I*y,z=B*B,O=B*z,P=I*B,D=z*I,F=_*f+E*v+2*x*a,C=y*(d*a+n*v),A=3*(T*a+S*f)+(M*s+N*v),L=B*A+I*F,V=z*A+C+2*P*F,q=3*(D*F+B*C)+(O*A+w*v),Y=_*l+E*g+2*x*h,G=y*(d*h+n*g),k=3*(T*h+S*l)+(M*c+N*g),R=B*k+I*Y,$=z*k+G+2*P*Y,H=3*(D*Y+B*G)+(O*k+w*g),W=qr(s),j=qr(c),Q=qr(f),X=qr(l),U=qr(a),K=qr(h),J=qr(v),Z=qr(g),tt=_*Q+E*J+2*x*U,nt=y*(d*U+n*J),et=3*(T*U+S*Q)+(M*W+N*J),rt=_*X+E*Z+2*x*K,ot=y*(d*K+n*Z),it=3*(T*K+S*X)+(M*j+N*Z);return{ps:[[A,k],[L,R],[V,$],[q,H]],_ps:[[et,it],[B*et+I*tt,B*it+I*rt],[z*et+nt+2*P*tt,z*it+ot+2*P*rt],[3*(D*tt+B*nt)+(O*et+w*J),3*(D*rt+B*ot)+(O*it+w*Z)]]}}(t,n,e)}function kr(t,n,e=1.01,r=16){const o=t[0],i=t[1];if(o===i)return 0;const[[u,s],[c,f],[l,a],[h,v]]=n;if(u===c&&c===l&&l===h&&s===f&&f===a&&a===v)return 0;const g=Gr(n,o,i).ps,d=Ar(g,e);let p=0;for(let t=0;t<d.length-1;t++){const n=d[t],e=d[t+1];p+=fr(cr(g),[n,e],r)}return p}function Rr(t,n,e=1.01,r=16){if(4===n.length)return kr(t,n,e,r);if(3===n.length)return br(t,n,e,r);if(2===n.length)return sr(t,n);if(1===n.length)return 0;throw new Error("The given bezier curve is invalid")}function $r(t,n=1.01,e=16){if(4===t.length)return kr([0,1],t,n,e);if(3===t.length)return br([0,1],t,n,e);if(2===t.length)return sr([0,1],t);if(1===t.length)return 0;throw new Error("The given bezier curve is invalid.")}function Hr(t){if(4===t.length){const[[n,e],[r,o],[i,u],[s,c]]=t;return[[n,e],[r,o],[i,u],[s,c]]}if(3===t.length){const[[n,e],[r,o],[i,u]]=t;return[[n,e],[r,o],[i,u]]}if(2===t.length){const[[n,e],[r,o]]=t;return[[n,e],[r,o]]}}function Wr(t){const[[n,e],[r,o]]=t,i=(r-n)/3,u=(o-e)/3;return[[n,e],[n+i,e+u],[n+2*i,e+2*u],[r,o]]}function jr(t){const[[n,e],[r,o],[i,u]]=t;return[[n,e],[1/3*n+2/3*r,1/3*e+2/3*o],[2/3*r+1/3*i,2/3*o+1/3*u],[i,u]]}function Qr(t){if(4===t.length)return t;if(3===t.length)return jr(t);if(2===t.length)return Wr(t);if(1===t.length){const n=t[0];return[n,n,n,n]}throw new Error("The given bezier curve is invalid.")}function Xr(t,n){let e=Qr(t);function r(t){return 0===t?0:function(t,n,e){let r=n,o=e,i=t(r),u=t(o),s=r,c=i,f=o-r,l=f;for(;;){We(c)<We(u)&&(r=o,o=s,s=r,i=u,u=c,c=i);const n=2*He*je(1,We(r),We(o)),e=.5*(s-o);if(We(e)<=n)return o;if(We(f)<n||We(i)<=We(u))f=e,l=f;else{let t,a,h=u/i;if(r===s)t=2*e*h,a=1-h;else{a=i/c;const n=u/c;t=h*(2*e*a*(a-n)-(o-r)*(n-1)),a=(a-1)*(n-1)*(h-1)}0<t?a=-a:t=-t,h=f,f=l,2*t<3*e*a-We(n*a)&&t<We(.5*h*a)?l=t/a:(f=e,l=f)}if(r=o,i=u,n<We(l)?o+=l:0<e?o+=n:o-=n,u=t(o),0===u)return o;u*c>0&&(s=r,c=i,f=o-r,l=f)}}((n=>(t=>Rr([0,t],e))(n)-t),0,1.125)}return void 0===n?r:r(n)}function Ur(t,n){if(t===n)return!0;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e][0]!==n[e][0]||t[e][1]!==n[e][1])return!1;return!0}const Kr=Number.EPSILON/2,Jr=Kr*Kr;function Zr(t){const n=t*Kr;return n/(1-n)}function to(t){const n=t*Jr;return n/(1-n)}function no(t){const n=t[0][0],e=t[0][1];for(let r=1;r<t.length;r++)if(n!==t[r][0]||e!==t[r][1])return!1;return!0}const eo=P,ro=o,oo=Y,io=(Number.EPSILON,Math.abs);function uo(t){const[[n,e],[r,o],[i,u]]=t,s=n+i,c=s-2*r,f=io(s)+io(c);if(io(c)-f>0)return!1;const l=e+u,a=l-2*o,h=io(l)+io(a);return!(io(a)-h>0)&&0===ro(eo(oo(n,i),[2*r]))&&0===ro(eo(oo(e,u),[2*o]))}const so=st,co=_,fo=o,lo=P,ao=Number.EPSILON/2,ho=Math.abs;function vo(t){const[[n,e],[r,o],[i,u],[s,c]]=t,f=s+3*r,l=n+3*i,a=f-l,h=ho(3*r)+ho(f)+(ho(3*i)+ho(l))+ho(a);if(ho(a)-ao*h>0)return!1;const v=c+3*o,g=e+3*u,d=v-g,p=ho(3*o)+ho(v)+(ho(3*u)+ho(g))+ho(d);return!(ho(d)-ao*p>0)&&0===fo(lo(co([s],so(3,r)),co([n],so(3,i))))&&0===fo(lo(co([c],so(3,o)),co([e],so(3,u))))}const{orient2d:go}=yt;function po(t){if(4===t.length)return 0===go(t[0],t[1],t[2])&&0===go(t[1],t[2],t[3])&&0===go(t[0],t[2],t[3]);if(3===t.length)return 0===go(t[0],t[1],t[2]);if(t.length<=2)return!0;throw new Error("The given bezier curve must be of order <= 3.")}function bo(t){const n=t[0][1];for(let e=1;e<t.length;e++)if(t[e][1]!==n)return!1;return!0}function mo(t){const n=t[0][0];for(let e=1;e<t.length;e++)if(t[e][0]!==n)return!1;return!0}const Io=x,Eo=P,No=Y,_o=o,Mo=ut,xo=Y,So=S,To=q,Bo=Tt;function yo(t){const[[n,e],[r,o],[i,u],[s,c]]=t;return[[Bo(Mo(s,n),So(3,Mo(r,i))),So(3,To(xo(i,n),-2*r)),So(3,Mo(r,n)),n],[Bo(Mo(c,e),So(3,Mo(o,u))),So(3,To(xo(u,e),-2*o)),So(3,Mo(o,e)),e]]}function wo(t){const[[n,e],[r,o],[i,u]]=t;return[[To(xo(i,n),-2*r),Mo(2*r,2*n),n],[To(xo(u,e),-2*o),Mo(2*o,2*e),e]]}function zo(t){const[[n,e],[r,o]]=t;return[[Mo(r,n),n],[Mo(o,e),e]]}const Oo=y,Po=_,Do=P;function Fo(t){const[[n,e,r],[o,i,u]]=yo(t),s=Oo(e,o),c=Oo(n,i),f=Oo(n,u),l=Oo(r,o),a=Oo(e,u),h=Oo(r,i),v=Do(s,c),g=Do(l,f),d=Do(a,h),p=Oo(v,v),b=Oo(v,g),m=Oo(v,d),I=Oo(g,g);return[p,b,Po(m,I)]}const Co=Math.abs,Ao=Math.abs,Lo=Zr(1);function Vo(t){const{coeffs:[[n,e,r],[o,i,u]],errorBound:[[s,c],[f,l]]}=function(t){const[[n,e],[r,o],[i,u],[s,c]]=t,f=s-n,l=r-i,a=f+3*l,h=i+n,v=h-2*r,g=r-n,d=c-e,p=o-u,b=d+3*p,m=u+e,I=m-2*o,E=o-e;return{coeffs:[[a,3*v,3*g,n],[b,3*I,3*E,e]],errorBound:[[Co(f)+6*Co(l)+Co(a),6*(Co(h)+Co(v)),6*Co(g),0],[Co(d)+6*Co(p)+Co(b),6*(Co(m)+Co(I)),6*Co(E),0]]}}(t),a=Ao(n),h=Ao(e),v=Ao(r),g=Ao(o),d=Ao(i),p=Ao(u),b=e*o,m=n*i,I=n*u,E=r*o,N=e*u,_=r*i,M=c*g+h*f+Ao(b),x=s*d+a*l+Ao(m),S=s*p+Ao(I),T=v*f+Ao(E),B=c*p+Ao(N),y=v*l+Ao(_),w=b-m,z=Ao(w),O=M+x+z,P=E-I,D=Ao(P),F=T+S+D,C=N-_,A=Ao(C),L=B+y+A,V=w*w,q=w*P,Y=C*w,G=P*P,k=Y+G;return{coeffs:[V,q,k],errBound:[2*O*z+Ao(V),O*D+z*F+Ao(q),L*z+A*O+Ao(Y)+(2*D*F+Ao(G))+Ao(k)].map((t=>Lo*t))}}const{eSign:qo,eCompare:Yo}=yt,Go=P,ko=y,Ro=S,$o=dn,Ho=bn,Wo=_,jo=q,Qo=Math.abs,Xo=Zr(1),Uo={order:0,realOrder:0,collinear:!0,nodeType:"n/a"},Ko={order:1,realOrder:1,collinear:!0,nodeType:"n/a"},Jo={order:1,realOrder:0,collinear:!0,nodeType:"n/a"},Zo={order:2,realOrder:2,collinear:!1,nodeType:"n/a"},ti={order:2,realOrder:2,collinear:!0,nodeType:"n/a"},ni={order:2,realOrder:1,collinear:!0,nodeType:"n/a"},ei={order:2,realOrder:0,collinear:!0,nodeType:"n/a"},ri={order:3,realOrder:3,collinear:!1,nodeType:"crunode"},oi={order:3,realOrder:3,collinear:!1,nodeType:"acnode"},ii={order:3,realOrder:3,collinear:!1,nodeType:"cusp"},ui={order:3,realOrder:3,collinear:!1,nodeType:"explicit"},si={order:3,realOrder:3,collinear:!0,nodeType:"n/a"},ci={order:3,realOrder:2,collinear:!1,nodeType:"n/a"},fi={order:3,realOrder:2,collinear:!0,nodeType:"n/a"},li={order:3,realOrder:1,collinear:!0,nodeType:"n/a"},ai={order:3,realOrder:0,collinear:!0,nodeType:"n/a"};function hi(t){if(4===t.length)return vo(t)?function(t){if(!po(t))return!1;const[n,e,r,o]=t,[i,u]=n,[s,c]=e,[f,l]=r,[a,h]=o,v=Eo(Io(No(s/4,f/4),3),No(i/4,a/4)),g=Eo(Io(No(c/4,l/4),3),No(u/4,h/4));return 0===_o(Eo(No(i/2,a/2),v))&&0===_o(Eo(No(u/2,h/2),g))}(t)?no(t)?ai:li:po(t)?fi:ci:po(t)?si:function(t){const{coeffs:[n,e,r],errBound:[o,i,u]}=Vo(t);if(Qo(n)<=o){const[[n,e],[r,o],[i,u],[s,c]]=t,f=Wo($o(s,n),Ro(3,$o(r,i))),l=jo(Ho(i,n),-2*r),a=Wo($o(c,e),Ro(3,$o(o,u))),h=jo(Ho(u,e),-2*o),v=ko(l,a),g=ko(f,h);if(0===Yo(v,g))return ui}const s=e*e,c=4*n*r,f=s-c,l=2*i*Qo(e)+Xo*s+(4*(o*Qo(r)+Qo(n)*u)+Xo*Qo(c))+Xo*Qo(f);if(f<-l)return oi;if(f>l)return ri;let[a,h,v]=Fo(t);const g=Go(ko(h,h),Ro(4,ko(a,v))),d=qo(g);return d<0?oi:d>0?ri:ii}(t);if(3===t.length)return po(t)?uo(t)?no(t)?ei:ni:ti:Zo;if(2===t.length)return no(t)?Jo:Ko;if(1===t.length)return Uo;throw new Error("The given bezier curve must be of order <= 3")}const vi=y,gi=ut,di=P,pi=o,bi=N,mi=x,Ii=Y;function Ei(t,n=!1){if(!n){const[[n,e],[r,o],[i,u],[s,c]]=t;return[[n,e],[bi(di(mi(Ii(r/4,i/4),3),Ii(n/4,s/4))),bi(di(mi(Ii(o/4,u/4),3),Ii(e/4,c/4)))],[s,c]]}const[e,r,o,i]=t,u=function(t,n){const[[e,r],[o,i]]=t,[[u,s],[c,f]]=n,l=gi(o,e),a=gi(i,r),h=gi(c,u),v=gi(f,s),g=di(vi(h,a),vi(v,l));if(0===pi(g))return;const d=gi(u,e),p=gi(s,r),b=di(vi(p,l),vi(d,a)),m=bi(b)/bi(g);return[u+m*bi(h),s+m*bi(v)]}([e,r],[i,o]);if(void 0!==u)return[e,u,i]}const Ni=dn,_i=nn,Mi=un,xi=on,Si=Math.abs;function Ti(t){const[[n,e],[r,o],[i,u],[s,c]]=t,f=Ni(s,n),l=Ni(r,i),a=3*(r-i),h=_i(3,l),v=Si(a),g=Mi(f,h),d=v+Si(s-n+a),p=Ni(i,2*r),b=xi(p,n),m=Si(i-2*r+n),I=_i(3,b),E=6*m,N=Ni(r,n),_=_i(3,N),M=Si(3*(r-n)),x=Ni(c,e),S=Ni(o,u),T=3*(o-u),B=_i(3,S),y=Si(T),w=Mi(x,B),z=y+Si(c-e+T),O=Ni(u,2*o),P=xi(O,e),D=Si(u-2*o+e),F=_i(3,P),C=6*D,A=Ni(o,e);return{coeffs:[[g,I,_,n],[w,F,_i(3,A),e]],errorBound:[[d,E,M,0],[z,C,Si(3*(o-e)),0]]}}function Bi(t){const[[n,e],[r,o],[i,u]]=t,s=i-2*r,c=Ni(i,2*r),f=xi(c,n),l=Si(s+n),a=Ni(2*r,2*n),h=u-2*o,v=Ni(u,2*o),g=xi(v,e),d=Si(h+e);return{coeffs:[[f,a,n],[g,Ni(2*o,2*e),e]],errorBound:[[l,0,0],[d,0,0]]}}function yi(t){const[[n,e],[r,o]]=t;return[[Ni(r,n),n],[Ni(o,e),e]]}const wi=sn,zi=nn,Oi=w,Pi=Math.abs;function Di(t){const[[n,e],[r,o]]=yi(t),i=Oi(r),u=n,s=zi(o,n),c=Pi(s[1]),f=zi(e,r),l=Pi(f[1]),a=wi(f,s);return{coeffs:{vₓ:i,vᵧ:u,v:a},errorBound:{v_:c+l+Pi(a[1])}}}const Fi=un,Ci=nn,Ai=hn,Li=Math.abs,Vi=to(3);function qi(t,n){const{coeffs:{vₓ:e,vᵧ:r,v:o},errorBound:{v_:i}}=Di(t),[[u,s],[c,f]]=yi(n),l=u[1],a=c[1],h=e[1],v=r[1],g=o[1],d=l*h,p=2*Li(d),b=Ai(u,e),m=a*v,I=2*Li(m),E=Ai(c,r),N=d+m,_=Fi(b,E),M=p+I+Li(N),x=s*h,S=Ci(s,e),T=Li(x),B=f*v,y=Ci(f,r),w=Li(B),z=x+B,O=Fi(S,y),P=T+w+Li(z),D=Fi(O,o),F=P+i+Li(z+g);return{coeffs:[_,D],errBound:[Vi*M,Vi*F]}}const Yi=gn,Gi=cn,ki=nn,Ri=hn,$i=sn,Hi=Math.abs;function Wi(t){const{coeffs:[[n,e,r],[o,i,u]],errorBound:[[s],[c]]}=Bi(t),f=n[1],l=e[1],a=o[1],h=i[1],v=Hi(r),g=Hi(l),d=Hi(f),p=Hi(u),b=Hi(h),m=Hi(a),I=Ri(n,i),E=s*b+2*Hi(f*h),N=Ri(e,o),_=g*c+2*Hi(l*a),M=ki(u,n),x=p*s+Hi(u*f),S=ki(r,o),T=v*c+Hi(r*a),B=ki(u,e),y=Hi(u*l),w=ki(r,i),z=Hi(r*h),O=Ri(n,n),P=2*(s*d+Hi(f*f)),D=Ri(n,o),F=s*m+d*c+2*Hi(f*a),C=Ri(o,o),A=2*(c*m+Hi(a*a)),L=f*h-l*a,V=f*u-r*a,q=l*u-r*h,Y=$i(I,N),G=Hi(L),k=E+_+Hi(L),R=$i(M,S),$=Hi(V),H=x+T+Hi(V),W=$i(B,w),j=Hi(q),Q=y+z+Hi(q),X=Yi(C),U=A,K=Gi(D),J=F,Z=Yi(O),tt=P,nt=h*L,et=Ri(i,Y),rt=b*k+2*Hi(nt),ot=2*V*a,it=Gi(Ri(o,R)),ut=2*(c*$+m*H+2*Hi(ot)),st=nt-ot,ct=$i(et,it),ft=rt+ut+Hi(st),lt=2*f*V,at=Gi(Ri(n,R)),ht=2*(s*$+d*H+2*Hi(lt)),vt=l*L,gt=Ri(e,Y),dt=g*k+2*Hi(vt),pt=lt-vt,bt=$i(at,gt),mt=ht+dt+Hi(pt),It=L*q,Et=Ri(Y,W),Nt=k*j+G*Q+2*Hi(It),_t=V*V,Mt=Ri(R,R),xt=2*(H*$+Hi(_t)),St=It-_t;return{coeffs:{vₓₓ:X,vₓᵧ:K,vᵧᵧ:Z,vₓ:ct,vᵧ:bt,v:$i(Et,Mt)},errorBound:{vₓₓ_:U,vₓᵧ_:J,vᵧᵧ_:tt,vₓ_:ft,vᵧ_:mt,v_:Nt+xt+Hi(St)}}}const ji=pn,Qi=cn,Xi=nn,Ui=hn,Ki=un,Ji=Math.abs,Zi=to(3);function tu(t,n){const{coeffs:{vₓₓ:e,vₓᵧ:r,vᵧᵧ:o,vₓ:i,vᵧ:u,v:s},errorBound:{vₓₓ_:c,vₓᵧ_:f,vᵧᵧ_:l,vₓ_:a,vᵧ_:h,v_:v}}=Wi(t),[[g,d],[p,b]]=yi(n),m=e[1],I=r[1],E=o[1],N=i[1],_=u[1],M=s[1],x=Ji(m),S=Ji(I),T=Ji(E),B=g[1],y=p[1],w=Ji(d),z=Ji(B),O=Ji(b),P=Ji(y),D=d*d,F=d*B,C=d*b,A=d*y,L=B*B,V=B*b,q=B*y,Y=b*b,G=b*y,k=y*y,R=ji(d,d),$=Xi(d,g),H=Ji(F),W=ji(d,b),j=Xi(d,p),Q=Ji(A),X=Ji(L),U=Ui(g,g),K=2*X,J=Xi(b,g),Z=Ji(V),tt=Ji(q),nt=Ui(g,p),et=2*tt,rt=ji(b,b),ot=Xi(b,p),it=Ji(G),ut=Ji(k),st=Ui(p,p),ct=2*ut,ft=L*m,lt=Ui(U,e),at=K*x*X*c+2*Ji(ft),ht=k*E,vt=Ui(st,o),gt=ct*T*ut*l+2*Ji(ht),dt=q*I,pt=Ui(nt,r),bt=et*S*tt*f+2*Ji(dt),mt=ft+ht,It=Ki(lt,vt),Et=at+gt+Ji(mt),Nt=mt+dt,_t=Ki(It,pt),Mt=Et+bt+Ji(Nt),xt=F*m,St=Ui($,e),Tt=H*(x+c)+2*Ji(xt),Bt=G*E,yt=Ui(ot,o),wt=it*(T+l)+2*Ji(Bt),zt=A+V,Ot=Ki(j,J),Pt=Q+Z+Ji(zt),Dt=zt*I,Ft=Ui(Ot,r),Ct=Pt*S+Ji(zt)*f+2*Ji(Dt),At=2*(xt+Bt),Lt=Qi(Ki(St,yt)),Vt=2*(Tt+wt)+Ji(At),qt=At+Dt,Yt=Ki(Lt,Ft),Gt=Vt+Ct+Ji(qt),kt=B*N,Rt=Ui(g,i),$t=z*a+2*Ji(kt),Ht=y*_,Wt=Ui(p,u),jt=P*h+2*Ji(Ht),Qt=kt+Ht,Xt=Ki(Rt,Wt),Ut=$t+jt+Ji(Qt),Kt=qt+Qt,Jt=Ki(Yt,Xt),Zt=Gt+Ut+Ji(Kt),tn=D*m,nn=Ui(R,e),en=2*Ji(tn),rn=C*I,on=Ui(W,r),un=2*Ji(rn),sn=Y*E,cn=Ui(rt,o),fn=2*Ji(sn),ln=tn+rn,an=Ki(nn,on),hn=en+un+Ji(ln),vn=ln+sn,gn=Ki(an,cn),dn=hn+fn+Ji(vn),pn=d*N,bn=Xi(d,i),mn=w*a+Ji(pn),In=b*_,En=Xi(b,u),Nn=O*h+Ji(In),_n=pn+In,Mn=Ki(bn,En),xn=mn+Nn+Ji(_n),Sn=vn+_n,Tn=Ki(gn,Mn),Bn=dn+xn+Ji(Sn),yn=Sn+M,wn=Ki(Tn,s),zn=Bn+v+Ji(yn);return{coeffs:[_t,Jt,wn],errBound:[Zi*Mt,Zi*Zt,Zi*zn]}}const nu=Math.abs,eu=gn,ru=cn,ou=ln,iu=nn,uu=hn,su=sn,cu=un;function fu(t){const{coeffs:[[n,e,r,o],[i,u,s,c]],errorBound:[[f,l,a],[h,v,g]]}=Ti(t),d=r[1],p=e[1],b=n[1],m=s[1],I=u[1],E=i[1],N=nu(o),_=nu(d),M=nu(p),x=nu(b),S=nu(c),T=nu(m),B=nu(I),y=nu(E),w=uu(n,s),z=b*m,O=f*T+x*g+2*nu(z),P=uu(r,i),D=d*E,F=a*y+_*h+2*nu(D),C=uu(n,u),A=b*I,L=f*B+x*v+2*nu(A),V=uu(e,u),q=p*I,Y=l*B+M*v+2*nu(q),G=uu(e,i),k=p*E,R=l*y+M*h+2*nu(k),$=uu(n,n),H=b*b,W=nu(H),j=f*x+x*f+2*nu(H),Q=uu(u,u),X=I*I,U=v*B+B*v+2*nu(X),K=uu(i,i),J=E*E,Z=nu(J),tt=h*y+y*h+2*nu(J),nt=uu(r,n),et=d*b,rt=a*x+_*f+2*nu(et),ot=uu(e,e),it=p*p,ut=l*M+M*l+2*nu(it),st=uu(s,i),ct=m*E,ft=g*y+T*h+2*nu(ct),lt=uu(u,i),at=nu(I*E),ht=v*y+B*h+2*at,vt=uu(e,n),gt=nu(p*b),dt=l*x+M*f+2*gt,pt=uu(n,i),bt=nu(b*E),mt=f*y+x*h+2*bt,It=iu(c,n),Et=b*c,Nt=f*S+nu(Et),_t=iu(o,i),Mt=o*E,xt=N*h+nu(Mt),St=iu(c,e),Tt=p*c,Bt=l*S+nu(Tt),yt=iu(o,u),wt=o*I,zt=N*v+nu(wt),Ot=uu(e,s),Pt=p*m,Dt=l*T+M*g+2*nu(Pt),Ft=uu(r,u),Ct=d*I,At=a*B+_*v+2*nu(Ct),Lt=iu(c,r),Vt=d*c,qt=a*S+nu(Vt),Yt=iu(o,s),Gt=o*m,kt=N*g+nu(Gt),Rt=su(It,_t),$t=Nt+xt+nu(Et-Mt),Ht=su(w,P),Wt=O+F+nu(z-D),jt=su(C,G),Qt=L+R+nu(A-k),Xt=su(St,yt),Ut=Bt+zt+nu(Tt-wt),Kt=su(Ot,Ft),Jt=Dt+At+nu(Pt-Ct),Zt=su(Lt,Yt),tn=qt+kt+nu(Vt-Gt),nn=nu(ct-X),en=su(st,Q),rn=ft+U+nn,on=nu(et-it),un=su(nt,ot),sn=rt+ut+nu(et-it),cn=nu(k+A),fn=cu(G,C),ln=R+L+nu(k+A),an=D+z,hn=nu(an),vn=cu(P,w),gn=F+O+hn,dn=ru(Ht),pn=2*Wt,bn=Et-Mt,mn=z-D,In=A-k,En=Tt-wt,Nn=Pt-Ct,_n=Vt-Gt,Mn=nu(bn),xn=nu(mn),Sn=nu(In),Tn=nu(En),Bn=nu(Nn),yn=nu(_n),wn=2*xn,zn=uu(Rt,Rt),On=uu(Rt,Ht),Pn=uu(Rt,jt),Dn=uu(Rt,Kt),Fn=uu(Ht,Ht),Cn=uu(dn,Xt),An=uu(jt,Xt),Ln=uu(jt,Kt),Vn=uu(jt,Zt),qn=$t*Mn+Mn*$t+2*nu(zn[1]),Yn=$t*xn+Mn*Wt+2*nu(On[1]),Gn=$t*Sn+Mn*Qt+2*nu(Pn[1]),kn=$t*Bn+Mn*Jt+2*nu(Dn[1]),Rn=Wt*xn+xn*Wt+2*nu(Fn[1]),$n=pn*Tn+wn*Ut+2*nu(Cn[1]),Hn=Qt*Tn+Sn*Ut+2*nu(An[1]),Wn=Qt*Bn+Sn*Jt+2*nu(Ln[1]),jn=Qt*yn+Sn*tn+2*nu(An[1]),Qn=uu(eu(i),K),Xn=h*Z+y*tt+2*nu(Qn[1]),Un=3*x,Kn=iu(3,n),Jn=3*f+Un,Zn=uu(Kn,K),te=Jn*Z+Un*tt+2*nu(Zn[1]),ne=3*y,ee=iu(-3,i),re=3*h+ne,oe=uu(ee,$),ie=re*W+ne*j+2*nu(oe[1]),ue=uu(n,$),se=f*W+x*j+2*nu(ue[1]),ce=-3*bn,fe=3*Mn,le=iu(-3,Rt),ae=3*$t+fe,he=su(le,Kt),ve=nu(ce-Nn),ge=ae+Jt+ve,de=uu(he,K),pe=ge*Z+ve*tt+2*nu(de[1]),be=uu(jt,en),me=Qt*nn+Sn*rn+2*nu(be[1]),Ie=cu(de,be),Ee=pe+me+nu(Ie[1]),Ne=uu(dn,lt),_e=pn*at+wn*ht+2*nu(Ne[1]),Me=cu(Ie,Ne),xe=Ee+_e+nu(Me[1]),Se=uu(he,$),Te=ge*W+ve*j+2*nu(Se[1]),Be=uu(jt,un),ye=Qt*on+Sn*sn+2*nu(Be[1]),we=cu(Se,Be),ze=Te+ye+nu(we[1]),Oe=uu(dn,vt),Pe=pn*gt+wn*dt+2*nu(Oe[1]),De=cu(we,Oe),Fe=ze+Pe+nu(De[1]),Ce=nu(q-an/2),Ae=su(V,ou(vn)),Le=Y+gn/2+nu(Ae[1]),Ve=uu(he,pt),qe=ge*bt+ve*mt+2*nu(Ve[1]),Ye=uu(Ht,fn),Ge=Wt*cn+xn*ln+2*nu(Ye[1]),ke=cu(Ve,Ye),Re=qe+Ge+nu(ke[1]),$e=uu(jt,Ae),He=Qt*Ce+Sn*Le+2*nu($e[1]),We=ru(su($e,ke)),je=2*(He+Re)+nu(We[1]),Qe=iu(-3,zn),Xe=3*qn+nu(Qe[1]),Ue=su(Qe,ru(Dn)),Ke=Xe+2*kn+nu(Ue[1]),Je=cu(Cn,Vn),Ze=$n+jn+nu(Je[1]),tr=cu(Ue,Je),nr=nu(tr[1]),er=Ke+Ze+nr,rr=ru(su(On,An)),or=nu(rr[1]),ir=2*(Yn+Hn)+or,ur=su(Pn,Fn),sr=Gn+Rn+nu(ur[1]),cr=cu(ur,Ln),fr=nu(cr[1]),lr=sr+Wn+fr,ar=uu(i,tr),hr=h*nr+y*er+2*nu(ar[1]),vr=uu(u,rr),gr=v*or+B*ir+2*nu(vr[1]),dr=uu(s,cr),pr=g*fr+T*lr+2*nu(dr[1]),br=cu(vr,dr),mr=gr+pr+nu(br[1]),Ir=cu(ar,br),Er=hr+mr+nu(Ir[1]),Nr=uu(n,tr),_r=f*nr+x*er+2*nu(Nr[1]),Mr=uu(e,rr),xr=l*or+M*ir+2*nu(Mr[1]),Sr=uu(r,cr),Tr=a*fr+_*lr+2*nu(Sr[1]),Br=cu(Mr,Sr),yr=xr+Tr+nu(Br[1]),wr=eu(cu(Nr,Br)),zr=_r+yr+nu(wr[1]),Or=su(Cn,zn),Pr=su(Or,Dn),Dr=nu(Pr[1]),Fr=uu(cr,Zt),Cr=uu(An,Xt),Ar=su(Fr,Cr),Lr=lr*nu(Zt[1])+2*nu(Fr[1])+Hn*nu(Xt[1])+2*nu(Cr[1])+nu(Ar[1]),Vr=uu(Rt,Pr),qr=$t*Dr+Mn*$n+qn+nu(Or[1])+kn+Dr+2*nu(Vr[1]),Yr=cu(Vr,Ar);return{coeffs:{vₓₓₓ:Qn,vₓₓᵧ:Zn,vₓᵧᵧ:oe,vᵧᵧᵧ:ue,vₓₓ:Me,vₓᵧ:We,vᵧᵧ:De,vₓ:Ir,vᵧ:wr,v:Yr},errorBound:{vₓₓₓ_:Xn,vₓₓᵧ_:te,vₓᵧᵧ_:ie,vᵧᵧᵧ_:se,vₓₓ_:xe,vₓᵧ_:je,vᵧᵧ_:Fe,vₓ_:Er,vᵧ_:zr,v_:qr+Lr+nu(Yr[1])}}}const lu=pn,au=cn,hu=nn,vu=hn,gu=un,du=Math.abs,pu=to(3);function bu(t,n){const{coeffs:{vₓₓₓ:e,vₓₓᵧ:r,vₓᵧᵧ:o,vᵧᵧᵧ:i,vₓₓ:u,vₓᵧ:s,vᵧᵧ:c,vₓ:f,vᵧ:l,v:a},errorBound:{vₓₓₓ_:h,vₓₓᵧ_:v,vₓᵧᵧ_:g,vᵧᵧᵧ_:d,vₓₓ_:p,vₓᵧ_:b,vᵧᵧ_:m,vₓ_:I,vᵧ_:E,v_:N}}=fu(t),[[_,M],[x,S]]=yi(n),T=e[1],B=r[1],y=o[1],w=i[1],z=u[1],O=s[1],P=c[1],D=f[1],F=l[1],C=a[1],A=_[1],L=x[1],V=du(M),q=du(A),Y=du(S),G=du(L),k=M*M,R=M*A,$=M*S,H=M*L,W=A*A,j=A*S,Q=A*L,X=S*S,U=S*L,K=L*L,J=lu(M,M),Z=hu(M,_),tt=du(R),nt=lu(M,S),et=hu(M,x),rt=du(H),ot=vu(_,_),it=2*du(W),ut=hu(S,_),st=du(j),ct=vu(_,x),ft=2*du(Q),lt=lu(S,S),at=hu(S,x),ht=du(U),vt=vu(x,x),gt=2*du(K),dt=du(k),pt=du(R),bt=du($),mt=du(H),It=du(W),Et=du(j),Nt=du(Q),_t=du(X),Mt=du(U),xt=du(K),St=M*T,Tt=hu(M,e),Bt=V*h+du(St),yt=3*M,wt=lu(3,M),zt=du(yt),Ot=yt*T,Pt=vu(wt,e),Dt=zt*h+2*du(Ot),Ft=M*B,Ct=hu(M,r),At=V*v+du(Ft),Lt=S*B,Vt=hu(S,r),qt=Y*v+du(Lt),Yt=M*y,Gt=hu(M,o),kt=V*g+du(Yt),Rt=S*y,$t=hu(S,o),Ht=Y*g+du(Rt),Wt=S*w,jt=hu(S,i),Qt=Y*d+du(Wt),Xt=3*S,Ut=lu(3,S),Kt=du(Xt),Jt=Xt*w,Zt=vu(Ut,i),tn=Kt*d+2*du(Jt),nn=A*T,en=vu(_,e),rn=q*h+2*du(nn),on=A*y,un=vu(_,o),sn=q*g+2*du(on),cn=L*B,fn=vu(x,r),ln=G*v+2*du(cn),an=L*w,hn=vu(x,i),vn=G*d+2*du(an),gn=nn+cn,dn=gu(en,fn),pn=du(gn),bn=rn+ln+pn,mn=on+an,In=gu(un,hn),En=du(mn),Nn=sn+vn+En,_n=W*gn,Mn=vu(ot,dn),xn=it*pn+It*bn+2*du(_n),Sn=K*mn,Tn=vu(vt,In),Bn=gt*En+xt*Nn+2*du(Sn),yn=_n+Sn,wn=gu(Mn,Tn),zn=xn+Bn+du(yn),On=Ot+Lt,Pn=gu(Pt,Vt),Dn=Dt+qt+du(On),Fn=2*(Ft+Rt),Cn=au(gu(Ct,$t)),An=2*(At+Ht)+du(Fn),Ln=Yt+Jt,Vn=gu(Gt,Zt),qn=kt+tn+du(Ln),Yn=On+z,Gn=gu(Pn,u),kn=du(Yn),Rn=Dn+p+kn,$n=Fn+O,Hn=gu(Cn,s),Wn=du($n),jn=An+b+Wn,Qn=Ln+P,Xn=gu(Vn,c),Un=du(Qn),Kn=qn+m+Un,Jn=W*Yn,Zn=vu(ot,Gn),te=it*kn+It*Rn+2*du(Jn),ne=Q*$n,ee=vu(ct,Hn),re=ft*Wn+Nt*jn+2*du(ne),oe=K*Qn,ie=vu(vt,Xn),ue=gt*Un+xt*Kn+2*du(oe),se=Jn+ne,ce=gu(Zn,ee),fe=te+re+du(se),le=se+oe,ae=gu(ce,ie),he=fe+ue+du(le),ve=2*(Lt+z),ge=au(gu(Vt,u)),de=2*(qt+p)+du(ve),pe=2*(Yt+P),be=au(gu(Gt,c)),me=2*(kt+m)+du(pe),Ie=Ot+ve,Ee=gu(Pt,ge),Ne=du(Ie),_e=Dt+de+Ne,Me=Jt+pe,xe=gu(Zt,be),Se=du(Me),Te=tn+me+Se,Be=Ft+O,ye=gu(Ct,s),we=du(Be),ze=At+b+we,Oe=Rt+O,Pe=gu($t,s),De=du(Oe),Fe=Ht+b+De,Ce=R*Ie,Ae=vu(Z,Ee),Le=tt*Ne+pt*_e+2*du(Ce),Ve=U*Me,qe=vu(at,xe),Ye=ht*Se+Mt*Te+2*du(Ve),Ge=H*Be,ke=vu(et,ye),Re=rt*we+mt*ze+2*du(Ge),$e=j*Oe,He=vu(ut,Pe),We=st*De+Et*Fe+2*du($e),je=A*D,Qe=vu(_,f),Xe=q*I+2*du(je),Ue=L*F,Ke=vu(x,l),Je=G*E+2*du(Ue),Ze=Ce+Ve,tr=gu(Ae,qe),nr=Le+Ye+du(Ze),er=Ge+$e,rr=gu(ke,He),or=Re+We+du(er),ir=Ze+er,ur=gu(tr,rr),sr=nr+or+du(ir),cr=je+Ue,fr=gu(Qe,Ke),lr=Xe+Je+du(cr),ar=ir+cr,hr=gu(ur,fr),vr=sr+lr+du(ar),gr=St+Lt,dr=gu(Tt,Vt),pr=Bt+qt+du(gr),br=Wt+Yt,mr=gu(jt,Gt),Ir=Qt+kt+du(br),Er=gr+z,Nr=gu(dr,u),_r=pr+p+du(Er),Mr=br+P,xr=gu(mr,c),Sr=Ir+m+du(Mr),Tr=k*Er,Br=vu(J,Nr),yr=dt*_r+2*du(Tr),wr=X*Mr,zr=vu(lt,xr),Or=_t*Sr+2*du(wr),Pr=$*O,Dr=vu(nt,s),Fr=bt*b+2*du(Pr),Cr=Tr+wr,Ar=gu(Br,zr),Lr=yr+Or+du(Cr),Vr=Cr+Pr,qr=gu(Ar,Dr),Yr=Lr+Fr+du(Vr),Gr=M*D,kr=hu(M,f),Rr=V*I+du(Gr),$r=S*F,Hr=hu(S,l),Wr=Y*E+du($r),jr=Gr+$r,Qr=gu(kr,Hr),Xr=Rr+Wr+du(jr),Ur=Vr+jr,Kr=gu(qr,Qr),Jr=Yr+Xr+du(Ur),Zr=Ur+C,to=gu(Kr,a),no=Jr+N+du(Zr);return{coeffs:[wn,ae,hr,to],errBound:[pu*zn,pu*he,pu*vr,pu*no]}}const mu=un,Iu=nn,Eu=hn,Nu=Math.abs,_u=to(3);function Mu(t,n){const{coeffs:{vₓ:e,vᵧ:r,v:o},errorBound:{v_:i}}=Di(t),{coeffs:[[u,s,c],[f,l,a]],errorBound:[[h],[v]]}=Bi(n),g=e[1],d=r[1],p=o[1],b=Nu(g),m=Nu(d),I=(Nu(p),s[1]),E=u[1],N=l[1],_=f[1],M=E*g,x=Eu(u,e),S=h*b+2*Nu(M),T=_*d,B=Eu(f,r),y=v*m+2*Nu(T),w=M+T,z=mu(x,B),O=S+y+Nu(w),P=I*g,D=Eu(s,e),F=2*Nu(P),C=N*d,A=Eu(l,r),L=2*Nu(C),V=P+C,q=mu(D,A),Y=F+L+Nu(V),G=Iu(c,e),k=c*g,R=Nu(k),$=Iu(a,r),H=a*d,W=Nu(H),j=k+H,Q=mu(G,$),X=R+W+Nu(j),U=j+p,K=mu(Q,o),J=X+i+Nu(U);return{coeffs:[z,q,K],errBound:[_u*O,_u*Y,_u*J]}}const xu=pn,Su=cn,Tu=nn,Bu=hn,yu=un,wu=Math.abs,zu=to(3);function Ou(t,n){const{coeffs:{vₓₓ:e,vₓᵧ:r,vᵧᵧ:o,vₓ:i,vᵧ:u,v:s},errorBound:{vₓₓ_:c,vₓᵧ_:f,vᵧᵧ_:l,vₓ_:a,vᵧ_:h,v_:v}}=Wi(t),{coeffs:[[g,d,p],[b,m,I]],errorBound:[[E],[N]]}=Bi(n),_=e[1],M=r[1],x=o[1],S=i[1],T=u[1],B=s[1],y=wu(_),w=wu(M),z=wu(x),O=wu(S),P=wu(T),D=d[1],F=g[1],C=m[1],A=b[1],L=wu(p),V=wu(D),q=wu(F),Y=wu(I),G=wu(C),k=wu(A),R=p*p,$=p*D,H=p*F,W=p*I,j=p*C,Q=p*A,X=D*D,U=D*F,K=D*I,J=D*C,Z=D*A,tt=F*C,nt=F*F,et=F*I,rt=F*A,ot=I*I,it=I*C,ut=I*A,st=C*C,ct=C*A,ft=A*A,lt=wu(R),at=wu(W),ht=wu(ot),vt=xu(p,p),gt=Tu(p,d),dt=wu($),pt=Tu(p,g),bt=wu(H),mt=xu(p,I),It=Tu(p,m),Et=wu(j),Nt=Tu(p,b),_t=wu(Q),Mt=Bu(d,d),xt=2*wu(X),St=Bu(d,g),Tt=wu(U),Bt=V*E+2*Tt,yt=Tu(I,d),wt=wu(K),zt=Bu(d,m),Ot=2*wu(J),Pt=Bu(d,b),Dt=V*N+2*wu(Z),Ft=Bu(g,m),Ct=E*G+2*wu(tt),At=Bu(g,g),Lt=wu(nt),Vt=2*(E*q+Lt),qt=Tu(I,g),Yt=wu(et),Gt=Bu(g,b),kt=wu(rt),Rt=E*k+q*N+2*kt,$t=xu(I,I),Ht=Tu(I,m),Wt=wu(it),jt=Tu(I,b),Qt=wu(ut),Xt=Bu(m,m),Ut=2*wu(st),Kt=Bu(m,b),Jt=wu(ct),Zt=G*N+2*Jt,tn=Bu(b,b),nn=wu(ft),en=2*(N*k+nn),rn=nt*_,on=Bu(At,e),un=Vt*y+Lt*c+2*wu(rn),sn=rt*M,cn=Bu(Gt,r),fn=Rt*w+kt*f+2*wu(sn),ln=ft*x,an=Bu(tn,o),hn=en*z+nn*l+2*wu(ln),vn=rn+sn,gn=yu(on,cn),dn=un+fn+wu(vn),pn=vn+ln,bn=yu(gn,an),mn=dn+hn+wu(pn),In=U*_,En=Bu(St,e),Nn=Bt*y+Tt*c+2*wu(In),_n=ct*x,Mn=Bu(Kt,o),xn=Zt*z+Jt*l+2*wu(_n),Sn=Z+tt,Tn=yu(Pt,Ft),Bn=wu(Sn),yn=Dt+Ct+Bn,wn=Sn*M,zn=Bu(Tn,r),On=yn*w+Bn*f+2*wu(wn),Pn=2*(In+_n),Dn=Su(yu(En,Mn)),Fn=2*(Nn+xn)+wu(Pn),Cn=Pn+wn,An=yu(Dn,zn),Ln=Fn+On+wu(Cn),Vn=2*H+X,qn=wu(Vn),Yn=yu(Su(pt),Mt),Gn=2*bt+xt+wu(Vn),kn=2*ut+st,Rn=wu(kn),$n=yu(Su(jt),Xt),Hn=2*Qt+Ut+wu(kn),Wn=Q+J,jn=(wu(Wn),yu(Nt,zt)),Qn=_t+Ot+wu(Wn),Xn=Wn+et,Un=yu(jn,qt),Kn=wu(Xn),Jn=Qn+Yt+Kn,Zn=Vn*_,te=Bu(Yn,e),ne=Gn*y+qn*c+2*wu(Zn),ee=kn*x,re=Bu($n,o),oe=Hn*z+Rn*l+2*wu(ee),ie=Xn*M,ue=Bu(Un,r),se=Jn*w+Kn*f+2*wu(ie),ce=F*S,fe=Bu(g,i),le=E*O+q*a+wu(ce),ae=A*T,he=Bu(b,u),ve=N*P+k*h+wu(ae),ge=Zn+ee,de=yu(te,re),pe=ne+oe+wu(ge),be=ge+ie,me=yu(de,ue),Ie=pe+se+wu(be),Ee=ce+ae,Ne=yu(fe,he),_e=le+ve+wu(Ee),Me=be+Ee,xe=yu(me,Ne),Se=Ie+_e+wu(Me),Te=$*_,Be=Bu(gt,e),ye=dt*(y+c)+2*wu(Te),we=it*x,ze=Bu(Ht,o),Oe=Wt*(z+l)+2*wu(we),Pe=j+K,De=yu(It,yt),Fe=wu(Pe),Ce=Et+wt+Fe,Ae=Pe*M,Le=Bu(De,r),Ve=Ce*w+Fe*f+2*wu(Ae),qe=2*(Te+we),Ye=Su(yu(Be,ze)),Ge=2*(ye+Oe)+wu(qe),ke=D*S,Re=Bu(d,i),$e=V*a+2*wu(ke),He=C*T,We=Bu(m,u),je=G*h+2*wu(He),Qe=qe+Ae,Xe=yu(Ye,Le),Ue=Ge+Ve+wu(Qe),Ke=ke+He,Je=yu(Re,We),Ze=$e+je+wu(Ke),tr=Qe+Ke,nr=yu(Xe,Je),er=Ue+Ze+wu(tr),rr=R*_,or=Bu(vt,e),ir=lt*c+2*wu(rr),ur=W*M,sr=Bu(mt,r),cr=at*f+2*wu(ur),fr=ot*x,lr=Bu($t,o),ar=ht*l+2*wu(fr),hr=p*S,vr=Tu(p,i),gr=L*a+wu(hr),dr=I*T,pr=Tu(I,u),br=Y*h+wu(dr),mr=rr+ur,Ir=yu(or,sr),Er=ir+cr+wu(mr),Nr=mr+fr,_r=yu(Ir,lr),Mr=Er+ar+wu(Nr),xr=hr+dr,Sr=yu(vr,pr),Tr=gr+br+wu(xr),Br=Nr+xr,yr=yu(_r,Sr),wr=Mr+Tr+wu(Br),zr=Br+B,Or=yu(yr,s),Pr=wr+v+wu(zr);return{coeffs:[bn,An,xe,nr,Or],errBound:[zu*mn,zu*Ln,zu*Se,zu*er,zu*Pr]}}const Pu=pn,Du=cn,Fu=nn,Cu=hn,Au=un,Lu=Math.abs,Vu=to(3);function qu(t,n){const{coeffs:{vₓₓₓ:e,vₓₓᵧ:r,vₓᵧᵧ:o,vᵧᵧᵧ:i,vₓₓ:u,vₓᵧ:s,vᵧᵧ:c,vₓ:f,vᵧ:l,v:a},errorBound:{vₓₓₓ_:h,vₓₓᵧ_:v,vₓᵧᵧ_:g,vᵧᵧᵧ_:d,vₓₓ_:p,vₓᵧ_:b,vᵧᵧ_:m,vₓ_:I,vᵧ_:E,v_:N}}=fu(t),{coeffs:[[_,M,x],[S,T,B]],errorBound:[[y],[w]]}=Bi(n),z=e[1],O=r[1],P=o[1],D=i[1],F=u[1],C=s[1],A=c[1],L=f[1],V=l[1],q=a[1],Y=Lu(z),G=Lu(O),k=Lu(P),R=Lu(D),$=Lu(F),H=Lu(A),W=Lu(C),j=Lu(L),Q=Lu(V),X=M[1],U=_[1],K=T[1],J=S[1],Z=Lu(x),tt=Lu(X),nt=Lu(U),et=Lu(B),rt=Lu(K),ot=Lu(J),it=x*x,ut=x*X,st=x*U,ct=x*B,ft=x*K,lt=x*J,at=X*X,ht=X*U,vt=X*B,gt=X*K,dt=X*J,pt=U*K,bt=U*U,mt=U*B,It=U*J,Et=B*B,Nt=B*K,_t=B*J,Mt=K*K,xt=K*J,St=J*J,Tt=Pu(x,x),Bt=Fu(x,M),yt=Lu(ut),wt=Fu(x,_),zt=Z*y+Lu(st),Ot=Pu(x,B),Pt=Fu(x,T),Dt=Lu(ft),Ft=Fu(x,S),Ct=Z*w+Lu(lt),At=Cu(M,M),Lt=2*Lu(at),Vt=Cu(M,_),qt=tt*y+2*Lu(ht),Yt=Fu(B,M),Gt=Lu(vt),kt=Cu(M,T),Rt=2*Lu(gt),$t=Cu(M,S),Ht=tt*w+2*Lu(dt),Wt=Cu(_,T),jt=y*rt+2*Lu(pt),Qt=Cu(_,_),Xt=2*(y*nt+Lu(bt)),Ut=Fu(B,_),Kt=et*y+Lu(mt),Jt=Cu(_,S),Zt=y*ot+nt*w+2*Lu(It),tn=Pu(B,B),nn=Fu(B,T),en=Lu(Nt),rn=Fu(B,S),on=et*w+Lu(_t),un=Cu(T,T),sn=2*Lu(Mt),cn=Cu(T,S),fn=rt*w+2*Lu(xt),ln=Cu(S,S),an=2*(w*ot+Lu(St)),hn=Lu(it),vn=Lu(ut),gn=Lu(ct),dn=Lu(ft),pn=Lu(ht),bn=Lu(bt),mn=Lu(It),In=Lu(vt),En=Lu(Et),Nn=Lu(Nt),_n=Lu(xt),Mn=Lu(St),xn=Cu(_,e),Sn=U*z,Tn=y*Y+nt*h+2*Lu(Sn),Bn=Cu(_,o),yn=U*P,wn=y*k+nt*g+2*Lu(yn),zn=Cu(S,r),On=J*O,Pn=w*G+ot*v+2*Lu(On),Dn=Cu(S,i),Fn=J*D,Cn=w*R+ot*d+2*Lu(Fn),An=Sn+On,Ln=Au(xn,zn),Vn=Lu(An),qn=Tn+Pn+Vn,Yn=yn+Fn,Gn=Au(Bn,Dn),kn=Lu(Yn),Rn=wn+Cn+kn,$n=bt*An,Hn=Cu(Qt,Ln),Wn=Xt*Vn+bn*qn+2*Lu($n),jn=St*Yn,Qn=Cu(ln,Gn),Xn=an*kn+Mn*Rn+2*Lu(jn),Un=$n+jn,Kn=Au(Hn,Qn),Jn=Wn+Xn+Lu(Un),Zn=st+at,te=Au(wt,At),ne=Lu(Zn),ee=zt+Lt+ne,re=_t+Mt,oe=Au(rn,un),ie=Lu(re),ue=on+sn+ie,se=2*st+at,ce=Lu(se),fe=Au(Du(wt),At),le=2*zt+Lt+ce,ae=2*_t+Mt,he=Au(Du(rn),un),ve=Lu(ae),ge=2*on+sn+ve,de=2*gt+mt,pe=Au(Du(kt),Ut),be=Lu(de),me=2*Rt+Kt+be,Ie=2*gt+lt,Ee=Au(Du(kt),Ft),Ne=Lu(Ie),_e=2*Rt+Ct+Ne,Me=2*mt+gt,xe=Au(Du(Ut),kt),Se=2*Kt+Rt+Lu(Me),Te=6*st+at,Be=6*st,ye=Fu(6,wt),we=6*zt+Lu(Be),ze=Au(ye,At),Oe=we+Lt+Lu(Be+at),Pe=6*_t+Mt,De=6*_t,Fe=Fu(6,rn),Ce=6*on+Lu(De),Ae=Au(Fe,un),Le=Ce+sn+Lu(De+Mt),Ve=dt+pt,qe=Au($t,Wt),Ye=Lu(Ve),Ge=Ht+jt+Ye,ke=lt+mt,Re=Au(Ft,Ut),$e=Ct+Kt+Lu(ke),He=2*vt+ft,We=Au(Du(Yt),Pt),je=2*Gt+Dt+Lu(He),Qe=2*ft+vt,Xe=Au(Du(Pt),Yt),Ue=2*Dt+Gt+Lu(Qe),Ke=lt+gt,Je=Au(Ft,kt),Ze=Ct+Rt+Lu(Ke),tr=Ke+mt,nr=Au(Je,Ut),er=Lu(tr),rr=Ze+Kt+er,or=3*bt,ir=Fu(3,Qt),ur=3*Xt+Lu(or),sr=Lu(or),cr=3*St,fr=Fu(3,ln),lr=3*an+Lu(cr),ar=Lu(cr),hr=or*z,vr=Cu(ir,e),gr=ur*Y+sr*h+2*Lu(hr),dr=bt*O,pr=Cu(Qt,r),br=Xt*G+bn*v+2*Lu(dr),mr=2*It*O,Ir=Du(Cu(Jt,r)),Er=2*(Zt*G+mn*v+Lu(mr)),Nr=2*It*P,_r=Du(Cu(Jt,o)),Mr=2*(Zt*k+mn*g+Lu(Nr)),xr=St*P,Sr=Cu(ln,o),Tr=an*k+Mn*g+2*Lu(xr),Br=cr*D,yr=Cu(fr,i),wr=lr*R+ar*d+2*Lu(Br),zr=hr+mr,Or=Au(vr,Ir),Pr=gr+Er+Lu(zr),Dr=dr+Nr,Fr=Au(pr,_r),Cr=br+Mr+Lu(Dr),Ar=zr+xr,Lr=Au(Or,Sr),Vr=Pr+Tr+Lu(Ar),qr=Dr+Br,Yr=Au(Fr,yr),Gr=Cr+wr+Lu(qr),kr=X*Ar,Rr=Cu(M,Lr),$r=tt*Vr+Lu(kr),Hr=K*qr,Wr=Cu(T,Yr),jr=rt*Gr+Lu(Hr),Qr=kr+Hr,Xr=Au(Rr,Wr),Ur=$r+jr+Lu(Qr),Kr=J*se,Jr=Cu(S,fe),Zr=w*ce+ot*le+2*Lu(Kr),to=J*Ie,no=Cu(S,Ee),eo=w*Ne+ot*_e+2*Lu(to),ro=U*de,oo=Cu(_,pe),io=y*be+nt*me+2*Lu(ro),uo=U*ae,so=Cu(_,he),co=y*ve+nt*ge+2*Lu(uo),fo=3*U,lo=Fu(3,_),ao=Lu(fo),ho=3*y+ao,vo=fo*Zn,go=Cu(lo,te),po=Lu(vo),bo=ho*ne+ao*ee+po,mo=3*J,Io=Fu(3,S),Eo=Lu(mo),No=3*w+Eo,_o=mo*re,Mo=Cu(Io,oe),xo=Lu(_o),So=No*ie+Eo*ue+xo,To=Kr+ro,Bo=Au(Jr,oo),yo=Lu(To),wo=Zr+io+yo,zo=to+uo,Oo=Au(no,so),Po=Lu(zo),Do=eo+co+Po,Fo=vo*z,Co=Cu(go,e),Ao=bo*Y+po*h+2*Lu(Fo),Lo=_o*D,Vo=Cu(Mo,i),qo=So*R+xo*d+2*Lu(Lo),Yo=To*O,Go=Cu(Bo,r),ko=wo*G+yo*v+2*Lu(Yo),Ro=zo*P,$o=Cu(Oo,o),Ho=Do*k+Po*g+2*Lu(Ro),Wo=Fo+Lo,jo=Au(Co,Vo),Qo=Ao+qo+Lu(Wo),Xo=Yo+Ro,Uo=Au(Go,$o),Ko=ko+Ho+Lu(Xo),Jo=bt*F,Zo=Cu(Qt,u),ti=Xt*$+bn*p+2*Lu(Jo),ni=St*A,ei=Cu(ln,c),ri=an*H+Mn*m+2*Lu(ni),oi=It*C,ii=Cu(Jt,s),ui=Zt*W+mn*b+2*Lu(oi),si=Jo+ni,ci=Au(Zo,ei),fi=ti+ri+Lu(si),li=Wo+Xo,ai=Au(jo,Uo),hi=Qo+Ko+Lu(li),vi=si+oi,gi=Au(ci,ii),di=fi+ui+Lu(vi),pi=li+vi,bi=Au(ai,gi),mi=hi+di+Lu(pi),Ii=X*Te,Ei=Cu(M,ze),Ni=tt*Oe+2*Lu(Ii),_i=2*Ni,Mi=K*Pe,xi=Cu(T,Ae),Si=rt*Le+2*Lu(Mi),Ti=2*Si,yi=2*x*Ve,wi=Fu(2*x,qe),zi=2*Z*Ge+Lu(yi),Oi=2*K*ke,Pi=Cu(Du(T),Re),Di=2*rt*$e+2*Lu(Oi),Fi=X*Me,Ci=Cu(M,xe),Ai=tt*Se+2*Lu(Fi),Li=X*ae,Vi=Cu(M,he),qi=tt*ge+2*Lu(Li),Yi=yi+Fi,Gi=Au(wi,Ci),ki=zi+Ai+Lu(Yi),Ri=zi+Ai+ki,$i=Oi+Li,Hi=Au(Pi,Vi),Wi=Di+qi+Lu($i),ji=Di+qi+Wi,Qi=xt*A,Xi=Cu(cn,c),Ui=fn*H+_n*m+2*Lu(Qi),Ki=ht*F,Ji=Cu(Vt,u),Zi=qt*$+pn*p+2*Lu(Ki),tu=Ve*C,nu=Cu(qe,s),eu=Ge*W+Ye*b+2*Lu(tu),ru=Qi+Ki,ou=Au(Xi,Ji),iu=Ui+Zi+Lu(ru),uu=Ii*z,su=Cu(Ei,e),cu=_i*Y+Ni*h+2*Lu(uu),lu=Yi*O,au=Cu(Gi,r),hu=Ri*G+ki*v+2*Lu(lu),vu=Mi*D,gu=Cu(xi,i),du=Ti*R+Si*d+2*Lu(vu),pu=$i*P,bu=Cu(Hi,o),mu=ji*k+Wi*g+2*Lu(pu),Iu=uu+vu,Eu=Au(su,gu),Nu=cu+du+Lu(Iu),_u=lu+pu,Mu=Au(au,bu),xu=hu+mu+Lu(_u),Su=Iu+_u,Tu=Au(Eu,Mu),Bu=Nu+xu+Lu(Su),yu=2*ru+tu,wu=Au(Du(ou),nu),zu=2*iu+eu+Lu(yu),Ou=Su+yu,qu=Au(Tu,wu),Yu=Bu+zu+Lu(Ou),Gu=3*x,ku=Lu(Gu),Ru=Pu(3,x),$u=Gu*Zn,Hu=Cu(Ru,te),Wu=Lu($u),ju=ku*ee+2*Lu($u),Qu=3*B,Xu=Lu(Qu),Uu=Pu(3,B),Ku=Qu*re,Ju=Cu(Uu,oe),Zu=Lu(Ku),ts=Xu*ue+2*Lu(Ku),ns=x*Ie,es=Fu(x,Ee),rs=Z*_e+Lu(ns),os=x*ae,is=Fu(x,he),us=Z*ge+Lu(os),ss=B*se,cs=Fu(B,fe),fs=et*le+Lu(ss),ls=B*de,as=Fu(B,pe),hs=et*me+Lu(ls),vs=ns+ss,gs=Au(es,cs),ds=Lu(vs),ps=rs+fs+ds,bs=os+ls,ms=Au(is,as),Is=Lu(bs),Es=us+hs+Is,Ns=$u*z,_s=Cu(Hu,e),Ms=ju*Y+Wu*h+2*Lu(Ns),xs=Ku*D,Ss=Cu(Ju,i),Ts=ts*R+Zu*d+2*Lu(xs),Bs=vs*O,ys=Cu(gs,r),ws=ps*G+ds*v+2*Lu(Bs),zs=bs*P,Os=Cu(ms,o),Ps=Es*k+Is*g+2*Lu(zs),Ds=se*F,Fs=Cu(fe,u),Cs=le*$+ce*p+2*Lu(Ds),As=ae*A,Ls=Cu(he,c),Vs=ge*H+ve*m+2*Lu(As),qs=tr*C,Ys=Cu(nr,s),Gs=rr*W+er*b+2*Lu(qs),ks=U*L,Rs=Cu(_,f),$s=y*j+nt*I+2*Lu(ks),Hs=J*V,Ws=Cu(S,l),js=w*Q+ot*E+2*Lu(Hs),Qs=Ns+xs,Xs=Au(_s,Ss),Us=Ms+Ts+Lu(Qs),Ks=Bs+zs,Js=Au(ys,Os),Zs=ws+Ps+Lu(Ks),tc=Ds+As,nc=Au(Fs,Ls),ec=Cs+Vs+Lu(tc),rc=Qs+Ks,oc=Au(Xs,Js),ic=Us+Zs+Lu(rc),uc=tc+qs,sc=Au(nc,Ys),cc=ec+Gs+Lu(uc),fc=ks+Hs,lc=Au(Rs,Ws),ac=$s+js+Lu(fc),hc=rc+uc,vc=Au(oc,sc),gc=ic+cc+Lu(hc),dc=hc+fc,pc=Au(vc,lc),bc=gc+ac+Lu(dc),mc=Gu*ut,Ic=Cu(Ru,Bt),Ec=Lu(mc),Nc=ku*yt+2*Ec,_c=Qu*Nt,Mc=Cu(Uu,nn),xc=Lu(_c),Sc=Xu*en+2*xc,Tc=x*He,Bc=Fu(x,We),yc=Lu(Tc),wc=Z*je+Lu(Tc),zc=B*Qe,Oc=Fu(B,Xe),Pc=Lu(zc),Dc=et*Ue+Lu(zc),Fc=ut*F,Cc=Cu(Bt,u),Ac=yt*$+vn*p+2*Lu(Fc),Lc=Nt*A,Vc=Cu(nn,c),qc=en*H+Nn*m+2*Lu(Lc),Yc=ft*C,Gc=Cu(Pt,s),kc=Dt*W+dn*b+2*Lu(Yc),Rc=vt*C,$c=Cu(Yt,s),Hc=Gt*W+In*b+2*Lu(Rc),Wc=2*(Fc+Lc),jc=Du(Au(Cc,Vc)),Qc=2*(Ac+qc)+Lu(Wc),Xc=Yc+Rc,Uc=Au(Gc,$c),Kc=kc+Hc+Lu(Xc),Jc=X*L,Zc=Cu(M,f),tf=tt*I+2*Lu(Jc),nf=K*V,ef=Cu(T,l),rf=rt*E+2*Lu(nf),of=mc*z,uf=Cu(Ic,e),sf=Nc*Y+Ec*h+2*Lu(of),cf=_c*D,ff=Cu(Mc,i),lf=Sc*R+xc*d+2*Lu(cf),af=Tc*O,hf=Cu(Bc,r),vf=wc*G+yc*v+2*Lu(af),gf=zc*P,df=Cu(Oc,o),pf=Dc*k+Pc*g+2*Lu(gf),bf=of+cf,mf=Au(uf,ff),If=sf+lf+Lu(bf),Ef=af+gf,Nf=Au(hf,df),_f=vf+pf+Lu(Ef),Mf=bf+Ef,xf=Au(mf,Nf),Sf=If+_f+Lu(Mf),Tf=Wc+Xc,Bf=Au(jc,Uc),yf=Qc+Kc+Lu(Tf),wf=Jc+nf,zf=Au(Zc,ef),Of=tf+rf+Lu(wf),Pf=Mf+Tf,Df=Au(xf,Bf),Ff=Sf+yf+Lu(Pf),Cf=Pf+wf,Af=Au(Df,zf),Lf=Ff+Of+Lu(Cf),Vf=x*z,qf=Fu(x,e),Yf=Z*h+Lu(Vf),Gf=x*P,kf=Fu(x,o),Rf=Z*g+Lu(Gf),$f=B*O,Hf=Fu(B,r),Wf=et*v+Lu($f),jf=B*D,Qf=Fu(B,i),Xf=et*d+Lu(jf),Uf=Vf+$f,Kf=Au(qf,Hf),Jf=Yf+Wf+Lu(Uf),Zf=Gf+jf,tl=Au(kf,Qf),nl=Rf+Xf+Lu(Zf),el=Uf+F,rl=Au(Kf,u),ol=Jf+p+Lu(el),il=Zf+A,ul=Au(tl,c),sl=nl+m+Lu(il),cl=it*el,fl=Cu(Tt,rl),ll=hn*ol+2*Lu(cl),al=Et*il,hl=Cu(tn,ul),vl=En*sl+2*Lu(al),gl=ct*C,dl=Cu(Ot,s),pl=gn*b+2*Lu(gl),bl=x*L,ml=Fu(x,f),Il=Z*I+Lu(bl),El=B*V,Nl=Fu(B,l),_l=et*E+Lu(El),Ml=cl+al,xl=Au(fl,hl),Sl=ll+vl+Lu(Ml),Tl=Ml+gl,Bl=Au(xl,dl),yl=Sl+pl+Lu(Tl),wl=bl+El,zl=Au(ml,Nl),Ol=Il+_l+Lu(wl),Pl=Tl+wl,Dl=Au(Bl,zl),Fl=yl+Ol+Lu(Pl),Cl=Pl+q,Al=Au(Dl,a),Ll=Fl+N+Lu(Cl);return{coeffs:[Kn,Xr,bi,qu,pc,Af,Al],errBound:[Vu*Jn,Vu*Ur,Vu*mi,Vu*Yu,Vu*bc,Vu*Lf,Vu*Ll]}}const Yu=un,Gu=nn,ku=hn,Ru=Math.abs,$u=to(3);function Hu(t,n){const{coeffs:{vₓ:e,vᵧ:r,v:o},errorBound:{v_:i}}=Di(t),{coeffs:[[u,s,c,f],[l,a,h,v]],errorBound:[[g,d,p],[b,m,I]]}=Ti(n),E=Ru(e[1]),N=Ru(r[1]),_=ku(u,e),M=g*E+2*Ru(_[1]),x=ku(l,r),S=b*N+2*Ru(x[1]),T=Yu(_,x),B=M+S+Ru(T[1]),y=ku(s,e),w=d*E+2*Ru(y[1]),z=ku(a,r),O=m*N+2*Ru(z[1]),P=Yu(y,z),D=w+O+Ru(P[1]),F=ku(c,e),C=p*E+2*Ru(F[1]),A=ku(h,r),L=I*N+2*Ru(A[1]),V=Yu(F,A),q=C+L+Ru(V[1]),Y=Gu(f,e),G=Ru(Y[1]),k=Gu(v,r),R=Ru(k[1]),$=Yu(Y,k),H=G+R+Ru($[1]),W=Yu($,o),j=H+i+Ru(W[1]);return{coeffs:[T,P,V,W],errBound:[$u*B,$u*D,$u*q,$u*j]}}const Wu=pn,ju=cn,Qu=nn,Xu=hn,Uu=un,Ku=Math.abs,Ju=to(3);function Zu(t,n){const{coeffs:{vₓₓ:e,vₓᵧ:r,vᵧᵧ:o,vₓ:i,vᵧ:u,v:s},errorBound:{vₓₓ_:c,vₓᵧ_:f,vᵧᵧ_:l,vₓ_:a,vᵧ_:h,v_:v}}=Wi(t),{coeffs:[[g,d,p,b],[m,I,E,N]],errorBound:[[_,M,x],[S,T,B]]}=Ti(n),y=e[1],w=r[1],z=o[1],O=i[1],P=u[1],D=s[1],F=Ku(y),C=Ku(w),A=Ku(z),L=Ku(O),V=Ku(P),q=p[1],Y=d[1],G=g[1],k=E[1],R=I[1],$=m[1],H=Ku(b),W=Ku(q),j=Ku(Y),Q=Ku(G),X=Ku(N),U=Ku(k),K=Ku(R),J=Ku($),Z=b*b,tt=b*q,nt=b*Y,et=b*G,rt=b*N,ot=b*k,it=b*R,ut=b*$,st=q*q,ct=q*Y,ft=q*G,lt=q*N,at=q*k,ht=q*R,vt=q*$,gt=Y*k,dt=Y*Y,pt=Y*G,bt=Y*N,mt=Y*R,It=Y*$,Et=G*G,Nt=G*N,_t=G*k,Mt=G*R,xt=G*$,St=N*N,Tt=N*k,Bt=N*R,yt=N*$,wt=k*k,zt=k*R,Ot=$*$,Pt=R*R,Dt=R*$,Ft=k*$,Ct=Wu(b,b),At=Ku(Z),Lt=Qu(b,p),Vt=Ku(tt),qt=H*x+Vt,Yt=Qu(b,d),Gt=H*M+Ku(nt),kt=Qu(b,g),Rt=H*_+Ku(et),$t=Wu(b,N),Ht=Ku(rt),Wt=Qu(b,E),jt=H*B+Ku(ot),Qt=Qu(b,I),Xt=H*T+Ku(it),Ut=Qu(b,m),Kt=H*S+Ku(ut),Jt=Xu(p,p),Zt=x*W+W*x+2*Ku(st),tn=Xu(p,d),nn=x*j+W*M+2*Ku(ct),en=Xu(p,g),rn=x*Q+W*_+2*Ku(ft),on=Qu(N,p),un=X*x+Ku(lt),sn=Xu(p,E),cn=x*U+W*B+2*Ku(at),fn=Xu(p,I),ln=x*K+W*T+2*Ku(ht),an=Xu(p,m),hn=x*J+W*S+2*Ku(vt),vn=Xu(d,E),gn=M*U+j*B+2*Ku(gt),dn=Xu(d,d),pn=M*j+j*M+2*Ku(dt),bn=Xu(d,g),mn=Ku(pt),In=M*Q+j*_+2*mn,En=Qu(N,d),Nn=X*M+Ku(bt),_n=Xu(d,I),Mn=M*K+j*T+2*Ku(mt),xn=Xu(d,m),Sn=M*J+j*S+2*Ku(It),Tn=Xu(g,g),Bn=Ku(Et),yn=_*Q+Q*_+2*Bn,wn=Qu(N,g),zn=X*_+Ku(Nt),On=Xu(g,E),Pn=_*U+Q*B+2*Ku(_t),Dn=Xu(g,I),Fn=_*K+Q*T+2*Ku(Mt),Cn=Xu(g,m),An=Ku(xt),Ln=_*J+Q*S+2*An,Vn=Wu(N,N),qn=Ku(St),Yn=Qu(N,E),Gn=Ku(Tt),kn=X*B+Gn,Rn=Qu(N,I),$n=X*T+Ku(Bt),Hn=Qu(N,m),Wn=X*S+Ku(yt),jn=Xu(E,E),Qn=B*U+U*B+2*Ku(wt),Xn=Xu(E,I),Un=B*K+U*T+2*Ku(zt),Kn=Xu(m,m),Jn=Ku(Ot),Zn=S*J+J*S+2*Jn,te=Xu(I,I),ne=T*K+K*T+2*Ku(Pt),ee=Xu(I,m),re=Ku(Dt),oe=T*J+K*S+2*re,ie=Xu(E,m),ue=B*J+U*S+2*Ku(Ft),se=Et*y,ce=Xu(Tn,e),fe=yn*F+Bn*c+2*Ku(se),le=xt*w,ae=Xu(Cn,r),he=Ln*C+An*f+2*Ku(le),ve=Ot*z,ge=Xu(Kn,o),de=Zn*A+Jn*l+2*Ku(ve),pe=se+le,be=Uu(ce,ae),me=fe+he+Ku(pe),Ie=pe+ve,Ee=Uu(be,ge),Ne=me+de+Ku(Ie),_e=pt*y,Me=Xu(bn,e),xe=In*F+mn*c+2*Ku(_e),Se=Dt*z,Te=Xu(ee,o),Be=oe*A+re*l+2*Ku(Se),ye=_e+Se,we=Uu(Me,Te),ze=xe+Be+Ku(ye),Oe=It+Mt,Pe=Uu(xn,Dn),De=Ku(Oe),Fe=Sn+Fn+De,Ce=Oe*w,Ae=Xu(Pe,r),Le=Fe*C+De*f+2*Ku(Ce),Ve=2*ye+Ce,qe=Uu(ju(we),Ae),Ye=2*ze+Le+Ku(Ve),Ge=2*ft+dt,ke=Uu(ju(en),dn),Re=Ku(Ge),$e=2*rn+pn+Ku(Ge),He=2*Ft+Pt,We=Uu(ju(ie),te),je=Ku(He),Qe=2*ue+ne+Ku(He),Xe=vt+mt,Ue=Uu(an,_n),Ke=hn+Mn+Ku(Xe),Je=Xe+_t,Ze=Uu(Ue,On),tr=Ku(Je),nr=Ke+Pn+tr,er=Ge*y,rr=Xu(ke,e),or=$e*F+Re*c+2*Ku(er),ir=He*z,ur=Xu(We,o),sr=Qe*A+je*l+2*Ku(ir),cr=er+ir,fr=Uu(rr,ur),lr=or+sr+Ku(cr),ar=Je*w,hr=Xu(Ze,r),vr=nr*C+tr*f+2*Ku(ar),gr=cr+ar,dr=Uu(fr,hr),pr=lr+vr+Ku(gr),br=et+ct,mr=Uu(kt,tn),Ir=Ku(br),Er=Rt+nn+Ir,Nr=yt+zt,_r=Uu(Hn,Xn),Mr=Ku(Nr),xr=Wn+Un+Mr,Sr=ut+ht,Tr=Uu(Ut,fn),Br=Kt+ln+Ku(Sr),yr=gt+Nt,wr=Uu(vn,wn),zr=gn+zn+Ku(yr),Or=Sr+yr,Pr=Uu(Tr,wr),Dr=Ku(Or),Fr=Br+zr+Dr,Cr=br*y,Ar=Xu(mr,e),Lr=Er*F+Ir*c+2*Ku(Cr),Vr=Nr*z,qr=Xu(_r,o),Yr=xr*A+Mr*l+2*Ku(Vr),Gr=2*(Cr+Vr),kr=ju(Uu(Ar,qr)),Rr=2*(Lr+Yr)+Ku(Gr),$r=Or*w,Hr=Xu(Pr,r),Wr=Fr*C+Dr*f+2*Ku($r),jr=G*O,Qr=Xu(g,i),Xr=_*L+Q*a+2*Ku(jr),Ur=$*P,Kr=Xu(m,u),Jr=S*V+J*h+2*Ku(Ur),Zr=jr+Ur,to=Uu(Qr,Kr),no=Xr+Jr+Ku(Zr),eo=Gr+$r,ro=Uu(kr,Hr),oo=Rr+Wr+Ku(eo),io=eo+Zr,uo=Uu(ro,to),so=oo+no+Ku(io),co=2*nt+st,fo=Uu(ju(Yt),Jt),lo=Ku(co),ao=2*Gt+Zt+lo,ho=2*Bt+wt,vo=Uu(ju(Rn),jn),go=Ku(ho),po=2*$n+Qn+go,bo=it+at,mo=Uu(Qt,sn),Io=Xt+cn+Ku(bo),Eo=bo+bt,No=Uu(mo,En),_o=Ku(Eo),Mo=Io+Nn+_o,xo=co*y,So=Xu(fo,e),To=ao*F+lo*c+2*Ku(xo),Bo=ho*z,yo=Xu(vo,o),wo=po*A+go*l+2*Ku(Bo),zo=Eo*w,Oo=Xu(No,r),Po=Mo*C+_o*f+2*Ku(zo),Do=xo+Bo,Fo=Uu(So,yo),Co=To+wo+Ku(Do),Ao=Do+zo,Lo=Uu(Fo,Oo),Vo=Co+Po+Ku(Ao),qo=Y*O,Yo=Xu(d,i),Go=M*L+j*a+2*Ku(qo),ko=R*P,Ro=Xu(I,u),$o=T*V+K*h+2*Ku(ko),Ho=qo+ko,Wo=Uu(Yo,Ro),jo=Go+$o+Ku(Ho),Qo=Ao+Ho,Xo=Uu(Lo,Wo),Uo=Vo+jo+Ku(Qo),Ko=tt*y,Jo=Xu(Lt,e),Zo=qt*F+Vt*c+2*Ku(Ko),ti=Tt*z,ni=Xu(Yn,o),ei=kn*A+Gn*l+2*Ku(ti),ri=ot+lt,oi=Uu(Wt,on),ii=Ku(ri),ui=jt+un+ii,si=ri*w,ci=Xu(oi,r),fi=ui*C+ii*f+2*Ku(si),li=2*(Ko+ti),ai=ju(Uu(Jo,ni)),hi=2*(Zo+ei)+Ku(li),vi=li+si,gi=Uu(ai,ci),di=hi+fi+Ku(vi),pi=q*O,bi=Xu(p,i),mi=x*L+W*a+2*Ku(pi),Ii=k*P,Ei=Xu(E,u),Ni=B*V+U*h+2*Ku(Ii),_i=pi+Ii,Mi=Uu(bi,Ei),xi=mi+Ni+Ku(_i),Si=vi+_i,Bi=Uu(gi,Mi),yi=di+xi+Ku(Si),wi=Z*y,zi=Xu(Ct,e),Oi=At*c+2*Ku(wi),Pi=rt*w,Di=Xu($t,r),Fi=Ht*f+2*Ku(Pi),Ci=St*z,Ai=Xu(Vn,o),Li=qn*l+2*Ku(Ci),Vi=b*O,qi=Qu(b,i),Yi=H*a+Ku(Vi),Gi=N*P,ki=Qu(N,u),Ri=X*h+Ku(Gi),$i=wi+Pi,Hi=Uu(zi,Di),ji=Oi+Fi+Ku($i),Qi=$i+Ci,Xi=Uu(Hi,Ai),Ui=ji+Li+Ku(Qi),Ki=Vi+Gi,Ji=Uu(qi,ki),Zi=Yi+Ri+Ku(Ki),tu=Qi+Ki,nu=Uu(Xi,Ji),eu=Ui+Zi+Ku(tu),ru=tu+D,ou=Uu(nu,s),iu=eu+v+Ku(ru);return{coeffs:[Ee,qe,dr,uo,Xo,Bi,ou],errBound:[Ju*Ne,Ju*Ye,Ju*pr,Ju*so,Ju*Uo,Ju*yi,Ju*iu]}}const ts=pn,ns=cn,es=nn,rs=hn,os=un,is=Math.abs,us=to(3);function ss(t,n){const{coeffs:{vₓₓₓ:e,vₓₓᵧ:r,vₓᵧᵧ:o,vᵧᵧᵧ:i,vₓₓ:u,vₓᵧ:s,vᵧᵧ:c,vₓ:f,vᵧ:l,v:a},errorBound:{vₓₓₓ_:h,vₓₓᵧ_:v,vₓᵧᵧ_:g,vᵧᵧᵧ_:d,vₓₓ_:p,vₓᵧ_:b,vᵧᵧ_:m,vₓ_:I,vᵧ_:E,v_:N}}=fu(t),{coeffs:[[_,M,x,S],[T,B,y,w]],errorBound:[[z,O,P],[D,F,C]]}=Ti(n),A=e[1],L=r[1],V=o[1],q=i[1],Y=u[1],G=s[1],k=c[1],R=f[1],$=l[1],H=a[1],W=is(A),j=is(L),Q=is(V),X=is(q),U=is(Y),K=is(G),J=is(k),Z=is(R),tt=is($),nt=(is(H),x[1]),et=M[1],rt=_[1],ot=y[1],it=B[1],ut=T[1],st=is(S),ct=is(nt),ft=is(et),lt=is(rt),at=is(w),ht=is(ot),vt=is(it),gt=is(ut),dt=S*S,pt=S*nt,bt=S*et,mt=S*rt,It=S*w,Et=S*ot,Nt=S*it,_t=S*ut,Mt=nt*nt,xt=nt*et,St=nt*rt,Tt=nt*w,Bt=nt*ot,yt=nt*it,wt=nt*ut,zt=et*ot,Ot=et*et,Pt=et*rt,Dt=et*w,Ft=et*it,Ct=et*ut,At=rt*rt,Lt=rt*w,Vt=rt*ot,qt=rt*it,Yt=rt*ut,Gt=w*w,kt=w*ot,Rt=w*it,$t=w*ut,Ht=ot*ot,Wt=ot*it,jt=ut*ut,Qt=it*it,Xt=it*ut,Ut=ot*ut,Kt=ts(S,S),Jt=es(S,x),Zt=st*P+is(pt),tn=es(S,M),nn=st*O+is(bt),en=es(S,_),rn=st*z+is(mt),on=ts(S,w),un=es(S,y),sn=st*C+is(Et),cn=es(S,B),fn=st*F+is(Nt),ln=es(S,T),an=st*D+is(_t),hn=rs(x,x),vn=is(Mt),gn=2*(P*ct+vn),dn=rs(x,M),pn=P*ft+ct*O+2*is(xt),bn=rs(x,_),mn=P*lt+ct*z+2*is(St),In=es(w,x),En=at*P+is(Tt),Nn=rs(x,y),_n=P*ht+ct*C+2*is(Bt),Mn=rs(x,B),xn=P*vt+ct*F+2*is(yt),Sn=rs(x,T),Tn=P*gt+ct*D+2*is(wt),Bn=rs(M,y),yn=O*ht+ft*C+2*is(zt),wn=rs(M,M),zn=is(Ot),On=2*(O*ft+zn),Pn=rs(M,_),Dn=O*lt+ft*z+2*is(Pt),Fn=es(w,M),Cn=at*O+is(Dt),An=rs(M,B),Ln=O*vt+ft*F+2*is(Ft),Vn=rs(M,T),qn=O*gt+ft*D+2*is(Ct),Yn=rs(_,_),Gn=2*(z*lt+is(At)),kn=es(w,_),Rn=at*z+is(Lt),$n=rs(_,y),Hn=z*ht+lt*C+2*is(Vt),Wn=rs(_,B),jn=is(qt),Qn=z*vt+lt*F+2*jn,Xn=rs(_,T),Un=z*gt+lt*D+2*is(Yt),Kn=ts(w,w),Jn=es(w,y),Zn=at*C+is(kt),te=es(w,B),ne=at*F+is(Rt),ee=es(w,T),re=at*D+is($t),oe=rs(y,y),ie=is(Ht),ue=2*(C*ht+ie),se=rs(y,B),ce=C*vt+ht*F+2*is(Wt),fe=rs(T,T),le=2*(D*gt+is(jt)),ae=rs(B,B),he=is(Qt),ve=2*(F*vt+he),ge=rs(B,T),de=F*gt+vt*D+2*is(Xt),pe=rs(y,T),be=is(Ut),me=C*gt+ht*D+2*be,Ie=is(dt),Ee=is(pt),Ne=is(Pt),_e=is(At),Me=is(Yt),xe=is(It),Se=is(Gt),Te=is(kt),Be=is(Xt),ye=is(jt),we=rt*At,ze=rs(_,Yn),Oe=lt*_e,Pe=z*_e+lt*Gn+2*Oe,De=rt*jt,Fe=rs(_,fe),Ce=lt*ye,Ae=z*ye+lt*le+2*Ce,Le=ut*At,Ve=rs(T,Yn),qe=gt*_e,Ye=D*_e+gt*Gn+2*qe,Ge=ut*jt,ke=rs(T,fe),Re=gt*ye,$e=D*ye+gt*le+2*Re,He=we*A,We=rs(ze,e),je=Pe*W+Oe*h+2*is(He),Qe=De*V,Xe=rs(Fe,o),Ue=Ae*Q+Ce*g+2*is(Qe),Ke=Le*L,Je=rs(Ve,r),Ze=Ye*j+qe*v+2*is(Ke),tr=Ge*q,nr=rs(ke,i),er=$e*X+Re*d+2*is(tr),rr=He+Qe,or=os(We,Xe),ir=je+Ue+is(rr),ur=Ke+tr,sr=os(Je,nr),cr=Ze+er+is(ur),fr=rr+ur,lr=os(or,sr),ar=ir+cr+is(fr),hr=2*Ct+qt,vr=is(hr),gr=os(ns(Vn),Wn),dr=2*qn+Qn+vr,pr=2*qt+Ct,br=is(pr),mr=os(ns(Wn),Vn),Ir=2*Qn+qn+is(pr),Er=rt*hr,Nr=is(Er),_r=rs(_,gr),Mr=z*vr+lt*dr+2*Nr,xr=ut*pr,Sr=is(xr),Tr=rs(T,mr),Br=D*br+gt*Ir+2*Sr,yr=et*At,wr=is(yr),zr=rs(M,Yn),Or=O*_e+ft*Gn+2*wr,Pr=it*jt,Dr=is(Pr),Fr=rs(B,fe),Cr=F*ye+vt*le+2*Dr,Ar=A*yr,Lr=rs(e,zr),Vr=Or*W+W*Or+2*is(Ar),qr=q*Pr,Yr=rs(i,Fr),Gr=Cr*X+X*Cr+2*is(qr),kr=L*Er,Rr=rs(r,_r),$r=Mr*j+j*Mr+2*is(kr),Hr=V*xr,Wr=rs(o,Tr),jr=Br*Q+Q*Br+2*is(Hr),Qr=kr+Hr,Xr=os(Rr,Wr),Ur=$r+jr+is(Qr),Kr=3*(Ar+qr),Jr=es(3,os(Lr,Yr)),Zr=3*(Vr+Gr)+2*is(Kr),to=Qr+Kr,no=os(Xr,Jr),eo=Ur+Zr+is(to),ro=nt*Yt,oo=rs(x,Xn),io=P*Me+ct*Un+2*is(ro),uo=ot*At,so=rs(y,Yn),co=C*_e+ht*Gn+2*is(uo),fo=et*Xt,lo=rs(M,ge),ao=O*Be+ft*de+2*is(fo),ho=nt*jt,vo=rs(x,fe),go=P*ye+ct*le+2*is(ho),po=et*qt,bo=rs(M,Wn),mo=O*jn+ft*Qn+2*is(po),Io=ut*Ot,Eo=rs(T,wn),No=D*zn+gt*On+2*is(Io),_o=rt*Ut,Mo=rs(_,pe),xo=z*be+lt*me+2*is(_o),So=it*qt,To=rs(B,Wn),Bo=F*jn+vt*Qn+2*is(So),yo=ro+po,wo=os(oo,bo),zo=io+mo+is(yo),Oo=uo+Io,Po=os(so,Eo),Do=co+No+is(Oo),Fo=fo+_o,Co=os(lo,Mo),Ao=ao+xo+is(Fo),Lo=ho+So,Vo=os(vo,To),qo=go+Bo+is(Lo),Yo=St+Ot,Go=os(bn,wn),ko=is(Yo),Ro=mn+On+ko,$o=Ut+Qt,Ho=is($o),Wo=os(pe,ae),jo=me+ve+Ho,Qo=2*yo+Oo,Xo=os(ns(wo),Po),Uo=is(Qo),Ko=2*zo+Do+Uo,Jo=2*Fo+Lo,Zo=os(ns(Co),Vo),ti=is(Jo),ni=2*Ao+qo+ti,ei=L*Qo,ri=rs(r,Xo),oi=v*Uo+j*Ko+2*is(ei),ii=V*Jo,ui=rs(o,Zo),si=g*ti+Q*ni+2*is(ii),ci=rt*Yo,fi=rs(_,Go),li=is(ci),ai=z*ko+lt*Ro+2*li,hi=ut*$o,vi=rs(T,Wo),gi=is(hi),di=D*Ho+gt*jo+2*gi,pi=A*ci,bi=rs(e,fi),mi=h*li+W*ai+2*is(pi),Ii=q*hi,Ei=rs(i,vi),Ni=d*gi+X*di+2*is(Ii),_i=ei+ii,Mi=os(ri,ui),xi=oi+si+is(_i),Si=3*(pi+Ii),Bi=es(3,os(bi,Ei)),yi=3*(mi+Ni)+2*is(Si),wi=_i+Si,zi=os(Mi,Bi),Oi=xi+yi+is(wi),Pi=Ct+qt,Di=os(Vn,Wn),Fi=is(Pi),Ci=qn+Qn+Fi,Ai=it*Ot,Li=rs(B,wn),Vi=F*zn+vt*On+2*is(Ai),qi=2*nt*Pi,Yi=ns(rs(x,Di)),Gi=2*(P*Fi+ct*Ci+2*is(qi)),ki=Ai+qi,Ri=os(Li,Yi),$i=Vi+Gi+is(ki),Hi=2*(_t+zt),Wi=ns(os(ln,Bn)),ji=2*(an+yn)+is(Hi),Qi=Hi+Lt,Xi=is(Qi),Ui=os(Wi,kn),Ki=ji+Rn+Xi,Ji=rt*Qi,Zi=rs(_,Ui),tu=z*Xi+lt*Ki+2*is(Ji),nu=ki+Ji,eu=os(Ri,Zi),ru=is(nu),ou=$i+tu+ru,iu=et*Qt,uu=rs(M,ae),su=O*he+ft*ve+2*is(iu),cu=2*ot*Pi,lu=ns(rs(y,Di)),au=2*(C*Fi+ht*Ci+is(cu)),hu=iu+cu,vu=os(uu,lu),gu=su+au+is(hu),du=2*(yt+Lt),pu=ns(os(Mn,kn)),bu=2*(xn+Rn)+is(du),mu=du+_t,Iu=os(pu,ln),Eu=is(mu),Nu=bu+an+Eu,_u=ut*mu,Mu=rs(T,Iu),xu=D*Eu+gt*Nu+2*is(_u),Su=hu+_u,Tu=os(vu,Mu),Bu=is(Su),yu=gu+xu+Bu,wu=et*Ot,zu=rs(M,wn),Ou=O*zn+ft*On+2*is(wu),Pu=2*xt+mt,Du=os(ns(dn),en),Fu=is(Pu),Cu=2*pn+rn+Fu,Au=3*rt,Lu=es(3,_),Vu=is(Au),qu=3*z+Vu,Yu=Au*Pu,Gu=rs(Lu,Du),ku=qu*Fu+Vu*Cu+2*is(Yu),Ru=wu+Yu,$u=os(zu,Gu),Hu=is(Ru),Wu=Ou+ku+Hu,ju=it*Qt,Qu=rs(B,ae),Xu=F*he+vt*ve+2*is(ju),Uu=2*Wt+$t,Ku=os(ns(se),ee),Ju=is(Uu),Zu=2*ce+re+Ju,ss=3*ut,cs=es(3,T),fs=is(ss),ls=3*D+fs,as=ss*Uu,hs=rs(cs,Ku),vs=ls*Ju+fs*Zu+2*is(as),gs=ju+as,ds=os(Qu,hs),ps=is(gs),bs=Xu+vs+ps,ms=L*nu,Is=rs(r,eu),Es=v*ru+j*ou+2*is(ms),Ns=V*Su,_s=rs(o,Tu),Ms=g*Bu+Q*yu+2*is(Ns),xs=ms+Ns,Ss=os(Is,_s),Ts=Es+Ms+is(xs),Bs=A*Ru,ys=rs(e,$u),ws=h*Hu+W*Wu+2*is(Bs),zs=q*gs,Os=rs(i,ds),Ps=d*ps+X*bs+2*is(zs),Ds=Bs+zs,Fs=os(ys,Os),Cs=ws+Ps+is(Ds),As=Y*At,Ls=rs(Yn,u),Vs=Gn*U+_e*p+2*is(As),qs=k*jt,Ys=rs(fe,c),Gs=le*J+ye*m+2*is(qs),ks=As+qs,Rs=os(Ls,Ys),$s=Vs+Gs+is(ks),Hs=G*Yt,Ws=rs(Xn,s),js=Un*K+Me*b+2*is(Hs),Qs=xs+Ds,Xs=os(Ss,Fs),Us=Ts+Cs+is(Qs),Ks=ks+Hs,Js=os(Rs,Ws),Zs=$s+js+is(Ks),tc=Qs+Ks,nc=os(Xs,Js),ec=Us+Zs+is(tc),rc=Ft+Vt,oc=os(An,$n),ic=is(rc),uc=Ln+Hn+ic,sc=wt+Ft,cc=os(Sn,An),fc=is(sc),lc=Tn+Ln+fc,ac=S*Pi,hc=es(S,Di),vc=st*Ci+is(ac),gc=w*Pi,dc=es(w,Di),pc=at*Ci+is(gc),bc=nt*rc,mc=rs(x,oc),Ic=P*ic+ct*uc+2*is(bc),Ec=ot*sc,Nc=rs(y,cc),_c=C*fc+ht*lc+2*is(Ec),Mc=2*Lt+zt,xc=os(ns(kn),Bn),Sc=is(Mc),Tc=2*Rn+yn+Sc,Bc=2*_t+yt,yc=os(ns(ln),Mn),wc=is(Bc),zc=2*an+xn+wc,Oc=ut*Mt,Pc=rs(T,hn),Dc=D*vn+gt*gn+2*is(Oc),Fc=rt*Ht,Cc=rs(_,oe),Ac=z*ie+lt*ue+2*is(Fc),Lc=et*Mc,Vc=rs(M,xc),qc=O*Sc+ft*Tc+2*is(Lc),Yc=it*Bc,Gc=rs(B,yc),kc=F*wc+vt*zc+2*is(Yc),Rc=2*(ac+bc),$c=ns(os(hc,mc)),Hc=2*(vc+Ic)+is(Rc),Wc=2*(gc+Ec),jc=ns(os(dc,Nc)),Qc=2*(pc+_c)+is(Wc),Xc=2*S*Pt,Uc=ns(es(S,Pn)),Kc=2*st*Dn+is(Xc),Jc=2*w*Xt,Zc=ns(es(w,ge)),tf=2*at*de+is(Jc),nf=nt*Yo,ef=rs(x,Go),rf=P*ko+ct*Ro+2*is(nf),of=ot*$o,uf=rs(y,Wo),sf=C*Ho+ht*jo+2*is(of),cf=Y*Pt,ff=rs(Pn,u),lf=Dn*U+Ne*p+2*is(cf),af=k*Xt,hf=rs(ge,c),vf=de*J+Be*m+2*is(af),gf=Rc+Oc,df=os($c,Pc),pf=is(gf),bf=Hc+Dc+pf,mf=Wc+Fc,If=os(jc,Cc),Ef=is(mf),Nf=Qc+Ac+Ef,_f=gf+Lc,Mf=os(df,Vc),xf=is(_f),Sf=bf+qc+xf,Tf=mf+Yc,Bf=os(If,Gc),yf=is(Tf),wf=Nf+kc+yf,zf=Xc+nf,Of=os(Uc,ef),Pf=is(zf),Df=Kc+rf+Pf,Ff=Jc+of,Cf=os(Zc,uf),Af=is(Ff),Lf=tf+sf+Af,Vf=2*(cf+af),qf=ns(os(ff,hf)),Yf=2*(lf+vf)+is(Vf),Gf=L*_f,kf=rs(r,Mf),Rf=v*xf+j*Sf+2*is(Gf),$f=V*Tf,Hf=rs(o,Bf),Wf=g*yf+Q*wf+2*is($f),jf=A*zf,Qf=rs(e,Of),Xf=h*Pf+W*Df+2*is(jf),Uf=q*Ff,Kf=rs(i,Cf),Jf=d*Af+X*Lf+2*is(Uf),Zf=Gf+$f,tl=os(kf,Hf),nl=Rf+Wf+is(Zf),el=3*(jf+Uf),rl=es(3,os(Qf,Kf)),ol=3*(Xf+Jf)+2*is(el),il=G*Pi,ul=rs(s,Di),sl=b*Fi+K*Ci+2*is(il),cl=Zf+el,fl=os(tl,rl),ll=nl+ol+is(cl),al=il+Vf,hl=os(ul,qf),vl=sl+Yf+is(al),gl=cl+al,dl=os(fl,hl),pl=ll+vl+is(gl),bl=wt+rc,ml=os(Sn,oc),Il=is(bl),El=Tn+uc+Il,Nl=2*St+Ot,_l=os(ns(bn),wn),Ml=is(Nl),xl=2*mn+On+Ml,Sl=2*Ut+Qt,Tl=os(ns(pe),ae),Bl=is(Sl),yl=2*me+ve+Bl,wl=2*S*bl,zl=es(2*S,ml),Ol=2*st*El+is(wl),Pl=2*w*bl,Dl=es(2*w,ml),Fl=2*at*El+is(Pl),Cl=yt+2*zt,Al=os(Mn,ns(Bn)),Ll=is(Cl),Vl=xn+2*yn+Ll,ql=zt+2*yt,Yl=os(Bn,ns(Mn)),Gl=is(ql),kl=yn+2*xn+Gl,Rl=w*Nl,$l=es(w,_l),Hl=at*xl+is(Rl),Wl=S*Sl,jl=es(S,Tl),Ql=st*yl+is(Wl),Xl=nt*Cl,Ul=rs(x,Al),Kl=P*Ll+ct*Vl+2*is(Xl),Jl=ot*ql,Zl=rs(y,Yl),ta=C*Gl+ht*kl+2*is(Jl),na=S*Nl,ea=es(S,_l),ra=st*xl+is(na),oa=w*Sl,ia=es(w,Tl),ua=at*yl+is(oa),sa=et*Mt,ca=rs(M,hn),fa=O*vn+ft*gn+2*is(sa),la=it*Ht,aa=rs(B,oe),ha=F*ie+vt*ue+2*is(la),va=wl+Rl,ga=os(zl,$l),da=Ol+Hl+is(va),pa=Pl+Wl,ba=os(Dl,jl),ma=Fl+Ql+is(pa),Ia=va+Xl,Ea=os(ga,Ul),Na=is(Ia),_a=da+Kl+Na,Ma=pa+Jl,xa=os(ba,Zl),Sa=is(Ma),Ta=ma+ta+Sa,Ba=na+sa,ya=os(ea,ca),wa=is(Ba),za=ra+fa+wa,Oa=oa+la,Pa=os(ia,aa),Da=is(Oa),Fa=ua+ha+Da,Ca=L*Ia,Aa=rs(r,Ea),La=v*Na+j*_a+2*is(Ca),Va=V*Ma,qa=rs(o,xa),Ya=g*Sa+Q*Ta+2*is(Va),Ga=A*Ba,ka=rs(e,ya),Ra=h*wa+W*za+2*is(Ga),$a=q*Oa,Ha=rs(i,Pa),Wa=d*Da+X*Fa+2*is($a),ja=Ga+$a,Qa=is(ja),Xa=os(ka,Ha),Ua=Ra+Wa+Qa,Ka=Ca+Va,Ja=os(Aa,qa),Za=La+Ya+is(Ka),th=Ka+3*ja,nh=os(Ja,es(3,Xa)),eh=Za+3*(Ua+Qa)+is(th),rh=G*bl,oh=rs(s,ml),ih=b*Il+K*El+2*is(rh),uh=Y*Nl,sh=rs(u,_l),ch=p*Ml+U*xl+2*is(uh),fh=rh+uh,lh=os(oh,sh),ah=ih+ch+is(fh),hh=k*Sl,vh=rs(c,Tl),gh=m*Bl+J*yl+2*is(hh),dh=fh+hh,ph=os(lh,vh),bh=ah+gh+is(dh),mh=th+dh,Ih=os(nh,ph),Eh=eh+bh+is(mh),Nh=yt+zt,_h=os(Mn,Bn),Mh=xn+yn+is(Nh),xh=Lt+_t,Sh=os(kn,ln),Th=Rn+an+is(xh),Bh=xt+mt,yh=os(dn,en),wh=pn+rn+is(Bh),zh=is(Bh),Oh=Wt+$t,Ph=os(se,ee),Dh=ce+re+is(Oh),Fh=is(Oh),Ch=2*Nh+Lt,Ah=os(ns(_h),kn),Lh=2*Mh+Rn+is(Ch),Vh=2*Nh+_t,qh=os(ns(_h),ln),Yh=2*Mh+an+is(Vh),Gh=2*Dt+Bt,kh=os(ns(Fn),Nn),Rh=is(Gh),$h=2*Cn+_n+Rh,Hh=2*Nt+Bt,Wh=os(ns(cn),Nn),jh=is(Hh),Qh=2*fn+_n+jh,Xh=Bh+xt,Uh=os(yh,dn),Kh=wh+pn+is(Xh),Jh=Oh+Wt,Zh=os(Ph,se),tv=Dh+ce+is(Jh),nv=3*S,ev=ts(3,S),rv=nv*Xh,ov=rs(ev,Uh),iv=is(nv)*Kh+2*is(rv),uv=3*w,sv=ts(3,w),cv=uv*Jh,fv=rs(sv,Zh),lv=is(uv)*tv+2*is(cv),av=nt*Mt,hv=rs(x,hn),vv=P*vn+ct*gn+2*is(av),gv=ot*Ht,dv=rs(y,oe),pv=C*ie+ht*ue+2*is(gv),bv=Y*Bh,mv=rs(u,yh),Iv=p*zh+U*wh+is(bv),Ev=k*Oh,Nv=rs(c,Ph),_v=m*Fh+J*Dh+is(Ev),Mv=Ch+xh,xv=os(Ah,Sh),Sv=Lh+Th+is(Mv),Tv=Vh+xh,Bv=os(qh,Sh),yv=Yh+Th+is(Tv),wv=S*Mv,zv=es(S,xv),Ov=st*Sv+is(wv),Pv=w*Tv,Dv=es(w,Bv),Fv=at*yv+is(Pv),Cv=nt*Gh,Av=rs(x,kh),Lv=P*Rh+ct*$h+2*is(Cv),Vv=ot*Hh,qv=rs(y,Wh),Yv=C*jh+ht*Qh+2*is(Vv),Gv=rt*R,kv=rs(_,f),Rv=z*Z+lt*I+2*is(Gv),$v=ut*$,Hv=rs(T,l),Wv=D*tt+gt*E+2*is($v),jv=wv+Cv,Qv=os(zv,Av),Xv=is(jv),Uv=Ov+Lv+Xv,Kv=Pv+Vv,Jv=os(Dv,qv),Zv=is(Kv),tg=Fv+Yv+Zv,ng=rv+av,eg=os(ov,hv),rg=is(ng),og=iv+vv+rg,ig=cv+gv,ug=os(fv,dv),sg=is(ig),cg=lv+pv+sg,fg=xh+Nh,lg=os(Sh,_h),ag=is(fg),hg=Th+Mh+ag,vg=2*(bv+Ev),gg=ns(os(mv,Nv)),dg=2*(Iv+_v)+is(vg),pg=L*jv,bg=rs(r,Qv),mg=v*Xv+j*Uv+2*is(pg),Ig=V*Kv,Eg=rs(o,Jv),Ng=g*Zv+Q*tg+2*is(Ig),_g=A*ng,Mg=rs(e,eg),xg=h*rg+W*og+2*is(_g),Sg=q*ig,Tg=rs(i,ug),Bg=d*sg+X*cg+2*is(Sg),yg=G*fg,wg=rs(s,lg),zg=b*ag+K*hg+2*is(yg),Og=pg+Ig,Pg=os(bg,Eg),Dg=mg+Ng+is(Og),Fg=_g+Sg,Cg=os(Mg,Tg),Ag=xg+Bg+is(Fg),Lg=yg+vg,Vg=os(wg,gg),qg=zg+dg+is(Lg),Yg=Gv+$v,Gg=os(kv,Hv),kg=Rv+Wv+is(Yg),Rg=Og+Fg,$g=os(Pg,Cg),Hg=Dg+Ag+is(Rg),Wg=Lg+Yg,jg=os(Vg,Gg),Qg=qg+kg+is(Wg),Xg=Rg+Wg,Ug=os($g,jg),Kg=Hg+Qg+is(Xg),Jg=Bt+Dt,Zg=os(Nn,Fn),td=_n+Cn+is(Jg),nd=Bt+Nt,ed=os(Nn,cn),rd=_n+fn+is(nd),od=2*Jg+Nt,id=os(ns(Zg),cn),ud=2*td+fn+is(od),sd=2*nd+Dt,cd=os(ns(ed),Fn),fd=2*rd+Cn+is(sd),ld=S*od,ad=es(S,id),hd=st*ud+is(ld),vd=w*Mt,gd=es(w,hn),dd=at*gn+is(vd),pd=w*sd,bd=es(w,cd),md=at*fd+is(pd),Id=S*Ht,Ed=es(S,oe),Nd=st*ue+is(Id),_d=S*Mt,Md=es(S,hn),xd=st*gn+is(_d),Sd=et*dt,Td=rs(M,Kt),Bd=O*Ie+2*is(Sd),yd=w*Ht,wd=es(w,oe),zd=at*ue+is(yd),Od=it*Gt,Pd=rs(B,Kn),Dd=F*Se+2*is(Od),Fd=ld+vd,Cd=os(ad,gd),Ad=hd+dd+is(Fd),Ld=hd+dd+Ad,Vd=pd+Id,qd=os(bd,Ed),Yd=md+Nd+is(Vd),Gd=md+Nd+Yd,kd=_d+Sd,Rd=os(Md,Td),$d=is(kd),Hd=xd+Bd+$d,Wd=yd+Od,jd=os(wd,Pd),Qd=is(Wd),Xd=zd+Dd+Qd,Ud=A*kd,Kd=rs(e,Rd),Jd=h*$d+W*Hd+2*is(Ud),Zd=q*Wd,tp=rs(i,jd),np=d*Qd+X*Xd+2*is(Zd),ep=3*(Ud+Zd),rp=es(3,os(Kd,tp)),op=3*(Jd+np)+2*is(ep),ip=Jg+Nt,up=os(Zg,cn),sp=is(ip),cp=td+fn+sp,fp=2*bt+Mt,lp=os(ns(tn),hn),ap=is(fp),hp=2*nn+gn+ap,vp=2*Rt+Ht,gp=os(ns(te),oe),dp=is(vp),pp=2*ne+ue+dp,bp=L*Fd,mp=rs(r,Cd),Ip=v*Ad+j*Ld+2*is(bp),Ep=V*Vd,Np=rs(o,qd),_p=g*Yd+Q*Gd+2*is(Ep),Mp=G*ip,xp=rs(s,up),Sp=b*sp+K*cp+2*is(Mp),Tp=Y*fp,Bp=rs(u,lp),yp=p*ap+U*hp+2*is(Tp),wp=k*vp,zp=rs(c,gp),Op=m*dp+J*pp+2*is(wp),Pp=et*R,Dp=rs(M,f),Fp=O*Z+ft*I+is(Pp),Cp=it*$,Ap=rs(B,l),Lp=F*tt+vt*E+is(Cp),Vp=Pp+Cp,qp=os(Dp,Ap),Yp=Fp+Lp+is(Vp),Gp=bp+Ep,kp=os(mp,Np),Rp=Ip+_p+is(Gp),$p=ep+Mp,Hp=os(rp,xp),Wp=op+Sp+is($p),jp=Tp+wp,Qp=os(Bp,zp),Xp=yp+Op+is(jp),Up=Gp+$p,Kp=os(kp,Hp),Jp=Rp+Wp+is(Up),Zp=jp+Vp,tb=os(Qp,qp),nb=Xp+Yp+is(Zp),eb=Up+Zp,rb=os(Kp,tb),ob=Jp+nb+is(eb),ib=Tt+Et,ub=os(In,un),sb=is(ib),cb=En+sn+sb,fb=S*L,lb=es(S,r),ab=is(fb),hb=st*v+ab,vb=w*V,gb=es(w,o),db=is(vb),pb=at*g+db,bb=ib+Tt,mb=os(ub,In),Ib=is(bb),Eb=cb+En+Ib,Nb=ib+Et,_b=os(ub,un),Mb=is(Nb),xb=cb+sn+Mb,Sb=nt*dt,Tb=rs(x,Kt),Bb=is(Sb),yb=P*Ie+2*Bb,wb=Sb*A,zb=rs(Tb,e),Ob=yb*W+Bb*h+2*is(wb),Pb=ot*Gt,Db=rs(y,Kn),Fb=is(Pb),Cb=C*Se+2*Fb,Ab=Pb*q,Lb=rs(Db,i),Vb=Cb*X+Fb*d+2*is(Ab),qb=G*ib,Yb=rs(s,ub),Gb=b*sb+K*cb+2*is(qb),kb=pt*Y,Rb=rs(Jt,u),$b=Zt*U+Ee*p+2*is(kb),Hb=kt*k,Wb=rs(Jn,c),jb=Zn*J+Te*m+2*is(Hb),Qb=kb+Hb,Xb=os(Rb,Wb),Ub=$b+jb+is(Qb),Kb=nt*R,Jb=rs(x,f),Zb=P*Z+ct*I+is(Kb),tm=ot*$,nm=rs(y,l),em=C*tt+ht*E+is(tm),rm=Kb+tm,om=os(Jb,nm),im=Zb+em+is(rm),um=fb*bb,sm=rs(lb,mb),cm=hb*Ib+ab*Eb+2*is(um),fm=vb*Nb,lm=rs(gb,_b),am=pb*Mb+db*xb+2*is(fm),hm=um+fm,vm=os(sm,lm),gm=cm+am+is(hm),dm=3*(wb+Ab),pm=es(3,os(zb,Lb)),bm=3*(Ob+Vb)+2*is(dm),mm=qb+2*Qb,Im=os(Yb,ns(Xb)),Em=Gb+2*Ub+is(mm),Nm=hm+dm,_m=os(vm,pm),Mm=gm+bm+is(Nm),xm=mm+rm,Sm=os(Im,om),Tm=Em+im+is(xm),Bm=Nm+xm,ym=os(_m,Sm),wm=Mm+Tm+is(Bm),zm=S*A,Om=es(S,e),Pm=st*h+is(zm),Dm=w*L,Fm=es(w,r),Cm=at*v+is(Dm),Am=zm+Dm,Lm=os(Om,Fm),Vm=Pm+Cm+is(Am),qm=S*V,Ym=es(S,o),Gm=st*g+is(qm),km=w*q,Rm=es(w,i),$m=at*d+is(km),Hm=qm+km,Wm=os(Ym,Rm),jm=Gm+$m+is(Hm),Qm=Am+Y,Xm=os(Lm,u),Um=Vm+p+is(Qm),Km=Hm+k,Jm=os(Wm,c),Zm=jm+m+is(Km),tI=dt*Qm,nI=rs(Kt,Xm),eI=Ie*Um+2*is(tI),rI=Gt*Km,oI=rs(Kn,Jm),iI=Se*Zm+2*is(rI),uI=tI+rI,sI=os(nI,oI),cI=eI+iI+is(uI),fI=It*G,lI=rs(on,s),aI=xe*b+is(fI),hI=uI+fI,vI=os(sI,lI),gI=cI+aI+is(hI),dI=S*R,pI=es(S,f),bI=st*I+is(dI),mI=w*$,II=es(w,l),EI=at*E+is(mI),NI=dI+mI,_I=os(pI,II),MI=bI+EI+is(NI),xI=hI+NI,SI=os(vI,_I),TI=gI+MI+is(xI),BI=xI+H,yI=os(SI,a),wI=TI+N+is(BI);return{coeffs:[lr,no,zi,nc,dl,Ih,Ug,rb,ym,yI],errBound:[us*ar,us*eo,us*Oi,us*ec,us*pl,us*Eh,us*Kg,us*ob,us*wm,us*wI]}}const cs=S,fs=P,ls=w,as=o;function hs(t){return vs(zo(t))}function vs(t){const[[n,e],[r,o]]=t;if(0!==as(n)||0!==as(r))return{vₓ:ls(r),vᵧ:n,v:fs(cs(e,r),cs(o,n))}}const gs=S,ds=y,ps=_,bs=o;function ms(t,n){const e=zo(t);0===bs(e[0][0])&&bs(e[1][0]);const[[r,o],[i,u]]=zo(n);0===bs(r)&&bs(i);const{vₓ:s,vᵧ:c,v:f}=vs(e),l=ds(r,s),a=ds(i,c),h=ps(l,a),v=gs(o,s),g=gs(u,c),d=ps(v,g);return[h,ps(d,f)]}const Is=S,Es=rt,Ns=P,_s=y,Ms=w;function xs(t){return Ss(wo(t))}function Ss(t){const[[n,e,r],[i,u,s]]=t;if(0===o(n)&&0===o(i)){const t=vs([[e,r],[u,s]]);if(void 0===t)return;return{vₓₓ:[0],vₓᵧ:[0],vᵧᵧ:[0],...t}}const c=_s(n,u),f=_s(e,i),l=Is(s,n),a=Is(r,i),h=Is(s,e),v=Is(r,u),g=_s(n,n),d=_s(n,i),p=_s(i,i),b=Ns(c,f),m=Ns(l,a),I=Ns(h,v),E=Ms(p),N=Es(d),_=Ms(g),M=_s(u,b),x=Es(_s(i,m)),S=Ns(M,x),T=Es(_s(n,m)),B=_s(e,b),y=Ns(T,B),w=_s(b,I),z=_s(m,m);return{vₓₓ:E,vₓᵧ:N,vᵧᵧ:_,vₓ:S,vᵧ:y,v:Ns(w,z)}}const Ts=st,Bs=S,ys=y,ws=_,zs=rt,Os=o;function Ps(t,n){const e=wo(t);if(0===Os(e[0][0])&&0===Os(e[1][0]))return ms([t[0],t[2]],n);const[[r,o],[i,u]]=zo(n);0===Os(r)&&Os(i);const{vₓₓ:s,vₓᵧ:c,vᵧᵧ:f,vₓ:l,vᵧ:a,v:h}=Ss(e),v=Ts(o,o),g=Bs(o,r),d=Ts(o,u),p=Bs(o,i),b=ys(r,r),m=Bs(u,r),I=ys(r,i),E=Ts(u,u),N=Bs(u,i),_=ys(i,i),M=ys(b,s),x=ys(_,f),S=ys(I,c),T=ws(M,x),B=ws(T,S),y=ys(g,s),w=ys(N,f),z=ws(p,m),O=ys(z,c),P=zs(ws(y,w)),D=ws(P,O),F=ys(r,l),C=ys(i,a),A=ws(F,C),L=ws(D,A),V=ys(v,s),q=ys(d,c),Y=ys(E,f),G=ws(V,q),k=ws(G,Y),R=Bs(o,l),$=Bs(u,a),H=ws(R,$),W=ws(k,H);return[B,L,ws(W,h)]}const Ds=S,Fs=y,Cs=_,As=P,Ls=w,Vs=rt,qs=it,Ys=o;function Gs(t){return ks(yo(t))}function ks(t){const[[n,e,r,o],[i,u,s,c]]=t;if(0===Ys(n)&&0===Ys(i)){const t=Ss([[e,r,o],[u,s,c]]);if(void 0===t)return;return{vₓₓₓ:[0],vₓₓᵧ:[0],vₓᵧᵧ:[0],vᵧᵧᵧ:[0],...t}}const f=Fs(n,s),l=Fs(r,i),a=Fs(n,u),h=Fs(e,u),v=Fs(e,i),g=Fs(n,n),d=Fs(u,u),p=Fs(i,i),b=Fs(r,n),m=Fs(e,e),I=Fs(s,i),E=Fs(u,i),N=Fs(e,n),_=Fs(n,i),M=Ds(c,n),x=Ds(o,i),S=Ds(c,e),T=Ds(o,u),B=Fs(e,s),y=Fs(r,u),w=Ds(c,r),z=Ds(o,s),O=As(M,x),P=As(f,l),D=As(a,v),F=As(S,T),C=As(B,y),A=As(w,z),L=As(I,d),V=As(b,m),q=Cs(v,a),Y=Cs(l,f),G=Vs(P),k=Fs(O,O),R=Fs(O,P),$=Fs(O,D),H=Fs(O,C),W=Fs(P,P),j=Fs(G,F),Q=Fs(D,F),X=Fs(D,C),U=Fs(D,A),K=Fs(Ls(i),p),J=Fs(Ds(3,n),p),Z=Fs(Ds(-3,i),g),tt=Fs(n,g),nt=As(Ds(-3,O),C),et=Fs(nt,p),rt=Fs(D,L),ot=Cs(et,rt),it=Fs(G,E),ut=Cs(ot,it),st=Fs(nt,g),ct=Fs(D,V),ft=Cs(st,ct),lt=Fs(G,N),at=Cs(ft,lt),ht=As(h,qs(Y)),vt=Fs(nt,_),gt=Fs(P,q),dt=Cs(vt,gt),pt=Fs(D,ht),bt=Vs(As(pt,dt)),mt=Ds(-3,k),It=As(mt,Vs(H)),Et=Cs(j,U),Nt=Cs(It,Et),_t=Vs(As(R,Q)),Mt=As($,W),xt=Cs(Mt,X),St=Fs(i,Nt),Tt=Fs(u,_t),Bt=Fs(s,xt),yt=Cs(Tt,Bt),wt=Cs(St,yt),zt=Fs(n,Nt),Ot=Fs(e,_t),Pt=Fs(r,xt),Dt=Cs(Ot,Pt),Ft=Ls(Cs(zt,Dt)),Ct=As(j,k),At=As(Ct,H),Lt=Fs(xt,A),Vt=Fs(Q,F),qt=As(Lt,Vt),Yt=Fs(O,At);return{vₓₓₓ:K,vₓₓᵧ:J,vₓᵧᵧ:Z,vᵧᵧᵧ:tt,vₓₓ:ut,vₓᵧ:bt,vᵧᵧ:at,vₓ:wt,vᵧ:Ft,v:Cs(Yt,qt)}}const Rs=un,$s=y,Hs=_,Ws=o,js=N,Qs=hn,Xs=Mt,Us=Math.abs,Ks=to(3);function Js(t){const[[n,e,r],[o,i,u]]=Ue(t),s=n*i-e*o,c=n*u-r*o;return{vₓₓ:-o*o,vₓᵧ:2*n*o,vᵧᵧ:-n*n,vₓ:i*s-2*o*c,vᵧ:2*n*c-e*s,v:s*(e*u-r*i)-c*c}}const Zs=Math.abs;function tc(t){const[[n,e],[r,o]]=t,i=Zs(n),u=Zs(r),s=Zs(e);return[[u+i,0],[Zs(o)+s,0]]}function nc(t){const[[n,e],[r,o],[i,u]]=t,s=Zs(n),c=Zs(r),f=Zs(i),l=Zs(e),a=Zs(o);return[[f+s+2*c,2*(c+s),0],[Zs(u)+l+2*a,2*(a+l),0]]}function ec(t){const[[n,e],[r,o],[i,u],[s,c]]=t,f=Zs(n),l=Zs(r),a=Zs(i),h=Zs(s),v=Zs(e),g=Zs(o),d=Zs(u);return[[h+f+3*(l+a),3*(a+f+2*l),3*(l+f),0],[Zs(c)+v+3*(g+d),3*(d+v+2*g),3*(g+v),0]]}const rc=Math.abs;function oc(t){const[n,e]=t[0],[[r,o],[i,u]]=nc(t),s=rc(n),c=rc(e),f=r*u+o*i,l=r*c+s*i;return{vₓₓ_:i*i,vₓᵧ_:2*r*i,vᵧᵧ_:r*r,vₓ_:u*f+2*i*l,vᵧ_:2*r*l+o*f,v_:f*(o*c+s*u)+l*l}}const ic=pn,uc=hn,sc=un,cc=S,fc=y,lc=_,ac=o,hc=N,vc=Mt,gc=Math.abs,dc=Zr(1),pc=to(3);function bc(t){const[[n,e,r,o],[i,u,s,c]]=Xe(t),f=n*s,l=r*i,a=n*u,h=e*i,v=n*n,g=i*i,d=n*c-o*i,p=f-l,b=a-h,m=e*c-o*u,I=e*s-r*u,E=r*c-o*s,N=2*p,_=d*d,M=d*I,x=N*m,S=b*m,T=-3*d-I,B=-3*_-2*M+(x+b*E),y=2*(d*p-S),w=d*b-p*p+b*I;return{vₓₓₓ:-i*g,vₓₓᵧ:3*n*g,vₓᵧᵧ:-3*i*v,vᵧᵧᵧ:n*v,vₓₓ:T*g+b*(s*i-u*u)+N*u*i,vₓᵧ:2*(b*(e*u-(l+f)/2)-(T*n*i+p*(h+a))),vᵧᵧ:T*v+b*(r*n-e*e)+N*e*n,vₓ:i*B+(u*y+s*w),vᵧ:-n*B-(e*y+r*w),v:d*(x-_-M)+(w*E-S*m)}}const mc=Math.abs;function Ic(t){const[n,e]=t[0],[[r,o,i],[u,s,c]]=ec(t),f=mc(n),l=mc(e),a=r*c,h=i*u,v=r*s,g=o*u,d=r*r,p=u*u,b=r*l+f*u,m=a+h,I=v+g,E=o*l+f*s,N=o*c+i*s,_=i*l+f*c,M=2*m,x=b*b,S=b*N,T=M*E,B=I*E,y=3*b+N,w=3*x+2*S+(T+I*_),z=2*(b*m+B),O=b*I+m*m+I*N;return{vₓₓₓ_:u*p,vₓₓᵧ_:3*r*p,vₓᵧᵧ_:3*u*d,vᵧᵧᵧ_:r*d,vₓₓ_:y*p+I*(c*u+s*s)+M*s*u,vₓᵧ_:2*(I*(o*s+(h+a)/2)+(y*r*u+m*(g+v))),vᵧᵧ_:y*d+I*(i*r+o*o)+M*o*r,vₓ_:u*w+(s*z+c*O),vᵧ_:r*w+(o*z+i*O),v_:b*(T+x+S)+(O*_+B*E)}}const Ec=hn,Nc=un,_c=y,Mc=_,xc=o,Sc=N,Tc=Mt,Bc=Math.abs,yc=Zr(1),wc=to(3);function zc(t,n){if(4===t.length)return function(t,n){const[e,r]=n,o=e.length,i=r.length,u=e[o-1],s=r[i-1],c=1===o&&1===i;{const{vₓₓₓ:n,vₓₓᵧ:e,vₓᵧᵧ:r,vᵧᵧᵧ:o,vₓₓ:i,vₓᵧ:f,vᵧᵧ:l,vₓ:a,vᵧ:h,v}=bc(t),{vₓₓₓ_:g,vₓₓᵧ_:d,vₓᵧᵧ_:p,vᵧᵧᵧ_:b,vₓₓ_:m,vₓᵧ_:I,vᵧᵧ_:E,vₓ_:N,vᵧ_:_,v_:M}=Ic(t),x=u*u,S=s*s,T=n*(x*u)+e*(x*s)+(r*(u*S)+o*(S*s))+(i*x+f*(u*s)+l*S)+(a*u+h*s+v),B=c?0:1,y=Bc(u),w=Bc(s),z=y*y,O=w*w;if((B+26)*yc*(g*(z*y)+d*(z*w)+(p*(y*O)+b*(O*w))+(m*z+I*(y*w)+E*O)+(N*y+_*w+M))<Bc(T))return!1}{const{coeffs:{vₓₓₓ:n,vₓₓᵧ:o,vₓᵧᵧ:i,vᵧᵧᵧ:c,vₓₓ:f,vₓᵧ:l,vᵧᵧ:a,vₓ:h,vᵧ:v,v:g},errorBound:{vₓₓₓ_:d,vₓₓᵧ_:p,vₓᵧᵧ_:b,vᵧᵧᵧ_:m,vₓₓ_:I,vₓᵧ_:E,vᵧᵧ_:N,vₓ_:_,vᵧ_:M,v_:x}}=fu(t),S=Bc(n[1]),T=Bc(o[1]),B=Bc(i[1]),y=Bc(c[1]),w=Tc(e),z=Tc(r),O=Bc(u),P=Bc(s),D=O/3,F=P/3,C=Ec(w,w),A=C[1],L=2*(O*D+A),V=Ec(w,C),q=Bc(V[1]),Y=O*L+D*A+2*q,G=Ec(z,z),k=G[1],R=2*(P*F+k),$=Ec(z,G),H=Bc($[1]),W=P*R+F*k+2*H,j=Ec(z,C),Q=Bc(j[1]),X=P*L+F*A+2*Q,U=Ec(w,G),K=Bc(U[1]),J=O*R+D*k+2*K,Z=Ec(w,z),tt=Bc(Z[1]),nt=O*F+D*P+2*tt,et=Ec(n,V),rt=S*Y+d*q+2*Bc(et[1]),ot=Ec(o,j),it=T*X+p*Q+2*Bc(ot[1]),ut=Ec(i,U),st=B*J+b*K+2*Bc(ut[1]),ct=Ec(c,$),ft=y*W+m*H+2*Bc(ct[1]),lt=Ec(f,C),at=Bc(f[1])*L+I*A+2*Bc(lt[1]),ht=Ec(l,Z),vt=Bc(l[1])*nt+E*tt+2*Bc(ht[1]),gt=Ec(a,G),dt=Bc(a[1])*R+N*k+2*Bc(gt[1]),pt=Ec(w,h),bt=Bc(h[1])*D+_*O+2*Bc(pt[1]),mt=Ec(z,v),It=Bc(v[1])*F+M*P+2*Bc(mt[1]),Et=Nc(et,ot),Nt=rt+it+Bc(Et[1]),_t=Nc(ut,ct),Mt=st+ft+Bc(_t[1]),xt=Nc(Et,_t),St=Nt+Mt+Bc(xt[1]),Tt=Nc(lt,ht),Bt=at+vt+Bc(Tt[1]),yt=Nc(Tt,gt),wt=Bt+dt+Bc(yt[1]),zt=Nc(xt,yt),Ot=St+wt+Bc(zt[1]),Pt=Nc(pt,mt),Dt=bt+It+Bc(Pt[1]),Ft=Nc(Pt,g),Ct=Dt+x+Bc(Ft[1]),At=Nc(zt,Ft),Lt=Ot+Ct+Bc(At[1]);if(wc*Lt<Bc(Sc(At)))return!1}{const n=Gs(t);if(void 0===n)return c&&u===t[0][0]&&s===t[0][1];let{vₓₓₓ:o,vₓₓᵧ:i,vₓᵧᵧ:f,vᵧᵧᵧ:l,vₓₓ:a,vₓᵧ:h,vᵧᵧ:v,vₓ:g,vᵧ:d,v:p}=n;const b=_c(e,e),m=_c(e,b),I=_c(r,r),E=_c(r,I),N=_c(r,b),_=_c(e,I),M=_c(e,r),x=_c(o,m),S=_c(i,N),T=_c(f,_),B=_c(l,E),y=_c(a,b),w=_c(h,M),z=_c(v,I),O=_c(e,g),P=_c(r,d),D=Mc(x,S),F=Mc(T,B),C=Mc(D,F),A=Mc(y,w),L=Mc(A,z),V=Mc(C,L),q=Mc(O,P),Y=Mc(q,p),G=Mc(V,Y);return 0===xc(G)}}(t,n);if(3===t.length)return function(t,n){const[e,r]=n,o=e.length,i=r.length,u=e[o-1],s=r[i-1],c=1===o&&1===i;{const{vₓₓ:n,vₓᵧ:e,vᵧᵧ:r,vₓ:o,vᵧ:i,v:f}=Js(t),{vₓₓ_:l,vₓᵧ_:a,vᵧᵧ_:h,vₓ_:v,vᵧ_:g,v_:d}=oc(t),p=c?0:1,b=gc(u),m=gc(s);if((p+12)*dc*(l*(b*b)+a*(b*m)+h*(m*m)+(v*b+g*m)+d)<gc(n*u*u+e*u*s+r*s*s+(o*u+i*s)+f))return!1}{const{coeffs:{vₓₓ:n,vₓᵧ:o,vᵧᵧ:i,vₓ:c,vᵧ:f,v:l},errorBound:{vₓₓ_:a,vₓᵧ_:h,vᵧᵧ_:v,vₓ_:g,vᵧ_:d,v_:p}}=Wi(t),b=vc(e),m=vc(r),I=gc(u),E=gc(s),N=I/3,_=E/3,M=uc(b,b),x=M[1],S=2*(I*N+x),T=uc(m,m),B=T[1],y=2*(E*_+B),w=uc(b,m),z=gc(w[1]),O=I*_+N*E+2*z,P=uc(n,M),D=gc(n[1])*S+a*x+2*gc(P[1]),F=uc(o,w),C=gc(o[1])*O+h*z+2*gc(F[1]),A=uc(i,T),L=gc(i[1])*y+v*B+2*gc(A[1]),V=uc(b,c),q=gc(c[1])*N+g*I+2*gc(V[1]),Y=uc(m,f),G=gc(f[1])*_+d*E+2*gc(Y[1]),k=sc(P,F),R=D+C+gc(k[1]),$=sc(k,A),H=R+L+gc($[1]),W=sc(V,Y),j=q+G+gc(W[1]),Q=sc($,W),X=H+j+gc(Q[1]),U=sc(Q,l),K=X+p+gc(U[1]);if(pc*K<gc(hc(U)))return!1}{const n=xs(t);if(void 0===n)return c&&u===t[0][0]&&s===t[0][1];const{vₓₓ:e,vₓᵧ:r,vᵧᵧ:o,vₓ:i,vᵧ:f,v:l}=n,a=lc(lc(lc(fc(e,ic(u,u)),fc(r,ic(u,s))),fc(o,ic(s,s))),lc(lc(cc(u,i),cc(s,f)),l));return 0===ac(a)}}(t,n);if(2===t.length)return function(t,n){const[e,r]=n,o=e.length,i=r.length,u=e[o-1],s=r[i-1],c=1===o&&1===i;{const{coeffs:{vₓ:n,vᵧ:o,v:i},errorBound:{v_:c}}=Di(t),f=Xs(e),l=Xs(r),a=Us(u),h=Us(s),v=Us(n[1]),g=Us(o[1]),d=a/3,p=h/3,b=n[1]*u,m=Qs(f,n),I=v*d+2*Us(b),E=o[1]*s,N=Qs(l,o),_=g*p+2*Us(E),M=Rs(m,N),x=I+_+Us(M[1]),S=Rs(M,i),T=x+c+Us(S[1]);if(Ks*T<Us(js(S)))return!1}{const n=hs(t);if(void 0===n)return c&&u===t[0][0]&&s===t[0][1];const{vₓ:o,vᵧ:i,v:f}=n,l=$s(e,o),a=$s(r,i),h=Hs($s(l,a),f);return 0===Ws(h)}}(t,n);if(1===t.length){const e=p(n[0]),r=p(n[1]);return 1===e.length&&1===r.length&&e[0]===t[0][0]&&r[0]===t[0][1]}throw new Error("The given bezier curve is invalid.")}const Oc=st,Pc=S,Dc=y,Fc=_,Cc=rt,Ac=o;function Lc(t,n){const e=yo(t);if(0===Ac(e[0][0])&&0===Ac(e[1][0]))return Ps(Ei(t),n);const[[r,o],[i,u]]=zo(n);if(0===Ac(r)&&0===Ac(i)){const e=n[0];return zc(t,[[e[0]],[e[1]]])?[[0]]:[[1]]}const{vₓₓₓ:s,vₓₓᵧ:c,vₓᵧᵧ:f,vᵧᵧᵧ:l,vₓₓ:a,vₓᵧ:h,vᵧᵧ:v,vₓ:g,vᵧ:d,v:p}=ks(e),b=Oc(o,o),m=Pc(o,r),I=Oc(o,u),E=Pc(o,i),N=Dc(r,r),_=Pc(u,r),M=Dc(r,i),x=Oc(u,u),S=Pc(u,i),T=Dc(i,i),B=Pc(o,s),y=Dc(Oc(3,o),s),w=Pc(o,c),z=Pc(u,c),O=Pc(o,f),P=Pc(u,f),D=Pc(u,l),F=Dc(Oc(3,u),l),C=Dc(r,s),A=Dc(r,f),L=Dc(i,c),V=Dc(i,l),q=Fc(C,L),Y=Fc(A,V),G=Dc(N,q),k=Dc(T,Y),R=Fc(G,k),$=Fc(y,z),H=Cc(Fc(w,P)),W=Fc(O,F),j=Fc($,a),Q=Fc(H,h),X=Fc(W,v),U=Dc(N,j),K=Dc(M,Q),J=Dc(T,X),Z=Fc(U,K),tt=Fc(Z,J),nt=Cc(Fc(z,a)),et=Cc(Fc(O,v)),rt=Fc(y,nt),ot=Fc(F,et),it=Fc(w,h),ut=Fc(P,h),st=Dc(m,rt),ct=Dc(S,ot),ft=Dc(E,it),lt=Dc(_,ut),at=Dc(r,g),ht=Dc(i,d),vt=Fc(st,ct),gt=Fc(ft,lt),dt=Fc(vt,gt),pt=Fc(at,ht),bt=Fc(dt,pt),mt=Fc(B,z),It=Fc(D,O),Et=Fc(mt,a),Nt=Fc(It,v),_t=Dc(b,Et),Mt=Dc(x,Nt),xt=Dc(I,h),St=Fc(_t,Mt),Tt=Fc(St,xt),Bt=Pc(o,g),yt=Pc(u,d),wt=Fc(Bt,yt),zt=Fc(Tt,wt);return[R,tt,bt,Fc(zt,p)]}const Vc=S,qc=y,Yc=_,Gc=o;function kc(t,n){const e=zo(t);0===Gc(e[0][0])&&Gc(e[1][0]);const[[r,o,i],[u,s,c]]=wo(n);if(0===Gc(r)&&0===Gc(u))return ms(t,[n[0],n[2]]);const{vₓ:f,vᵧ:l,v:a}=vs(e),h=qc(r,f),v=qc(u,l),g=Yc(h,v),d=qc(o,f),p=qc(s,l),b=Yc(d,p),m=Vc(i,f),I=Vc(c,l),E=Yc(m,I);return[g,b,Yc(E,a)]}const Rc=st,$c=S,Hc=y,Wc=_,jc=rt,Qc=o;function Xc(t,n){const e=wo(t);if(0===Qc(e[0][0])&&0===Qc(e[1][0]))return kc([t[0],t[2]],n);const[[r,o,i],[u,s,c]]=wo(n);if(0===Qc(r)&&0===Qc(u))return Ps(t,[n[0],n[2]]);const{vₓₓ:f,vₓᵧ:l,vᵧᵧ:a,vₓ:h,vᵧ:v,v:g}=Ss(e),d=Rc(i,i),p=$c(i,o),b=$c(i,r),m=Rc(i,c),I=$c(i,s),E=$c(i,u),N=Hc(o,o),_=Hc(o,r),M=$c(c,o),x=Hc(o,s),S=Hc(o,u),T=Hc(r,s),B=Hc(r,r),y=$c(c,r),w=Hc(r,u),z=Rc(c,c),O=$c(c,s),P=$c(c,u),D=Hc(s,s),F=Hc(s,u),C=Hc(u,u),A=Hc(B,f),L=Hc(w,l),V=Hc(C,a),q=Wc(A,L),Y=Wc(q,V),G=Hc(_,f),k=Hc(F,a),R=Wc(S,T),$=Hc(R,l),H=jc(Wc(G,k)),W=Wc(H,$),j=Wc(jc(b),N),Q=Wc(jc(P),D),X=Wc(E,x),U=Wc(X,y),K=Hc(j,f),J=Hc(Q,a),Z=Hc(U,l),tt=Hc(r,h),nt=Hc(u,v),et=Wc(K,J),rt=Wc(et,Z),ot=Wc(tt,nt),it=Wc(rt,ot),ut=Hc(p,f),st=Hc(O,a),ct=Wc(I,M),ft=Hc(ct,l),lt=jc(Wc(ut,st)),at=Hc(o,h),ht=Hc(s,v),vt=Wc(lt,ft),gt=Wc(at,ht),dt=Wc(vt,gt),pt=Hc(d,f),bt=Hc(m,l),mt=Hc(z,a),It=$c(i,h),Et=$c(c,v),Nt=Wc(pt,bt),_t=Wc(Nt,mt),Mt=Wc(It,Et),xt=Wc(_t,Mt);return[Y,W,it,dt,Wc(xt,g)]}const Uc=st,Kc=S,Jc=y,Zc=_,tf=rt,nf=o;function ef(t,n){const e=yo(t);if(0===nf(e[0][0])&&0===nf(e[1][0]))return Xc(Ei(t),n);const[[r,o,i],[u,s,c]]=wo(n);if(0===nf(r)&&0===nf(u))return Lc(t,[n[0],n[2]]);const{vₓₓₓ:f,vₓₓᵧ:l,vₓᵧᵧ:a,vᵧᵧᵧ:h,vₓₓ:v,vₓᵧ:g,vᵧᵧ:d,vₓ:p,vᵧ:b,v:m}=ks(e),I=Uc(i,i),E=Kc(i,o),N=Kc(i,r),_=Uc(i,c),M=Kc(i,s),x=Kc(i,u),S=Jc(o,o),T=Jc(o,r),B=Kc(c,o),y=Jc(o,s),w=Jc(o,u),z=Jc(r,s),O=Jc(r,r),P=Kc(c,r),D=Jc(r,u),F=Uc(c,c),C=Kc(c,s),A=Kc(c,u),L=Jc(s,s),V=Jc(s,u),q=Jc(u,u),Y=Jc(r,f),G=Jc(r,a),k=Jc(u,l),R=Jc(u,h),$=Zc(Y,k),H=Zc(G,R),W=Jc(O,$),j=Jc(q,H),Q=Zc(W,j),X=Zc(N,S),U=Zc(A,L),K=Zc(tf(N),S),J=Zc(tf(A),L),Z=Zc(tf(y),P),tt=Zc(tf(y),x),nt=Zc(tf(P),y),et=Zc(Kc(6,N),S),rt=Zc(Kc(6,A),L),ot=Zc(w,z),it=Zc(x,P),ut=Zc(tf(B),M),st=Zc(tf(M),B),ct=Zc(x,y),ft=Zc(ct,P),lt=Kc(3,O),at=Kc(3,q),ht=Jc(lt,f),vt=Jc(O,l),gt=tf(Jc(D,l)),dt=tf(Jc(D,a)),pt=Jc(q,a),bt=Jc(at,h),mt=Zc(ht,gt),It=Zc(vt,dt),Et=Zc(mt,pt),Nt=Zc(It,bt),_t=Jc(o,Et),Mt=Jc(s,Nt),xt=Zc(_t,Mt),St=Jc(u,K),Tt=Jc(u,tt),Bt=Jc(r,Z),yt=Jc(r,J),wt=Jc(Kc(3,r),X),zt=Jc(Kc(3,u),U),Ot=Zc(St,Bt),Pt=Zc(Tt,yt),Dt=Jc(wt,f),Ft=Jc(zt,h),Ct=Jc(Ot,l),At=Jc(Pt,a),Lt=Zc(Dt,Ft),Vt=Zc(Ct,At),qt=Jc(O,v),Yt=Jc(q,d),Gt=Jc(D,g),kt=Zc(qt,Yt),Rt=Zc(Lt,Vt),$t=Zc(kt,Gt),Ht=Zc(Rt,$t),Wt=Jc(o,et),jt=Jc(s,rt),Qt=Kc(2*i,ot),Xt=Jc(tf(s),it),Ut=Jc(o,nt),Kt=Jc(o,J),Jt=Zc(Qt,Ut),Zt=Zc(Xt,Kt),tn=Jc(V,d),nn=Jc(T,v),en=Jc(ot,g),rn=Zc(tn,nn),on=Jc(Wt,f),un=Jc(Jt,l),sn=Jc(jt,h),cn=Jc(Zt,a),fn=Zc(on,sn),ln=Zc(un,cn),an=Zc(fn,ln),hn=Zc(tf(rn),en),vn=Zc(an,hn),gn=Kc(3*i,X),dn=Kc(3*c,U),pn=Kc(i,tt),bn=Kc(i,J),mn=Kc(c,K),In=Kc(c,Z),En=Zc(pn,mn),Nn=Zc(bn,In),_n=Jc(gn,f),Mn=Jc(dn,h),xn=Jc(En,l),Sn=Jc(Nn,a),Tn=Jc(K,v),Bn=Jc(J,d),yn=Jc(ft,g),wn=Jc(r,p),zn=Jc(u,b),On=Zc(_n,Mn),Pn=Zc(xn,Sn),Dn=Zc(Tn,Bn),Fn=Zc(On,Pn),Cn=Zc(Dn,yn),An=Zc(wn,zn),Ln=Zc(Fn,Cn),Vn=Zc(Ln,An),qn=Kc(3*i,E),Yn=Kc(3*c,C),Gn=Kc(i,ut),kn=Kc(c,st),Rn=Jc(E,v),$n=Jc(C,d),Hn=Jc(M,g),Wn=Jc(B,g),jn=tf(Zc(Rn,$n)),Qn=Zc(Hn,Wn),Xn=Jc(o,p),Un=Jc(s,b),Kn=Jc(qn,f),Jn=Jc(Yn,h),Zn=Jc(Gn,l),te=Jc(kn,a),ne=Zc(Kn,Jn),ee=Zc(Zn,te),re=Zc(ne,ee),oe=Zc(jn,Qn),ie=Zc(Xn,Un),ue=Zc(re,oe),se=Zc(ue,ie),ce=Kc(i,f),fe=Kc(i,a),le=Kc(c,l),ae=Kc(c,h),he=Zc(ce,le),ve=Zc(fe,ae),ge=Zc(he,v),de=Zc(ve,d),pe=Jc(I,ge),be=Jc(F,de),me=Jc(_,g),Ie=Kc(i,p),Ee=Kc(c,b),Ne=Zc(pe,be),_e=Zc(Ne,me),Me=Zc(Ie,Ee),xe=Zc(_e,Me);return[Q,xt,Ht,vn,Vn,se,Zc(xe,m)]}const rf=S,of=y,uf=_,sf=o;function cf(t,n){const e=zo(t);0===sf(e[0][0])&&sf(e[1][0]);const[[r,o,i,u],[s,c,f,l]]=yo(n);if(0===sf(r)&&0===sf(s))return kc(t,Ei(n));const{vₓ:a,vᵧ:h,v}=vs(e),g=of(r,a),d=of(s,h),p=uf(g,d),b=of(o,a),m=of(c,h),I=uf(b,m),E=of(i,a),N=of(f,h),_=uf(E,N),M=rf(u,a),x=rf(l,h),S=uf(M,x);return[p,I,_,uf(S,v)]}const ff=st,lf=S,af=y,hf=_,vf=rt,gf=o;function df(t,n){const e=wo(t);if(0===gf(e[0][0])&&0===gf(e[1][0]))return cf([t[0],t[2]],n);const[[r,o,i,u],[s,c,f,l]]=yo(n);if(0===gf(r)&&0===gf(s))return Xc(t,Ei(n));const{vₓₓ:a,vₓᵧ:h,vᵧᵧ:v,vₓ:g,vᵧ:d,v:p}=Ss(e),b=ff(u,u),m=lf(u,i),I=lf(u,o),E=lf(u,r),N=ff(u,l),_=lf(u,f),M=lf(u,c),x=lf(u,s),S=af(i,i),T=af(i,o),B=af(i,r),y=lf(l,i),w=af(i,f),z=af(i,c),O=af(i,s),P=af(o,f),D=af(o,o),F=af(o,r),C=lf(l,o),A=af(o,c),L=af(o,s),V=af(r,r),q=lf(l,r),Y=af(r,f),G=af(r,c),k=af(r,s),R=ff(l,l),$=lf(l,f),H=lf(l,c),W=lf(l,s),j=af(f,f),Q=af(f,c),X=af(s,s),U=af(c,c),K=af(c,s),J=af(f,s),Z=af(V,a),tt=af(k,h),nt=af(X,v),et=hf(Z,tt),rt=hf(et,nt),ot=af(F,a),it=af(K,v),ut=hf(ot,it),st=hf(L,G),ct=af(st,h),ft=hf(vf(ut),ct),lt=hf(vf(B),D),at=hf(vf(J),U),ht=hf(O,A),vt=hf(ht,Y),gt=af(lt,a),dt=af(at,v),pt=hf(gt,dt),bt=af(vt,h),mt=hf(pt,bt),It=hf(E,T),Et=hf(W,Q),Nt=hf(x,z),_t=hf(P,q),Mt=hf(Nt,_t),xt=af(It,a),St=af(Et,v),Tt=vf(hf(xt,St)),Bt=af(Mt,h),yt=af(r,g),wt=af(s,d),zt=hf(yt,wt),Ot=hf(Tt,Bt),Pt=hf(Ot,zt),Dt=hf(vf(I),S),Ft=hf(vf(H),j),Ct=hf(M,w),At=hf(Ct,C),Lt=af(Dt,a),Vt=af(Ft,v),qt=af(At,h),Yt=hf(Lt,Vt),Gt=hf(Yt,qt),kt=af(o,g),Rt=af(c,d),$t=hf(kt,Rt),Ht=hf(Gt,$t),Wt=af(m,a),jt=af($,v),Qt=hf(_,y),Xt=af(Qt,h),Ut=vf(hf(Wt,jt)),Kt=hf(Ut,Xt),Jt=af(i,g),Zt=af(f,d),tn=hf(Jt,Zt),nn=hf(Kt,tn),en=af(b,a),rn=af(N,h),on=af(R,v),un=lf(u,g),sn=lf(l,d),cn=hf(en,rn),fn=hf(cn,on),ln=hf(un,sn),an=hf(fn,ln);return[rt,ft,mt,Pt,Ht,nn,hf(an,p)]}const pf=st,bf=S,mf=y,If=_,Ef=rt,Nf=o;function _f(t,n){const e=yo(t);if(0===Nf(e[0][0])&&0===Nf(e[1][0]))return df(Ei(t),n);const[[r,o,i,u],[s,c,f,l]]=yo(n);if(0===Nf(r)&&0===Nf(s))return ef(t,Ei(n));const{vₓₓₓ:a,vₓₓᵧ:h,vₓᵧᵧ:v,vᵧᵧᵧ:g,vₓₓ:d,vₓᵧ:p,vᵧᵧ:b,vₓ:m,vᵧ:I,v:E}=ks(e),N=pf(u,u),_=bf(u,i),M=bf(u,o),x=bf(u,r),S=pf(u,l),T=bf(u,f),B=bf(u,c),y=bf(u,s),w=mf(i,i),z=mf(i,o),O=mf(i,r),P=bf(l,i),D=mf(i,f),F=mf(i,c),C=mf(i,s),A=mf(o,f),L=mf(o,o),V=mf(o,r),q=bf(l,o),Y=mf(o,c),G=mf(o,s),k=mf(r,r),R=bf(l,r),$=mf(r,f),H=mf(r,c),W=mf(r,s),j=pf(l,l),Q=bf(l,f),X=bf(l,c),U=bf(l,s),K=mf(f,f),J=mf(f,c),Z=mf(s,s),tt=mf(c,c),nt=mf(c,s),et=mf(f,s),rt=mf(r,k),ot=mf(r,Z),it=mf(s,k),ut=mf(s,Z),st=mf(rt,a),ct=mf(ot,v),ft=mf(it,h),lt=mf(ut,g),at=If(st,ct),ht=If(ft,lt),vt=If(at,ht),gt=If(Ef(G),H),dt=If(Ef(H),G),pt=mf(r,gt),bt=mf(s,dt),mt=mf(o,k),It=mf(c,Z),Et=mf(a,mt),Nt=mf(g,It),_t=mf(h,pt),Mt=mf(v,bt),xt=If(_t,Mt),St=bf(3,If(Et,Nt)),Tt=If(xt,St),Bt=mf(i,W),yt=mf(f,k),wt=mf(o,nt),zt=mf(i,Z),Ot=mf(o,H),Pt=mf(s,L),Dt=mf(r,et),Ft=mf(c,H),Ct=If(Bt,Ot),At=If(yt,Pt),Lt=If(wt,Dt),Vt=If(zt,Ft),qt=If(O,L),Yt=If(et,tt),Gt=If(Ef(Ct),At),kt=If(Ef(Lt),Vt),Rt=mf(h,Gt),$t=mf(v,kt),Ht=mf(r,qt),Wt=mf(s,Yt),jt=mf(a,Ht),Qt=mf(g,Wt),Xt=If(Rt,$t),Ut=bf(3,If(jt,Qt)),Kt=If(Xt,Ut),Jt=If(G,H),Zt=mf(c,L),tn=Ef(mf(i,Jt)),nn=If(Zt,tn),en=Ef(If(y,A)),rn=If(en,R),on=mf(r,rn),un=If(nn,on),sn=mf(o,tt),cn=Ef(mf(f,Jt)),fn=If(sn,cn),ln=Ef(If(F,R)),an=If(ln,y),hn=mf(s,an),vn=If(fn,hn),gn=mf(o,L),dn=If(Ef(z),x),pn=mf(bf(3,r),dn),bn=If(gn,pn),mn=mf(c,tt),In=If(Ef(J),U),En=mf(bf(3,s),In),Nn=If(mn,En),_n=mf(h,un),Mn=mf(v,vn),xn=If(_n,Mn),Sn=mf(a,bn),Tn=mf(g,Nn),Bn=If(Sn,Tn),yn=mf(k,d),wn=mf(Z,b),zn=If(yn,wn),On=mf(W,p),Pn=If(xn,Bn),Dn=If(zn,On),Fn=If(Pn,Dn),Cn=If(Y,$),An=If(C,Y),Ln=bf(u,Jt),Vn=bf(l,Jt),qn=mf(i,Cn),Yn=mf(f,An),Gn=If(Ef(R),A),kn=If(Ef(y),F),Rn=mf(s,w),$n=mf(r,K),Hn=mf(o,Gn),Wn=mf(c,kn),jn=Ef(If(Ln,qn)),Qn=Ef(If(Vn,Yn)),Xn=Ef(bf(u,V)),Un=Ef(bf(l,nt)),Kn=mf(i,qt),Jn=mf(f,Yt),Zn=mf(V,d),te=mf(nt,b),ne=If(jn,Rn),ee=If(Qn,$n),re=If(ne,Hn),oe=If(ee,Wn),ie=If(Xn,Kn),ue=If(Un,Jn),se=Ef(If(Zn,te)),ce=mf(h,re),fe=mf(v,oe),le=mf(a,ie),ae=mf(g,ue),he=If(ce,fe),ve=bf(3,If(le,ae)),ge=mf(p,Jt),de=If(he,ve),pe=If(ge,se),be=If(de,pe),me=If(C,Cn),Ie=If(Ef(O),L),Ee=If(Ef(et),tt),Ne=bf(2*u,me),_e=bf(2*l,me),Me=If(F,Ef(A)),xe=If(A,Ef(F)),Se=bf(l,Ie),Te=bf(u,Ee),Be=mf(i,Me),ye=mf(f,xe),we=bf(u,Ie),ze=bf(l,Ee),Oe=mf(o,w),Pe=mf(c,K),De=If(Ne,Se),Fe=If(_e,Te),Ce=If(De,Be),Ae=If(Fe,ye),Le=If(we,Oe),Ve=If(ze,Pe),qe=mf(h,Ce),Ye=mf(v,Ae),Ge=mf(a,Le),ke=mf(g,Ve),Re=If(Ge,ke),$e=If(qe,Ye),He=If($e,bf(3,Re)),We=mf(p,me),je=mf(d,Ie),Qe=If(We,je),Xe=mf(b,Ee),Ue=If(Qe,Xe),Ke=If(He,Ue),Je=If(F,A),Ze=If(R,y),tr=If(z,x),nr=If(J,U),er=If(Ef(Je),R),rr=If(Ef(Je),y),or=If(Ef(q),D),ir=If(Ef(B),D),ur=If(tr,z),sr=If(nr,J),cr=mf(pf(3,u),ur),fr=mf(pf(3,l),sr),lr=mf(i,w),ar=mf(f,K),hr=mf(d,tr),vr=mf(b,nr),gr=If(er,Ze),dr=If(rr,Ze),pr=bf(u,gr),br=bf(l,dr),mr=mf(i,or),Ir=mf(f,ir),Er=mf(r,m),Nr=mf(s,I),_r=If(pr,mr),Mr=If(br,Ir),xr=If(cr,lr),Sr=If(fr,ar),Tr=If(Ze,Je),Br=Ef(If(hr,vr)),yr=mf(h,_r),wr=mf(v,Mr),zr=mf(a,xr),Or=mf(g,Sr),Pr=mf(p,Tr),Dr=If(yr,wr),Fr=If(zr,Or),Cr=If(Pr,Br),Ar=If(Er,Nr),Lr=If(Dr,Fr),Vr=If(Cr,Ar),qr=If(Lr,Vr),Yr=If(D,q),Gr=If(D,B),kr=If(Ef(Yr),B),Rr=If(Ef(Gr),q),$r=bf(u,kr),Hr=bf(l,w),Wr=bf(l,Rr),jr=bf(u,K),Qr=bf(u,w),Xr=mf(o,N),Ur=bf(l,K),Kr=mf(c,j),Jr=If($r,Hr),Zr=If(Wr,jr),to=If(Qr,Xr),no=If(Ur,Kr),eo=mf(a,to),ro=mf(g,no),oo=bf(3,If(eo,ro)),io=If(Yr,B),uo=If(Ef(M),w),so=If(Ef(X),K),co=mf(h,Jr),fo=mf(v,Zr),lo=mf(p,io),ao=mf(d,uo),ho=mf(b,so),vo=mf(o,m),go=mf(c,I),po=If(vo,go),bo=If(co,fo),mo=If(oo,lo),Io=If(ao,ho),Eo=If(bo,mo),No=If(Io,po),_o=If(Eo,No),Mo=If(P,T),xo=bf(u,h),So=bf(l,v),To=If(Mo,P),Bo=If(Mo,T),wo=mf(i,N),zo=mf(wo,a),Oo=mf(f,j),Po=mf(Oo,g),Do=mf(p,Mo),Fo=mf(_,d),Co=mf(Q,b),Ao=If(Fo,Co),Lo=mf(i,m),Vo=mf(f,I),qo=If(Lo,Vo),Yo=mf(xo,To),Go=mf(So,Bo),ko=If(Yo,Go),Ro=bf(3,If(zo,Po)),$o=If(Do,Ef(Ao)),Ho=If(ko,Ro),Wo=If($o,qo),jo=If(Ho,Wo),Qo=bf(u,a),Xo=bf(l,h),Uo=If(Qo,Xo),Ko=bf(u,v),Jo=bf(l,g),Zo=If(Ko,Jo),ti=If(Uo,d),ni=If(Zo,b),ei=mf(N,ti),ri=mf(j,ni),oi=If(ei,ri),ii=mf(S,p),ui=If(oi,ii),si=bf(u,m),ci=bf(l,I),fi=If(si,ci),li=If(ui,fi);return[vt,Tt,Kt,Fn,be,Ke,qr,_o,jo,If(li,E)]}const Mf=[[qi,Mu,Hu],[tu,Ou,Zu],[bu,qu,ss]],xf=[[ms,kc,cf],[Ps,Xc,df],[Lc,ef,_f]];function Sf(t,n){const{coeffs:e,errBound:r}=Mf[t.length-2][n.length-2](t,n);return{coeffs:e,errBound:r,getPExact:()=>xf[t.length-2][n.length-2](t,n)}}function Tf(t,n){let e=Sf(t,n);if(void 0===e)return;let{coeffs:r,errBound:o,getPExact:i}=e;return ze(r,0,1,o,i,!0)}const Bf=ut,yf=Math.min;function wf(t,n){if(4===t.length)return zf(t,n);if(3===t.length)return function(t,n){const e=n[0],r=n[1],{coeffs:[o,i],errorBound:[u,s]}=Bi(t),c=o.pop(),f=[...o,Bf(c,e)],l=i.pop(),a=[...i,Bf(l,r)];let h;const v=ze(f,0,1,u,(()=>{void 0===h&&(h=wo(t));const n=h[0],r=n.pop();return[...n,Bf(r,e)]}),!0),g=ze(a,0,1,s,(()=>{void 0===h&&(h=wo(t));const n=h[1],e=n.pop();return[...n,Bf(e,r)]}),!0);if(void 0===v){if(void 0===g)return;return g}if(void 0===g)return v;let d=[];for(let t=0;t<v.length;t++){let n=v[t];for(let t=0;t<g.length;t++){let e=Of(n,g[t]);void 0!==e&&d.push(e)}}return d}(t,n);if(2===t.length)return function(t,n){const e=n[0],r=n[1],[o,i]=yi(t),u=o.pop(),s=[...o,Bf(u,e)],c=i.pop(),f=[...i,Bf(c,r)],l=ze(s,0,1,void 0,void 0,!0),a=ze(f,0,1,void 0,void 0,!0);if(void 0===l){if(void 0===a)return;return a}if(void 0===a)return l;if(0===l.length||0===a.length)return[];const h=Of(l[0],a[0]);return void 0!==h?[h]:void 0}(t,n);throw new Error("The given bezier curve is invalid.")}function zf(t,n){const e=n[0],r=n[1],{coeffs:[o,i],errorBound:[u,s]}=Ti(t),c=o.pop(),f=[...o,Bf(c,e)],l=i.pop(),a=[...i,Bf(l,r)];let h;const v=ze(f,0,1,u,(()=>{void 0===h&&(h=yo(t));const n=h[0],r=n.pop();return[...n,Bf(r,e)]}),!0),g=ze(a,0,1,s,(()=>{void 0===h&&(h=yo(t));const n=h[1],e=n.pop();return[...n,Bf(e,r)]}),!0);if(void 0===v){if(void 0===g)return;return g}if(void 0===g)return v;let d=[];for(let t=0;t<v.length;t++){let n=v[t];for(let t=0;t<g.length;t++){let e=Of(n,g[t]);void 0!==e&&d.push(e)}}return d}function Of(t,n){if(t.tS<=n.tS){if(t.tE<n.tS)return;return{tS:n.tS,tE:yf(t.tE,n.tE),multiplicity:t.multiplicity+n.multiplicity}}if(!(n.tE<t.tS))return{tS:t.tS,tE:yf(t.tE,n.tE),multiplicity:t.multiplicity+n.multiplicity}}const Pf=Math.abs;function Df(t,n){if(0===n[0]&&0===n[1])return[0,0];if(0===n[0]&&1===n[1])return[0,0];const e=Pf(n[1]);if(4===t.length){const[[n,r],[o,i],[u,s],[c,f]]=t,l=Pf(n),a=Pf(r),h=Pf(o),v=Pf(i),g=Pf(u),d=Pf(s),p=l+(h+l)*e,b=h+(g+h)*e,m=p+(b+p)*e,I=a+(v+a)*e,E=v+(d+v)*e,N=I+(E+I)*e;return[m+(b+(g+(Pf(c)+g)*e+b)*e+m)*e,N+(E+(d+(Pf(f)+d)*e+E)*e+N)*e]}if(3===t.length){const[[n,r],[o,i],[u,s]]=t,c=Pf(n),f=Pf(r),l=Pf(o),a=Pf(i),h=c+(l+c)*e,v=f+(a+f)*e;return[h+(l+(Pf(u)+l)*e+h)*e,v+(a+(Pf(s)+a)*e+v)*e]}if(2===t.length){const[[n,r],[o,i]]=t,u=Pf(n),s=Pf(r);return[u+(Pf(o)+u)*e,s+(Pf(i)+s)*e]}if(1===t.length)return[0,0];throw new Error("The given bezier curve is invalid.")}const Ff=Number.EPSILON,Cf=Ff/2,Af=Math.abs,Lf=Zr(1);function Vf(t,n){return n[0]!==n[1]?4===t.length?function(t,n){let[[e,r],[o,i],[u,s],[c,f]]=t,[l,a]=n;a=(a-l)/(1-l)*(1+Ff);const h=1-l,v=l*l,g=l*h,d=h*h,p=v*l,b=v*h,m=d*l,I=d*h,E=1-a,N=a*a,_=a*E,M=E*E,x=N*a,S=N*E,T=M*a,B=M*E;let y=Af(e),w=Af(r),z=Af(o),O=Af(i),P=Af(u),D=Af(s),F=Af(c),C=Af(f);const A=c*l+u*h,L=c*v+2*u*g+o*d;e=c*p+e*I+3*(u*b+o*m),o=L*a+e*E,u=A*N+e*M+2*L*_,c=c*x+e*B+3*(A*S+L*T);const V=F*l+P*h,q=F*v+2*P*g+z*d;y=F*p+y*I+3*(P*b+z*m),z=q*a+y*E,P=V*N+y*M+2*q*_,F=F*x+y*B+3*(V*S+q*T),y*=8*Cf,z*=11*Cf,P*=14*Cf,F*=16*Cf;const Y=f*l+s*h,G=f*v+2*s*g+i*d;r=f*p+r*I+3*(s*b+i*m),i=G*a+r*E,s=Y*N+r*M+2*G*_,f=f*x+r*B+3*(Y*S+G*T);const k=C*l+D*h,R=C*v+2*D*g+O*d;w=C*p+w*I+3*(D*b+O*m),O=R*a+w*E,D=k*N+w*M+2*R*_,C=C*x+w*B+3*(k*S+R*T),w*=8*Cf,O*=11*Cf,D*=14*Cf,C*=16*Cf;const $=Math.min(e-y,o-z,u-P,c-F),H=Math.max(e+y,o+z,u+P,c+F);return[[$,Math.min(r-w,i-O,s-D,f-C)],[H,Math.max(r+w,i+O,s+D,f+C)]]}(t,n):3===t.length?function([[t,n],[e,r],[o,i]],[u,s]){const c=1-u,f=u*u,l=u*c,a=c*c,h=1-(s=(s-u)/(1-u)*(1+Ff)),v=s*s,g=s*h,d=h*h;let p=Af(t),b=Af(n),m=Af(e),I=Af(r),E=Af(o),N=Af(i);const _=o*f+2*e*l+t*a,M=o*u+e*c;t=_,e=s*M+h*_;let x=E*f+2*m*l+p*a,S=E*u+m*c;p=x,m=s*S+h*x,E=v*(o=v*o+2*g*M+d*_)+2*g*S+d*x,p*=5*Cf,m*=8*Cf,E*=10*Cf;const T=i*f+2*r*l+n*a,B=i*u+r*c;n=T,r=s*B+h*T;const y=N*f+2*I*l+b*a,w=N*u+I*c;b=y,I=s*w+h*y,N=v*(i=v*i+2*g*B+d*T)+2*g*w+d*y,b*=5*Cf,I*=8*Cf,N*=10*Cf;const z=Math.min(t-p,e-m,o-E),O=Math.max(t+p,e+m,o+E);return[[z,Math.min(n-b,r-I,i-N)],[O,Math.max(n+b,r+I,i+N)]]}(t,n):function([[t,n],[e,r]],[o,i]){const u=1-o,s=1-(i=(i-o)/(1-o)*(1+Ff));let c=Af(t),f=Af(n),l=Af(e),a=Af(r);e=e*i+(t=e*o+t*u)*s,c=l*o+c*u,l=l*i+c*s,c*=3*Cf,l*=6*Cf,r=r*i+(n=r*o+n*u)*s,f=a*o+f*u,a=a*i+f*s,f*=3*Cf,a*=6*Cf;const h=Math.min(t-c,e-l),v=Math.max(t+c,e+l);return[[h,Math.min(n-f,r-a)],[v,Math.max(n+f,r+a)]]}(t,n):function(t,n){const e=t[0],r=t[t.length-1];if(0===n)return[e,e];if(1===n)return[r,r];const o=Or(t,n);let i;if(4===t.length)i=Df(t,[0,n]).map((t=>8*Lf*t));else if(3===t.length)i=Df(t,[0,n]).map((t=>5*Lf*t));else if(2===t.length)i=Df(t,[0,n]).map((t=>2*Lf*t));else{if(1!==t.length)throw new Error("The given bezier curve is invalid.");i=[0,0]}return[[o[0]-i[0],o[1]-i[1]],[o[0]+i[0],o[1]+i[1]]]}(t,n[0])}const qf=Math.min,Yf=Math.max;function Gf(t,n){let[[e,r],[o,i]]=t,[[u,s],[c,f]]=n;if(e>o&&([e,o]=[o,e]),u>c&&([u,c]=[c,u]),r>i&&([r,i]=[i,r]),s>f&&([s,f]=[f,s]),e<=c&&o>=u&&s<=i&&f>=r)return[[Yf(e,u),Yf(r,s)],[qf(o,c),qf(i,f)]]}const{eSign:kf,eAbs:Rf,eToDd:$f,eMultByNeg2:Hf,eEstimate:Wf,eCompare:jf}=yt,{sqrtWithErr:Qf,divWithErr:Xf,ddSqrt:Uf}=In,Kf=P,Jf=y,Zf=S,tl=dn,nl=bn,el=gn,rl=un,ol=cn,il=vn,ul=_,sl=q,cl=2*Number.EPSILON,fl=Math.abs,ll=Zr(1);function al(t,n=!0){if(t.length<4)return[];const{coeffs:[e,r,o],errBound:[i,u,s]}=Vo(t);if(fl(e)<=i){const[[n,e],[r,o],[i,u],[s,c]]=t,f=ul(tl(s,n),Zf(3,tl(r,i))),l=sl(nl(i,n),-2*r),a=ul(tl(c,e),Zf(3,tl(o,u))),h=sl(nl(u,e),-2*o),v=Jf(l,a),g=Jf(f,h);if(0===jf(v,g))return[]}const c=r*r,f=4*e*o,l=c-f,a=2*u*fl(r)+ll*c+(4*(i*fl(o)+fl(e)*s)+ll*fl(f))+ll*fl(l);if(l<-a)return[];if(l>a){const{est:t,err:c}=Qf(l,a);let f;f=r>=0?-r-t:-r+t;const h=u+c+ll*fl(f),{est:v,err:g}=Xf(f,2*e,h,2*i),{est:d,err:p}=Xf(2*o,f,2*s,h);if(n){if(v+g<0||v-g>1||d+p<0||d-p>1)return[]}else if((v+g<0||v-g>1)&&(d+p<0||d-p>1))return[]}let[h,v,g]=Fo(t);const d=Kf(Jf(v,v),Zf(4,Jf(h,g))),p=kf(d);if(p<0)return[];if(p>0){const t=Uf($f(d));let e;h=$f(h),v=$f(v),g=$f(g),e=kf(v)>=0?el(rl(v,t)):rl(el(v),t);let r=Wf(il(e,ol(h))),o=Wf(il(ol(g),e));if(n){if(r<-cl||r>1+cl||o<-cl||o>1+cl)return[]}else if((r<-cl||r>1+cl)&&(o<-cl||o>1+cl))return[];return[r,o]=r<o?[r,o]:[o,r],r>=0-cl&&r<=1+cl?o>=0-cl&&o<=1+cl?[r,o]:[r]:o>=0-cl&&o<=1+cl?[o]:[]}const b=Hf(h);if(kf(v)*kf(b)<0)return[];if(jf(Rf(v),Rf(b))>0)return[];const m=$f(v),I=$f(b),E=il(m,I),N=E[1]+E[0];return[N,N]}const hl=ut,vl=Y,gl=S,dl=Tt,pl=q;const bl=bn,ml=dn,Il=nn,El=un,Nl=on;Math.abs;const _l=Math.abs;function Ml(t){return 4===t.length&&vo(t)&&(t=Ei(t)),3===t.length&&uo(t)&&(t=[t[0],t[2]]),2===t.length&&no(t)&&(t=[t[0]]),t}const xl=2*Number.EPSILON,Sl=to(3);function Tl(t,n){if(t=Ml(t),n=Ml(n),1===t.length||1===n.length)return function(t,n){if(1===t.length){const e=t[0],r=[e,e];if(1===n.length){const t=n[0];return e[0]===t[0]&&e[1]===t[1]?[[{ri:{tS:0,tE:1,multiplicity:Number.POSITIVE_INFINITY},kind:6,box:r},{ri:{tS:0,tE:1,multiplicity:Number.POSITIVE_INFINITY},kind:6,box:r}]]:[]}return zc(n,[[e[0]],[e[1]]])?wf(n,e).map((t=>[{ri:{tS:0,tE:1,multiplicity:Number.POSITIVE_INFINITY},kind:6,box:r},{ri:t,kind:6,box:r}])):[]}const e=n[0],r=[e,e];return zc(t,[[e[0]],[e[1]]])?wf(t,e).map((t=>[{ri:t,kind:6,box:r},{ri:{tS:0,tE:1,multiplicity:Number.POSITIVE_INFINITY},kind:6,box:r}])):[]}(t,n);const e=Tf(t,n);if(void 0===e)return function(t,n){if(po(t))return function(t,n){return Bl(t),Bl(n),[]}(t,n);const e=[];return e.push(...function(t,n){const e=t[0],r=t[t.length-1],o=n[0],i=n[n.length-1],u=wf(n,e),s=wf(n,r),c=wf(t,o),f=wf(t,i),l=[];return l.push(...u.map((t=>{const e=Vf(n,[t.tS,t.tE]);return[{ri:Pe(0),kind:5,box:e},{ri:t,kind:5,box:e}]})),...s.map((t=>{const e=Vf(n,[t.tS,t.tE]);return[{ri:Pe(1),kind:5,box:e},{ri:t,kind:5,box:e}]})),...c.map((n=>{const e=Vf(t,[n.tS,n.tE]);return[{ri:n,kind:5,box:e},{ri:Pe(0),kind:5,box:e}]})),...f.map((n=>{const e=Vf(t,[n.tS,n.tE]);return[{ri:n,kind:5,box:e},{ri:Pe(1),kind:5,box:e}]}))),l}(t,n)),e.push(...function(t,n){const e=al(t,!1),r=al(n,!1),o=e.length,i=r.length;if(o<1||i<1)return[];const u=[];for(let o of e)for(let e of r)u.push([{kind:1,ri:{tS:o-xl,tE:o+xl,multiplicity:1},box:Vf(t,[o-xl,o+xl])},{kind:1,ri:{tS:o-xl,tE:o+xl,multiplicity:1},box:Vf(n,[e-xl,e+xl])}]);return u}(t,n)),e}(t,n);if(0===e.length)return[];const r=Tf(n,t);if(0===r.length)return[];let o=r.map((n=>Vf(t,[n.tS,n.tE]))),i=e.map((t=>Vf(n,[t.tS,t.tE]))),u=[];for(let t=0;t<r.length;t++){let n=o[t];for(let o=0;o<e.length;o++){let s=Gf(n,i[o]);if(void 0!==s){let n={ri:r[t],box:s,kind:1},i={ri:e[o],box:s,kind:1};u.push([n,i])}}}return u}function Bl(t){let n;if(4===t.length){const e=function(t){const[[n,e],[r,o],[i,u],[s,c]]=t;return[[Il(3,El(ml(s,n),Il(3,ml(r,i)))),Il(6,Nl(bl(i,n),-2*r)),Il(3,ml(r,n))],[Il(3,El(ml(c,e),Il(3,ml(o,u)))),Il(6,Nl(bl(u,e),-2*o)),Il(3,ml(o,e))]]}(t)[0];let[r,o,i]=function(t){const[[n,e],[r,o],[i,u],[s,c]]=t,f=_l(n),l=_l(r),a=_l(i),h=_l(s),v=_l(e),g=_l(o),d=_l(u);return[[3*(h+f+3*(l+a)),6*(a+f+2*l),3*(l+f)],[3*(_l(c)+v+3*(g+d)),6*(d+v+2*g),3*(g+v)]]}(t)[0];r*=3*Sl,o*=2*Sl,i*=1*Sl,n=ze(e,0,1,[r,o,i],(()=>function(t){const[[n,e],[r,o],[i,u],[s,c]]=t;return[[gl(3,dl(hl(s,n),gl(3,hl(r,i)))),gl(6,pl(vl(i,n),-2*r)),gl(3,hl(r,n))],[gl(3,dl(hl(c,e),gl(3,hl(o,u)))),gl(6,pl(vl(u,e),-2*o)),gl(3,hl(o,e))]]}(t)[0]))}else if(3===t.length){const e=function(t){const[[n,e],[r,o],[i,u]]=t;return[[Nl(bl(2*i,2*n),-4*r),ml(2*r,2*n)],[Nl(bl(2*u,2*e),-4*o),ml(2*o,2*e)]]}(t)[0];let[r,o]=function(t){const[[n,e],[r,o],[i,u]]=t,s=_l(n),c=_l(r),f=_l(i),l=_l(e),a=_l(o);return[[2*(f+s+2*c),2*(c+s)],[2*(_l(u)+l+2*a),2*(a+l)]]}(t)[0];r*=Sl,o=0,n=ze(e,0,1,[r,o],(()=>function(t){const[[n,e],[r,o],[i,u]]=t;return[[pl(vl(2*i,2*n),-4*r),hl(2*r,2*n)],[pl(vl(2*u,2*e),-4*o),hl(2*o,2*e)]]}(t)[0]))}else{if(2!==t.length&&1!==t.length)throw new Error("The given bezier curve is invalid.");n=[]}return n}const yl=Number.EPSILON/2,wl=Math.abs,zl=[[0,0],[0,0]],Ol=Gr,Pl=gr;function Dl(t,n,e){if(4===t.length)return Ol(t,n,e);if(3===t.length)return Pl(t,n,e);if(2===t.length)return function(t,n,e){return 0===n?1===e?{ps:t,_ps:zl}:function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],u=r[0],s=r[1],c=1-n,f=[[o,i],[u*n+o*c,s*n+i*c]],l=wl(o),a=wl(i);return{ps:f,_ps:[[0,0],[wl(u)*n+l*c,wl(s)*n+a*c]]}}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],u=r[0],s=r[1],c=1-n,f=[[n*u+c*o,n*s+c*i],[u,s]],l=wl(o),a=wl(i);return{ps:f,_ps:[[n*wl(u)+c*l,n*wl(s)+c*a],[0,0]]}}(t,n):function(t,n,e){const r=t[0],o=t[1],i=r[0],u=r[1],s=o[0],c=o[1],f=1-n,l=(e-n)/f,a=l+l*yl,h=a+.5-.5,v=h>=a?h:h+yl,g=1-v,d=n*s+i*f,p=v*s+g*d,b=n*c+u*f,m=v*c+g*b,I=wl(i),E=wl(u),N=wl(s),_=wl(c),M=n*N+f*I,x=n*_+f*E;return{ps:[[d,b],[p,m]],_ps:[[M,x],[v*N+g*M,v*_+g*x]]}}(t,n,e)}(t,n,e);if(1===t.length)return{ps:t,_ps:[[0]]};throw new Error("The given bezier curve is invalid; it must be of order 0,1,2 or 3.")}function Fl(t,n){const e=n.slice().reverse(),r=Tl(t,e);let o,i=0,u=0;for(let n=0;n<r.length+1;n++){const s=r[n],c=void 0===s?1:De(s[0].ri),f=void 0===s?0:De(s[1].ri),l=0===n?1:o,a=Dl(t,i,c).ps,h=Dl(e,f,l).ps;i=c,o=f;const v=Ze(a),g=Ze(h);u+=Math.abs(v+g)}return u}exports.__esModule=!0,exports.bezierSelfIntersection=void 0;var Cl=require("./get-coefficients/double/get-coeffs-bez3-with-running-error.js"),Al=require("./get-coefficients/exact/get-coeffs-bez3-exact.js"),Ll=require("../../error-analysis/error-analysis.js"),Vl=require("big-float-ts"),ql=require("double-double"),Yl=require("big-float-ts"),Gl=require("double-double"),kl=Vl.operators.eSign,Rl=Vl.operators.eAbs,$l=Vl.operators.eToDd,Hl=Vl.operators.eMultByNeg2,Wl=Vl.operators.eEstimate,jl=Vl.operators.eCompare,Ql=ql.operators.sqrtWithErr,Xl=ql.operators.divWithErr,Ul=ql.operators.ddSqrt,Kl=Yl.eDiff,Jl=Yl.expansionProduct,Zl=Yl.scaleExpansion2,ta=Gl.twoDiff,na=Gl.twoSum,ea=Gl.ddNegativeOf,ra=Gl.ddAddDd,oa=Gl.ddMultBy2,ia=Gl.ddDivDd,ua=Yl.fastExpansionSum,sa=Yl.growExpansion,ca=2*Number.EPSILON,fa=Math.abs,la=(0,Ll.γ)(1);function aa(t,n){const{collinear:e,realOrder:o,nodeType:i}=hi(t);if(e||o<=1)return[[t[0],t[3]]];if(2===o)return[Ei(t)];const u=[];if(t[0][0]===t[3][0]&&t[0][1]===t[3][1])u.push([0,.5],[.5,1]);else if("cusp"===i){const n=(0,r.bezierSelfIntersection)(t)[0];u.push([0,n],[n,1])}else if("crunode"===i){const n=(0,r.bezierSelfIntersection)(t);n.length>1?u.push([0,n[0]],[n[0],n[1]],[n[1],1]):u.push([0,1])}else u.push([0,1]);const s=[];for(;0!==u.length;){const e=u.pop(),[r,o]=e,i=Gr(t,r,o).ps,c=Ei(i),f=o-r;if(void 0===c||f*Fl(c,i)>n){const t=(o+r)/2;u.push([r,t],[t,o])}else s.push(c)}return s.reverse()}function ha(t){let n=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;for(const i of t){const t=i[0],u=i[1];t<n&&(n=t),t>e&&(e=t),u<r&&(r=u),u>o&&(o=u)}return[[n,r],[e,o]]}function va(t,n){let e;if(4===t.length)e=function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=r[0],f=r[1],l=o[0],a=o[1],h=i[0],v=i[1],g=n[0],d=n[1],p=u-g,b=c-g,m=l-g,I=h-g,E=s-d,N=f-d,_=a-d,M=v-d,x=p*p,S=6*p*b,T=6*m*I,B=E*E,y=6*E*N,w=6*_*M,z=6*b*I+9*m*m,O=2*p*I+18*b*m,P=6*p*m+9*b*b,D=6*N*M+9*_*_,F=2*E*M+18*N*_,C=6*E*_+9*N*N;return[6*(I*I-T+(x-S)+z+(P-O)+(M*M-w+(B-y)+D+(C-F))),5*(T+5*S+3*O-2*(z+2*P+3*x)+(w+5*y+3*F-2*(D+2*C+3*B))),4*(z-3*(O-2*P)-5*(2*S-3*x)+(D-3*(F-2*C)-5*(2*y-3*B))),3*(O-2*(2*P-5*(S-2*x))+(F-2*(2*C-5*(y-2*B)))),2*(P-5*(S-3*x)+(C-5*(y-3*B))),S-6*x+(y-6*B)]}(t,n);else if(3===t.length)e=function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],u=e[1],s=r[0],c=r[1],f=o[0],l=o[1],a=n[0],h=n[1],v=i-a,g=s-a,d=f-a,p=u-h,b=c-h,m=l-h,I=v*v,E=v*g,N=g*d,_=p*p,M=p*b,x=b*m,S=p*m+b*b*2,T=v*d+g*g*2;return[m*m+_+2*S-4*(x+M)+(d*d+I+2*T-4*(N+E)),3*(x-S+(3*M-_)+(N-T+(3*E-I))),S-3*(2*M-_)+(T-3*(2*E-I)),M-_+(E-I)]}(t,n);else{if(2!==t.length)throw new Error("The given bezier curve is invalid.");e=function(t,n){const[[e,r],[o,i]]=t,[u,s]=n,c=e-u,f=o-u,l=r-s,a=i-s,h=c*f+l*a,v=l*l+c*c;return[f*f+a*a+(v-2*h),h-v]}(t,n)}const r=$e(e,0,1);r.push(0),r.push(1);let o,i=Number.POSITIVE_INFINITY;for(const e of r){const r=Or(t,e),u=ir(r,n);u<i&&(i=u,o={p:r,t:e})}return o}exports.bezierSelfIntersection=function(t,n){var e;if(void 0===n&&(n=!0),t.length<4)return[];var r=(0,Cl.getCoeffsBez3WithRunningError)(t),o=r.coeffs,i=o[0],u=o[1],s=o[2],c=r.errBound,f=c[0],l=c[1],a=c[2];if(fa(i)<=f){var h=t[0],v=h[0],g=h[1],d=t[1],p=d[0],b=d[1],m=t[2],I=m[0],E=m[1],N=t[3],_=N[0],M=N[1],x=ua(ta(_,v),Zl(3,ta(p,I))),S=sa(na(I,v),-2*p),T=ua(ta(M,g),Zl(3,ta(b,E))),B=sa(na(E,g),-2*b),y=Jl(S,T),w=Jl(x,B);if(0===jl(y,w))return[]}var z=u*u,O=4*i*s,P=z-O,D=2*l*fa(u)+la*z+(4*(f*fa(s)+fa(i)*a)+la*fa(O))+la*fa(P);if(P<-D)return[];if(P>D){var F,C=Ql(P,D),A=C.est,L=l+C.err+la*fa(F=u>=0?-u-A:-u+A),V=Xl(F,2*i,L,2*f),q=V.est,Y=V.err,G=Xl(2*s,F,2*a,L),k=G.est,R=G.err;if(n){if(q+Y<0||q-Y>1||k+R<0||k-R>1)return[]}else if((q+Y<0||q-Y>1)&&(k+R<0||k-R>1))return[]}var $=(0,Al.getCoeffsBez3Exact)(t),H=$[0],W=$[1],j=$[2],Q=Kl(Jl(W,W),Zl(4,Jl(H,j))),X=kl(Q);if(X<0)return[];if(X>0){A=Ul($l(Q)),H=$l(H),W=$l(W),j=$l(j);var U;U=kl(W)>=0?ea(ra(W,A)):ra(ea(W),A);var K=Wl(ia(U,oa(H))),J=Wl(ia(oa(j),U));if(n){if(K<-ca||K>1+ca||J<-ca||J>1+ca)return[]}else if((K<-ca||K>1+ca)&&(J<-ca||J>1+ca))return[];return J=(e=K<J?[K,J]:[J,K])[1],(K=e[0])>=0-ca&&K<=1+ca?J>=0-ca&&J<=1+ca?[K,J]:[K]:J>=0-ca&&J<=1+ca?[J]:[]}var Z=Hl(H);if(kl(W)*kl(Z)<0)return[];if(jl(Rl(W),Rl(Z))>0)return[];var tt=$l(W),nt=$l(Z),et=ia(tt,nt),rt=et[1]+et[0];return[rt,rt]};const ga="undefined"!=typeof globalThis&&globalThis.__debug__?globalThis.__debug__:void 0,da=Math.min,pa=Math.max,ba=Math.abs,ma=Number.EPSILON,Ia=ma/2,Ea=1-ma,Na=1+ma,_a=[0,1];function Ma(t,n,e){if(0===t){if(0===n){if(0===e)return;return[]}const t=-e/n,r=ba(t*Ia),o=t-r,i=t+r;return i<0||o>1?[]:o<0&&i>0?[0,i]:o<1&&i>1?[o,1]:[o,i]}if(0===e){const e=-n/t,r=ba(e*Ia),o=e-r,i=e+r;return i<0||o>1?[0]:o<0&&i>0?[0,i]:o<1&&i>1?[0,o,1]:[0,o,i]}const r=n*n,o=4*t*e,i=r-o,u=r+ba(o),s=2*Ia*u;if(i+s<0)return[];if(i+s===0){const e=-n/(2*t),r=ba(e*Ia),o=e-r,i=e+r;return i<0||o>1?[]:o<0&&i>0?[0,i]:o<1&&i>1?[o,1]:[o,i]}const c=i-s<0?0:i-s,f=Math.sqrt(c)*Ea,l=Math.sqrt(i+s)*Na;let a,h;n>=0?(a=-n-l,h=-n-f):(h=-n+f,a=-n+l);const v=2*t,g=2*e;let d,p,b,m;a*v>=0?(d=h/v*Ea,p=a/v*Na):(d=a/v*Na,p=h/v*Ea),a*g>0?(b=g/a*Ea,m=g/h*Na):a*g<0&&(b=g/h*Na,m=g/a*Ea);const I=[];return p<0||d>1||I.push(d<0?0:d,p>1?1:p),m<0||b>1||I.push(b<0?0:b,m>1?1:m),I}const xa=pn,Sa=sn,Ta=Math.abs,Ba=Number.EPSILON/2,ya="undefined"!=typeof globalThis&&globalThis.__debug__?globalThis.__debug__:void 0,wa=function(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],u=r-i,s=o-e,c=Sa(xa(e,i),xa(o,r))[1],f=Ta(u),l=Ta(s),a=Ta(c);return function(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],h=u*e+s*r+c,v=16*Ba*(f*o+l*i+a);return{dMin:h-v,dMax:h+v}}},za=function(t,n,e,r){const o=t.ps,i=o.length,u=4===i?function(t){const n=t.ps,e=t._ps,r=n[0],o=n[1],i=n[2],u=n[3],s=r[0],c=r[1],f=o[0],l=o[1],a=i[0],h=i[1],v=u[0],g=u[1],d=e[0],p=e[1],b=e[2],m=e[3],I=d[0],E=d[1],N=p[0],_=p[1],M=b[0],x=b[1];return{hq:[[(3*f-s)/2,(3*l-c)/2],[(3*a-v)/2,(3*h-g)/2]],_hq:[[(3*N+I)/2,(3*_+E)/2],[(3*M+m[0])/2,(3*x+m[1])/2]]}}(t):{hq:[o[1],o[1]],_hq:[[0,0],[0,0]]},s=u.hq,c=u._hq,f=t._ps,l=n(o[0],f[0]),a=n(o[i-1],f[i-1]),h=n(s[0],c[0]),v=n(s[1],c[1]),g=da(h.dMin,v.dMin),d=pa(h.dMax,v.dMax);if(void 0!==ga&&!ga.already){const n=ga.currentIter;n.hq=[t.ps[0],...s,t.ps[i-1]],n.geo?n.geoPerp={dH0:l,dH10:h,dH11:v,dH2:a,dMin:e,dMax:r}:n.geo={dH0:l,dH10:h,dH11:v,dH2:a,dMin:e,dMax:r}}const p=l.dMin,b=l.dMax,m=a.dMin,I=a.dMax,E=p-2*g+m,N=-2*(p-g),_=p-e,M=p-r,x=b-2*d+I,S=-2*(b-d),T=b-e,B=b-r;let y=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY;const z=Ma(E,N,_),O=Ma(E,N,M),P=Ma(x,S,T),D=Ma(x,S,B);if(void 0===z||void 0===O||void 0===P||void 0===D)return _a;for(let t=0;t<z.length;t++){const n=z[t];n<y&&(y=n),n>w&&(w=n)}for(let t=0;t<O.length;t++){const n=O[t];n<y&&(y=n),n>w&&(w=n)}for(let t=0;t<P.length;t++){const n=P[t];n<y&&(y=n),n>w&&(w=n)}for(let t=0;t<D.length;t++){const n=D[t];n<y&&(y=n),n>w&&(w=n)}return b>=e&&p<=r&&(y=0),I>=e&&m<=r&&(w=1),y!==Number.POSITIVE_INFINITY?[y,w]:void 0},Oa=Dl,Pa=ur,Da=nr,Fa=function(t,n){let e=n/Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[e*t[0],e*t[1]]};function Ca(t,n,e,r){let o=Pa(t,n),i=[-o[1],o[0]];const u=t[0],s=t[1],c=n[0];let f=s-n[1],l=c-u,a=Math.sqrt(f**2+l**2),h=Fa(i,e/a),v=Fa(i,r/a);return{psBase:[t,n],psMin:[Da(t,h),Da(n,h)],psMax:[Da(t,v),Da(n,v)]}}const Aa="undefined"!=typeof globalThis&&globalThis.__debug__?globalThis.__debug__:void 0,La=function(t){const n=t.F,e=t.G,r=t.fRange,o=t.gRange,i=r[0],u=r[1],s=o[0],c=o[1],f=Oa(n,i,u),l=Oa(e,s,c),a=f.ps,h=f._ps;void 0===ya||ya.already||(ya.currentIter.F_=f,ya.currentIter.G_=l);const v=a.length;let g=a[0],d=a[v-1],p=wa(g,d),b=p(a[0],h[0]),m=p(a[1],h[1]),I=p(a[2],h[2]),E=4===v?p(a[3],h[3]):{dMin:0,dMax:0},N=4===v?3/4:.5;const _=N*Math.min(0,b.dMin,m.dMin,I.dMin,E.dMin),M=N*Math.max(0,b.dMax,m.dMax,I.dMax,E.dMax);void 0===ya||ya.already||(ya.currentIter.fatline=Ca(g,d,_,M));const x=za(l,p,_,M),S=t.last;if(void 0===x)return[];let T=x[0],B=x[1];if(!S&&B-T>.7&&!function(){const t=g[0],n=g[1],e=d[0],r=[t+n-d[1],n+e-t];let o=wa(g,r),i=o(a[0],h[0]),u=o(a[1],h[1]),s=o(a[2],h[2]),c=4===v?o(a[3],h[3]):{dMin:0,dMax:0};const f=Math.min(0,i.dMin,u.dMin,s.dMin,c.dMin),p=Math.max(0,i.dMax,u.dMax,s.dMax,c.dMax);void 0===ya||ya.already||(ya.currentIter.fatlinePerp=Ca(g,r,f,p));const b=za(l,o,f,p);if(void 0===b)return!1;const m=b[0],I=b[1];return T=Math.max(T,m),B=Math.min(B,I),!0}())return[];if(!S&&B-T>.7)return function(){const t=c-s,f=u-i;if(t>=f){const o=s+t/2+1-1,i={F:n,G:e,fRange:r,gRange:[s,o],last:S},u={F:n,G:e,fRange:r,gRange:[o,c],last:S};return void 0===ya||ya.already||(i.parent=ya.currentIter,u.parent=ya.currentIter,ya.currentIter.children=[u,i]),[u,i]}const l=i+f/2+1-1,a={F:n,G:e,fRange:[i,l],gRange:o,last:S},h={F:n,G:e,fRange:[l,u],gRange:o,last:S};return void 0===ya||ya.already||(a.parent=ya.currentIter,h.parent=ya.currentIter,ya.currentIter.children=[h,a]),[h,a]}();const y=c-s,w={F:e,G:n,fRange:[s+T*y+1-1,s+B*y+1-1],gRange:r,last:S};return void 0===ya||ya.already||(w.parent=ya.currentIter,ya.currentIter.children=[w]),[w]},Va=Tl,qa=Math.min,Ya=Math.max,Ga=Math.abs,ka=2**-33,Ra=2**-43;function $a(t,n){if(t.length<=2||n.length<=2)return Ha(t,n);let e=[],r={F:t,G:n,fRange:[0,1],gRange:[0,1],last:void 0},o=[r];void 0===Aa||Aa.already||(Aa.tree=r);let i=0;for(;0!==o.length&&i<60;){i++;const r=o.pop();void 0===Aa||Aa.already||(Aa.currentIter=r,r.uid=Aa.uid++);let u=La(r);if(1===u.length){const i=u[0],s=i.fRange,c=Ga(s[1]-s[0]);if(i.last){const o=i.last.fRange;if(c>ka)return Ha(t,n);e.push(r.F===n?[s,o]:[o,s])}else c<ka&&(void 0===Aa||Aa.already||(i.foundX=!0),c<Ra&&(s[0]=Ya(0,s[0]-Ra),s[1]=qa(1,s[1]+Ra)),i.last=i),o.push(i)}else 2===u.length&&o.push(u[0],u[1])}return 60===i?(void 0!==Aa&&Aa.maxItersCount++,Ha(t,n)):(void 0!==Aa&&(Aa.already=!0),e.sort(((t,n)=>t[0][0]-n[0][0])),function(t){let n=!0;for(;n;){n=!1;for(let e=1;e<t.length;e++){const r=t[e-1][0],o=t[e][0];if(r[1]>=o[0]){const i=t[e-1][1],u=t[e][1],s=i[0],c=i[1],f=u[0],l=u[1];if(s<=l&&c>=f||f<=c&&l>=s){n=!0;const i=qa(s,c,f,l),u=Ya(s,c,f,l),a=r[0],h=r[1],v=o[0],g=o[1],d=[[qa(a,h,v,g),Ya(a,h,v,g)],[i,u]];t.splice(e-1,2,d);break}}}}}(e),e)}function Ha(t,n){const e=Va(t,n);if(void 0!==e)return e.map((t=>{const n=t[0].ri,e=t[1].ri;return[[n.tS,n.tE],[e.tS,e.tE]]}))}function Wa(t){return(n,e)=>{let[[r,o],[i,u]]=n,[[s,c],[f,l]]=e;return o>u&&([o,u]=[u,o]),c>l&&([c,l]=[l,c]),r>i&&([r,i]=[i,r]),s>f&&([s,f]=[f,s]),t?r<=f&&i>=s&&c<=u&&l>=o:r<f&&i>s&&c<u&&l>o}}const ja=Or,Qa=Df,Xa=Zr(1);function Ua(t,n){const e=ja(t,n),r=Qa(t,[0,n]);if(4===t.length)return{p:e,pE:r.map((t=>9*Xa*t))};if(3===t.length)return{p:e,pE:r.map((t=>6*Xa*t))};if(2===t.length)return{p:e,pE:r.map((t=>3*Xa*t))};if(1===t.length)return{p:t[0],pE:[0,0]};throw new Error("The given bezier curve is invalid.")}const Ka=hn,Ja=un,Za=sn,th=dn,nh=on;function eh(t,n){if(0===n[0]&&0===n[1])return t[0].map((t=>[t]));if(0===n[0]&&1===n[1])return t[t.length-1].map((t=>[t]));if(4===t.length){const[[e,r],[o,i],[u,s],[c,f]]=t,l=nh(Ka(th(o,e),n),e),a=nh(Ka(th(u,o),n),o),h=nh(Ka(th(c,u),n),u),v=Ja(l,Ka(Za(a,l),n)),g=Ja(a,Ka(Za(h,a),n)),d=Ja(v,Ka(Za(g,v),n)),p=nh(Ka(th(i,r),n),r),b=nh(Ka(th(s,i),n),i),m=nh(Ka(th(f,s),n),s),I=Ja(p,Ka(Za(b,p),n)),E=Ja(b,Ka(Za(m,b),n));return[d,Ja(I,Ka(Za(E,I),n))]}if(3===t.length){const[[e,r],[o,i],[u,s]]=t,c=Ja([0,e],Ka(th(o,e),n)),f=Ja([0,o],Ka(th(u,o),n)),l=Ja(c,Ka(Za(f,c),n)),a=Ja([0,r],Ka(th(i,r),n)),h=Ja([0,i],Ka(th(s,i),n));return[l,Ja(a,Ka(Za(h,a),n))]}if(2===t.length){const[[e,r],[o,i]]=t;return[nh(Ka(th(o,e),n),e),nh(Ka(th(i,r),n),r)]}throw new Error("The given bezier curve is invalid.")}const rh=eh,oh=Df,ih=to(3);function uh(t,n){const e=rh(t,n),r=oh(t,n);if(4===t.length)return{p:e,pE:r.map((t=>18*ih*t))};if(3===t.length)return{p:e,pE:r.map((t=>12*ih*t))};if(2===t.length)return{p:e,pE:r.map((t=>6*ih*t))};if(1===t.length)return{p:[t[0]],pE:[0,0]};throw new Error("The given bezier curve is invalid.")}const sh=pn,ch=un,fh=sn,lh=Math.PI,ah=Math.asin,hh=Math.acos;function vh(t,n){if(0===(0===t[0]&&t[1])||0===n[0]&&n[1])return 0;const e=rr(t),r=rr(n);let o=fh(sh(e[0],r[1]),sh(e[1],r[0]))[1],i=ch(sh(e[0],r[0]),sh(e[1],r[1]))[1];return o<-1&&(o=-1),o>1&&(o=1),i<-1&&(i=-1),i>1&&(i=1),i>=0?o>=0?i<=.5?+hh(i):ah(o):i<=.5?-hh(i):ah(o):o>=0?i>=-.5?+hh(i):+lh-ah(o):i>=-.5?-hh(i):-lh-ah(o)}function gh(t){if(t.length<4)return[];const[[n,e],[r,o],[i,u],[s,c]]=t,f=r-n,l=o-e,a=i-r-f,h=u-o-l,v=s-i-f-2*a,g=c-u-l-2*h;return $e([a*g-h*v,f*g-l*v,f*h-l*a],0,1)}Math.abs;const dh=Math.PI,ph=Math.abs;function bh(t,n=[0,1]){if(t.length<=3)return ph(mh(t,n));if(4===t.length){const[e,r]=n;if(e===r)return 0;const o=Gr(t,e,r).ps,i=[0,...gh(o),1];let u=0;for(let t=0;t<i.length-1;t++)u+=ph(mh(o,[i[t],i[t+1]]));return u}throw new Error("Only bezier curves of order <= 3 are supported")}function mh(t,n=[0,1]){if(t.length<=2)return 0;const[e,r]=n;if(e===r)return 0;if(3===t.length){const n=gr(t,e,r).ps,[[o,i],[u,s],[c,f]]=n;return vh([u-o,s-i],[c-u,f-s])}if(4===t.length){const n=Gr(t,e,r).ps,o=hi(n),[[i,u],[s,c],[f,l],[a,h]]=n,v=[s-i,c-u],g=[f-s,l-c],d=[a-f,h-l];if(0===g[0]&&0===g[1]||o.realOrder<=2)return vh(v,d);const p=vh(v,g)+vh(g,d);return"acnode"===o.nodeType||"cusp"===o.nodeType?p<=-dh?p+2*dh:p>=+dh?p-2*dh:p:p}throw new Error("Only bezier curves of order <= 3 are supported")}function Ih(t){return t.slice().reverse()}const Eh=dn,Nh=nn,_h=un,Mh=on,xh=bn;function Sh(t){const[[n,e],[r,o],[i,u],[s,c]]=t;return[[_h(Eh(s,n),Nh(3,Eh(r,i))),Nh(3,Mh(xh(i,n),-2*r)),Nh(3,Eh(r,n)),n],[_h(Eh(c,e),Nh(3,Eh(o,u))),Nh(3,Mh(xh(u,e),-2*o)),Nh(3,Eh(o,e)),e]]}function Th(t){const[[n,e],[r,o],[i,u]]=t;return[[Mh(xh(i,n),-2*r),Eh(2*r,2*n),n],[Mh(xh(u,e),-2*o),Eh(2*o,2*e),e]]}function Bh(t){const[[n,e],[r,o]]=t;return[[Eh(r,n),n],[Eh(o,e),e]]}const yh=gn,wh=cn,zh=ln,Oh=nn,Ph=hn,Dh=sn,Fh=un;function Ch(t){const[[n,e,r,o],[i,u,s,c]]=Sh(t),f=Ph(n,s),l=Ph(r,i),a=Ph(n,u),h=Ph(e,i),v=Ph(n,n),g=Ph(i,i),d=Dh(Oh(c,n),Oh(o,i)),p=Dh(f,l),b=Dh(a,h),m=Dh(Oh(c,e),Oh(o,u)),I=Dh(Ph(e,s),Ph(r,u)),E=Dh(Oh(c,r),Oh(o,s)),N=wh(p),_=Ph(d,d),M=Ph(d,I),x=Ph(N,m),S=Ph(b,m),T=Dh(Oh(-3,d),I),B=Ph(yh(i),g),y=Ph(Oh(3,n),g),w=Ph(Oh(-3,i),v),z=Ph(n,v),O=Fh(Fh(Ph(T,g),Ph(b,Dh(Ph(s,i),Ph(u,u)))),Ph(N,Ph(u,i))),P=Fh(Fh(Ph(T,v),Ph(b,Dh(Ph(r,n),Ph(e,e)))),Ph(N,Ph(e,n))),D=wh(Dh(Ph(b,Dh(Ph(e,u),zh(Fh(l,f)))),Fh(Ph(T,Ph(n,i)),Ph(p,Fh(h,a))))),F=Fh(Dh(Oh(-3,_),wh(M)),Fh(x,Ph(b,E))),C=wh(Dh(Ph(d,p),S)),A=Fh(Dh(Ph(d,b),Ph(p,p)),Ph(b,I));return{vₓₓₓ:B,vₓₓᵧ:y,vₓᵧᵧ:w,vᵧᵧᵧ:z,vₓₓ:O,vₓᵧ:D,vᵧᵧ:P,vₓ:Fh(Ph(i,F),Fh(Ph(u,C),Ph(s,A))),vᵧ:yh(Fh(Ph(n,F),Fh(Ph(e,C),Ph(r,A)))),v:Fh(Ph(d,Dh(Dh(x,_),M)),Dh(Ph(A,E),Ph(S,m)))}}const Ah=gn,Lh=cn,Vh=nn,qh=hn,Yh=sn;function Gh(t){const[[n,e,r],[o,i,u]]=Th(t),s=Yh(qh(n,i),qh(e,o)),c=Yh(Vh(u,n),Vh(r,o)),f=Yh(Vh(u,e),Vh(r,i));return{vₓₓ:Ah(qh(o,o)),vₓᵧ:Lh(qh(n,o)),vᵧᵧ:Ah(qh(n,n)),vₓ:Yh(qh(i,s),Lh(qh(o,c))),vᵧ:Yh(Lh(qh(n,c)),qh(e,s)),v:Yh(qh(s,f),qh(c,c))}}function kh(t){const[[n,e],[r,o]]=Ke(t);return{vₓ:-r,vᵧ:n,v:e*r-n*o}}const Rh=sn,$h=nn,Hh=gn;function Wh(t){const[[n,e],[r,o]]=Bh(t);return{vₓ:Hh(r),vᵧ:n,v:Rh($h(e,r),$h(o,n))}}const jh=Math.abs;function Qh(t){const[n,e]=t[0],[[r],[o]]=tc(t);return{vₓ_:o,vᵧ_:r,v_:jh(n)*o+jh(e)*r}}function Xh(t){return t.map((t=>t.map((t=>[t]))))}const Uh=N;function Kh(t){return t.map((t=>t.map((t=>Uh(t)))))}function Jh(t){const n=t[0].length;if(4===n){const[[n,e,r,o],[i,u,s,c]]=t;return[[o,c],[o+r/3,c+s/3],[o+2*r/3+e/3,c+2*s/3+u/3],[o+r+e+n,c+s+u+i]]}if(3===n){const[[n,e,r],[o,i,u]]=t;return[[r,u],[r+e/2,u+i/2],[r+e+n,u+i+o]]}if(2===n){const[[n,e],[r,o]]=t;return[[e,o],[e+n,o+r]]}if(1===n){const[[n],[e]]=t;return[[n,e]]}throw new Error("The given bezier curve is invalid.")}function Zh(t){if(4===t.length){const[[n,e],[r,o],[i,u],[s,c]]=t;return[[3*(r-n),3*(o-e)],[3*(i-r),3*(u-o)],[3*(s-i),3*(c-u)]]}if(3===t.length){const[[n,e],[r,o],[i,u]]=t;return[[2*(r-n),2*(o-e)],[2*(i-r),2*(u-o)]]}if(2===t.length){const[[n,e],[r,o]]=t;return[[r-n,o-e]]}}function tv(t,n,e){const[r,o]=t,[i,u]=n,[s,c]=e;return[t,[-(4*r-4*i-s-2*r)/3,-(4*o-4*u-c-2*o)/3],[-(4*r-4*i+2*s-5*r)/3,-(4*o-4*u+2*c-5*o)/3],e]}function nv(t,n,e,r){const[o,i]=t,[u,s]=n,[c,f]=e,[l,a]=r,h=3*(c+o-2*u),v=3*(u-o),g=3*(f+i-2*s),d=3*(s-i),p=g*(v*g-h*d),b=-h*(v*g-h*d),m=d**2+d*g*l+g**2*l**2,I=-2*v*d+-v*g*l+-h*d*l+-2*h*g*l**2,E=v**2+v*h*l+h**2*l**2,N=d**2+d*g*a+g**2*a**2,_=-2*v*d+-v*g*a+-h*d*a+-2*h*g*a**2,M=v**2+v*h*a+h**2*a**2,x=m*(M*(m*M-I*_-2*E*N)+E*_*_)+N*(I*(I*M-E*_)+E*E*N);return[[o,i],[u,s],[c,f],[-(p*(M*(2*(m*(M-E)-E*N)-I*(_-I))+E*(2*E*N-_*(I-_)))+b*(m*(2*E*_-M*(I+_))+N*(2*I*M-E*(I+_))))/x+o-3*(u-c),-(p*(m*(_*(2*E-M)-I*M)+N*(I*(2*M-E)-E*_))+b*(m*(2*(M*(m-N)-E*N)-_*(I-_))+N*(2*E*N+I*(I-_))))/x+i-3*(s-f)]]}function ev(t,n,e){const[[r,o],[i,u],,[s,c]]=t,[f,l]=n;return[[r,o],[i,u],[(e**3*(3*i-r+s)+3*e**2*(r-2*i)-3*e*(r-i)-f+r)/(3*e**2*(e-1)),(e**3*(3*u-o+c)+3*e**2*(o-2*u)-3*e*(o-u)-l+o)/(3*e**2*(e-1))],[s,c]]}function rv(t){if(4===t.length){const[[n,e],[r,o],[i,u],[s,c]]=t;return[[6*(s-n+3*(r-i)),6*(i+n-2*r)],[6*(c-e+3*(o-u)),6*(u+e-2*o)]]}if(3===t.length){const[[n,e],[r,o],[i,u]]=t;return[[2*(i-2*r+n)],[2*(u-2*o+e)]]}if(2===t.length||1===t.length)return[[0],[0]];throw new Error("The given bezier curve must be of order 0, 1, 2 or 3.")}function ov(t){if(4===t.length){const[n,e]=t[2],[r,o]=t[3];return[3*(r-n),3*(o-e)]}if(3===t.length){const[n,e]=t[1],[r,o]=t[2];return[2*(r-n),2*(o-e)]}if(2===t.length){const[[n,e],[r,o]]=t;return[r-n,o-e]}if(1===t.length)return[0,0];throw new Error("The given bezier curve is invalid.")}function iv(t){if(4===t.length){const[,[n,e],[r,o],[i,u]]=t;return[6*(i+n-2*r),6*(u+e-2*o)]}if(3===t.length){const[[n,e],[r,o],[i,u]]=t;return[2*(i+n-2*r),2*(u+e-2*o)]}if(2===t.length||1===t.length)return[0,0];throw new Error("The given bezier curve is invalid.")}function uv(t){if(4===t.length){const[[n,e],[r,o]]=t;return[3*(r-n),3*(o-e)]}if(3===t.length){const[[n,e],[r,o]]=t;return[2*(r-n),2*(o-e)]}if(2===t.length){const[[n,e],[r,o]]=t;return[r-n,o-e]}if(1===t.length)return[0,0];throw new Error("The given bezier curve is invalid.")}function sv(t){if(4===t.length){const[[n,e],[r,o],[i,u]]=t;return[6*(i+n-2*r),6*(u+e-2*o)]}if(3===t.length){const[[n,e],[r,o],[i,u]]=t;return[2*(i+n-2*r),2*(u+e-2*o)]}if(2===t.length||1===t.length)return[0,0];throw new Error("The given bezier curve is invalid.")}function cv(t){if(4===t.length){const[[n,e],[r,o],[i,u],[s,c]]=t;return[6*(s-n+3*(r-i)),6*(c-e+3*(o-u))]}if(3===t.length||2===t.length||1===t.length)return[0,0];throw new Error("The given bezier curve is invalid.")}function fv(t,n){const[e,r]=Je(t);function o(t){return[wn(e,t),wn(r,t)]}return void 0===n?o:o(n)}function lv(t,n){const[e,r]=Je(t);function o(t){return[wn(r,t),-wn(e,t)]}return void 0===n?o:o(n)}const av=Number.EPSILON/2;function hv(t,n){const e=(n-t)/(1-t),r=e+e*av,o=r+.5-.5;return o>=r?o:o+av}function vv(t,n){const[e,r]=Je(t),[o,i]=rv(t);function u(t){const n=wn(e,t),u=wn(r,t),s=wn(o,t);return(n*wn(i,t)-u*s)/Math.sqrt((n*n+u*u)**3)}return void 0===n?u:u(n)}const gv=vv;function dv(t){const n=ur(t[0],t[1]),e=ur(t[1],t[2]),r=ur(t[2],t[0]),o=tr(r,n)>0,i=tr(e,r)>0;return o||i}function pv(t,n){if(dv(t))return!1;const[[e,r],,[o,i]]=t;if(e===o&&r===i)return!0;const[u,s]=Or(t,.5),c=((i-r)*u-(o-e)*s+o*r-i*e)**2,f=ir(t[0],t[2]);return Math.abs(c/f)<n**2}function bv(t,n){const e=[];let r={ps:t,prev:void 0,next:void 0};for(e.push(r);e.length;){const t=e.pop();if(pv(t.ps,n))continue;const o=Mr(t.ps,.5),i=t.prev,u=t.next,s={ps:o[0],prev:i,next:void 0},c={ps:o[1],prev:void 0,next:u};s.next=c,c.prev=s,i&&(i.next=s),u&&(u.prev=c),r===t&&(r=s),e.push(s),e.push(c)}const o=[];let i=r;for(o.push(r.ps[0]);i;)o.push(i.ps[2]),i=i.next;return o}const mv=sn,Iv=mn,Ev=on,Nv=hn,_v=nn,Mv=un,xv=cn,Sv=en,Tv=rn,Bv=Number.EPSILON/2,yv=Bv*Bv,wv=Math.abs,zv=mv,Ov=[0,1],Pv=Ev,Dv=Mv,Fv=Nv,Cv=_v,Av=xv,Lv=Iv,Vv=Sv,qv=Tv,Yv=to(3);function Gv(t,n){return n[0]!==n[1]?4===t.length?function([[t,n],[e,r],[o,i],[u,s]],[c,f]){const l=zv(f,c),a=3*yv*wv(l[1]),h=zv(Ov,c),v=3*yv*wv(h[1]),g=Lv(l,h,a,v);f=Pv(g.est,g.err);const d=zv(Ov,c),p=Fv(c,c),b=Fv(c,d),m=Fv(d,d),I=Fv(p,c),E=Fv(p,d),N=Fv(m,c),_=Fv(m,d),M=zv(Ov,f),x=Fv(f,f),S=Fv(f,M),T=Fv(M,M),B=Fv(x,f),y=Fv(x,M),w=Fv(T,f),z=Fv(T,M),O=wv(c[1]),P=wv(d[1]),D=wv(p[1]),F=wv(b[1]),C=wv(m[1]),A=wv(I[1]),L=wv(E[1]),V=wv(N[1]),q=wv(_[1]),Y=wv(f[1]),G=wv(M[1]),k=wv(x[1]),R=wv(S[1]),$=wv(T[1]),H=wv(B[1]),W=wv(y[1]),j=wv(w[1]),Q=wv(z[1]);let X=wv(t),U=wv(n),K=wv(e),J=wv(r),Z=wv(o),tt=wv(i),nt=wv(u),et=wv(s);const rt=Dv(Cv(u,c),Cv(o,d)),ot=Dv(Dv(Cv(u,p),Cv(2*o,b)),Cv(e,m)),it=Dv(Dv(Cv(u,I),Cv(t,_)),Cv(3,Dv(Cv(o,E),Cv(e,N)))),ut=Dv(Fv(ot,f),Fv(it,M)),st=Dv(Dv(Fv(rt,x),Fv(it,T)),Fv(Av(ot),S)),ct=Dv(Dv(Cv(u,B),Fv(it,z)),Cv(3,Dv(Fv(rt,y),Fv(ot,w)))),ft=wv(it[1]),lt=nt*O+Z*P,at=nt*D+2*Z*F+K*C;X=nt*A+X*q+3*(Z*L+K*V),K=at*Y+ft*G,Z=lt*k+ft*$+2*at*R,nt=nt*H+ft*Q+3*(lt*W+at*j),X*=11*yv,K*=15*yv,Z*=20*yv,nt*=22*yv;const ht=Dv(Cv(s,c),Cv(i,d)),vt=Dv(Dv(Cv(s,p),Cv(2*i,b)),Cv(r,m)),gt=Dv(Dv(Cv(s,I),Cv(n,_)),Cv(3,Dv(Cv(i,E),Cv(r,N)))),dt=Dv(Fv(vt,f),Fv(gt,M)),pt=Dv(Dv(Fv(ht,x),Fv(gt,T)),Fv(Av(vt),S)),bt=Dv(Dv(Cv(s,B),Fv(gt,z)),Cv(3,Dv(Fv(ht,y),Fv(vt,w)))),mt=wv(gt[1]),It=et*O+tt*P,Et=et*D+2*tt*F+J*C;U=et*A+U*q+3*(tt*L+J*V),J=Et*Y+mt*G,tt=It*k+mt*$+2*Et*R,et=et*H+mt*Q+3*(It*W+Et*j),U*=11*yv,J*=15*yv,tt*=20*yv,et*=22*yv;const Nt=Vv(Vv(Pv(it,-X),Pv(ut,-K)),Vv(Pv(st,-Z),Pv(ct,-nt))),_t=qv(qv(Pv(it,+X),Pv(ut,+K)),qv(Pv(st,+Z),Pv(ct,+nt)));return[[Nt,Vv(Vv(Pv(gt,-U),Pv(dt,-J)),Vv(Pv(pt,-tt),Pv(bt,-et)))],[_t,qv(qv(Pv(gt,+U),Pv(dt,+J)),qv(Pv(pt,+tt),Pv(bt,+et)))]]}(t,n):3===t.length?function([[t,n],[e,r],[o,i]],[u,s]){const c=zv(s,u),f=3*yv*wv(c[1]),l=zv(Ov,u),a=3*yv*wv(l[1]),h=Lv(c,l,f,a);s=Pv(h.est,h.err);const v=zv(Ov,u),g=Fv(u,u),d=Fv(u,v),p=Fv(v,v),b=zv(Ov,s),m=Fv(s,s),I=Fv(s,b),E=Fv(b,b),N=wv(u[1]),_=wv(v[1]),M=wv(g[1]),x=wv(d[1]),S=wv(p[1]),T=wv(s[1]),B=wv(b[1]),y=wv(m[1]),w=wv(I[1]),z=wv(E[1]);let O=wv(t),P=wv(n),D=wv(e),F=wv(r),C=wv(o),A=wv(i);const L=Dv(Dv(Cv(o,g),Cv(2*e,d)),Cv(t,p)),V=Dv(Cv(o,u),Cv(e,v)),q=L,Y=Dv(Fv(s,V),Fv(b,L)),G=Dv(Dv(Cv(o,m),Fv(Av(I),V)),Fv(E,L)),k=C*M+2*D*x+O*S,R=C*N+D*_;O=k,D=T*R+B*k,C=y*o+2*w*R+z*k,O*=7*yv,D*=11*yv,C*=14*yv;const $=Dv(Dv(Cv(i,g),Cv(2*r,d)),Cv(n,p)),H=Dv(Cv(i,u),Cv(r,v)),W=$,j=Dv(Fv(s,H),Fv(b,$)),Q=Dv(Dv(Cv(i,m),Fv(Av(I),H)),Fv(E,$)),X=A*M+2*F*x+P*S,U=A*N+F*_;P=X,F=T*U+B*X,A=y*i+2*w*U+z*X,P*=7*yv,F*=11*yv,A*=14*yv;const K=Vv(Vv(Pv(q,-O),Pv(Y,-D)),Pv(G,-C)),J=qv(qv(Pv(q,+O),Pv(Y,+D)),Pv(G,+C));return[[K,Vv(Vv(Pv(W,-P),Pv(j,-F)),Pv(Q,-A))],[J,qv(qv(Pv(W,+P),Pv(j,+F)),Pv(Q,+A))]]}(t,n):function([[t,n],[e,r]],[o,i]){const u=zv(i,o),s=3*yv*wv(u[1]),c=zv(Ov,o),f=3*yv*wv(c[1]),l=Lv(u,c,s,f);i=Pv(l.est,l.err);const a=zv(Ov,o),h=zv(Ov,i),v=wv(o[1]),g=wv(a[1]),d=wv(i[1]),p=wv(h[1]);let b=wv(t),m=wv(n),I=wv(e),E=wv(r);const N=Dv(Cv(e,o),Cv(t,a)),_=Dv(Cv(e,i),Fv(N,h));b=I*v+b*g,I=I*d+b*p,b*=3*Bv,I*=7*Bv;const M=Dv(Cv(r,o),Cv(n,a)),x=Dv(Cv(r,i),Fv(M,h));m=E*v+m*g,E=E*d+m*p,m*=3*Bv,E*=7*Bv;const S=Vv(Pv(N,-b),Pv(_,-I)),T=qv(Pv(N,+b),Pv(_,+I));return[[S,Vv(Pv(M,-m),Pv(x,-E))],[T,qv(Pv(M,+m),Pv(x,+E))]]}(t,n):function(t,n){const e=t[0],r=t[t.length-1];if(0===n[0]&&0===n[1]){const t=[0,e[0]],n=[0,e[1]];return[[t,n],[t,n]]}if(0===n[0]&&1===n[1]){const t=[0,r[0]],n=[0,r[1]];return[[t,n],[t,n]]}const o=eh(t,n);let i;if(4===t.length)i=Df(t,n).map((t=>16*Yv*t));else if(3===t.length)i=Df(t,n).map((t=>10*Yv*t));else{if(2!==t.length)throw new Error("The given bezier curve is invalid.");i=Df(t,n).map((t=>4*Yv*t))}return[[Pv(o[0],-i[0]),Pv(o[1],-i[1])],[Pv(o[0],+i[0]),Pv(o[1],+i[1])]]}(t,n[0])}const kv=dn,Rv=un,$v=nn,Hv=hn,Wv=cn,jv=fn,Qv=sn,Xv=dn,Uv=un,Kv=nn,Jv=hn,Zv=cn,tg=sn,ng=fn,eg=pn,rg=un,og=an,ig=sn,ug=ut,sg=Bt,cg=S,fg=rt,lg=ot,ag=Tt,hg=P;function vg(t){const n=[];for(let e=0;e<t.length;e++)n.push(4*t[e]);return n}const gg=Math.abs,dg=N,pg=ut,bg=Bt,mg=Tt,Ig=Number.EPSILON,Eg=to(6);function Ng(t,n){const e=t.length-1;let r;if(3===e)r=ze(function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=r[0],f=r[1],l=o[0],a=o[1],h=i[0],v=i[1],[g,d]=n,p=kv(u,g),b=kv(c,g),m=kv(l,g),I=kv(h,g),E=kv(s,d),N=kv(f,d),_=kv(a,d),M=kv(v,d),x=Hv(p,p),S=$v(6,Hv(p,b)),T=$v(6,Hv(p,m)),B=Wv(Hv(p,I)),y=$v(9,Hv(b,b)),w=$v(18,Hv(b,m)),z=$v(6,Hv(b,I)),O=$v(9,Hv(m,m)),P=$v(6,Hv(m,I)),D=Hv(I,I),F=Hv(E,E),C=$v(6,Hv(E,N)),A=$v(6,Hv(E,_)),L=Wv(Hv(E,M)),V=$v(9,Hv(N,N)),q=$v(18,Hv(N,_)),Y=$v(6,Hv(N,M)),G=$v(9,Hv(_,_)),k=$v(6,Hv(_,M)),R=Hv(M,M),$=Rv(z,O),H=Rv(B,w),W=Rv(T,y),j=Rv(Y,G),Q=Rv(L,q),X=Rv(A,V);return[$v(6,Rv(Rv(Rv(Rv(Qv(D,P),Qv(x,S)),$),Qv(W,H)),Rv(Rv(Rv(Qv(R,k),Qv(F,C)),j),Qv(X,Q)))),$v(5,Rv(Qv(Rv(Rv(P,$v(5,S)),$v(3,H)),Wv(Rv(Rv($,Wv(W)),$v(3,x)))),Qv(Rv(Rv(k,$v(5,C)),$v(3,Q)),Wv(Rv(Rv(j,Wv(X)),$v(3,F)))))),jv(Rv(Qv(Qv($,$v(3,Qv(H,Wv(W)))),$v(5,Qv(Wv(S),$v(3,x)))),Qv(Qv(j,$v(3,Qv(Q,Wv(X)))),$v(5,Qv(Wv(C),$v(3,F)))))),$v(3,Rv(Qv(H,Wv(Qv(Wv(W),$v(5,Qv(S,Wv(x)))))),Qv(Q,Wv(Qv(Wv(X),$v(5,Qv(C,Wv(F)))))))),Wv(Rv(Qv(W,$v(5,Qv(S,$v(3,x)))),Qv(X,$v(5,Qv(C,$v(3,F)))))),Rv(Qv(S,$v(6,x)),Qv(C,$v(6,F)))]}(t,n),0,1,function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=gg(e[0]),s=gg(e[1]),c=gg(r[0]),f=gg(r[1]),l=gg(o[0]),a=gg(o[1]),h=gg(i[0]),v=gg(i[1]),g=gg(n[0]),d=gg(n[1]),p=u+g,b=c+g,m=l+g,I=h+g,E=s+d,N=f+d,_=a+d,M=v+d,x=p*p,S=6*p*b,T=6*m*I,B=E*E,y=6*E*N,w=6*_*M,z=6*b*I+9*m*m,O=2*p*I+18*b*m,P=6*p*m+9*b*b,D=6*N*M+9*_*_,F=2*E*M+18*N*_,C=6*E*_+9*N*N;return[6*(I*I+T+(x+S)+z+(P+O)+(M*M+w+(B+y)+D+(C+F))),5*(T+5*S+3*O+2*(z+2*P+3*x)+(w+5*y+3*F+2*(D+2*C+3*B))),4*(z+3*(O+2*P)+5*(2*S+3*x)+(D+3*(F+2*C)+5*(2*y+3*B))),3*(O+2*(2*P+5*(S+2*x))+(F+2*(2*C+5*(y+2*B)))),2*(P+5*(S+3*x)+(C+5*(y+3*B))),S+6*x+(y+6*B)]}(t,n).map((t=>10*Eg*t)),(()=>function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=r[0],f=r[1],l=o[0],a=o[1],h=i[0],v=i[1],[g,d]=n,p=ug(u,g),b=ug(c,g),m=ug(l,g),I=ug(h,g),E=ug(s,d),N=ug(f,d),_=ug(a,d),M=ug(v,d),x=sg(p,p),S=cg(6,sg(p,b)),T=cg(6,sg(p,m)),B=fg(sg(p,I)),y=cg(9,sg(b,b)),w=cg(18,sg(b,m)),z=cg(6,sg(b,I)),O=cg(9,sg(m,m)),P=cg(6,sg(m,I)),D=sg(I,I),F=sg(E,E),C=cg(6,sg(E,N)),A=cg(6,sg(E,_)),L=fg(sg(E,M)),V=cg(9,sg(N,N)),q=cg(18,sg(N,_)),Y=cg(6,sg(N,M)),G=cg(9,sg(_,_)),k=cg(6,sg(_,M)),R=sg(M,M),$=ag(z,O),H=ag(B,w),W=ag(T,y),j=ag(Y,G),Q=ag(L,q),X=ag(A,V),U=hg(ag(ag(D,x),ag($,W)),ag(ag(H,P),S)),K=hg(ag(ag(R,F),ag(j,X)),ag(ag(Q,k),C)),J=cg(6,ag(U,K)),Z=ag(lg(ag(ag($,fg(W)),cg(3,x))),ag(ag(P,cg(3,H)),cg(5,S))),tt=ag(lg(ag(ag(j,fg(X)),cg(3,F))),ag(ag(k,cg(3,Q)),cg(5,C))),nt=cg(5,ag(Z,tt)),et=ag(ag($,cg(3,hg(fg(W),H))),cg(5,hg(cg(3,x),fg(S)))),rt=ag(ag(j,cg(3,hg(fg(X),Q))),cg(5,hg(cg(3,F),fg(C)))),ot=cg(4,ag(et,rt)),it=hg(H,fg(hg(fg(W),cg(5,hg(S,fg(x)))))),ut=hg(Q,fg(hg(fg(X),cg(5,hg(C,fg(F)))))),st=cg(3,ag(it,ut)),ct=hg(W,cg(5,hg(S,cg(3,x)))),ft=hg(X,cg(5,hg(C,cg(3,F)))),lt=fg(ag(ct,ft)),at=hg(S,cg(6,x)),ht=hg(C,cg(6,F));return[J,nt,ot,st,lt,ag(at,ht)]}(t,n)));else if(2===e)r=ze(function(t,n){const[[e,r],[o,i],[u,s]]=t,[c,f]=n,l=Xv(e,c),a=Xv(o,c),h=Xv(u,c),v=Xv(r,f),g=Xv(i,f),d=Xv(s,f),p=Jv(l,l),b=Jv(l,a),m=Jv(l,h),I=Jv(a,a),E=Jv(a,h),N=Jv(h,h),_=Jv(v,v),M=Jv(v,g),x=Jv(v,d),S=Jv(g,g),T=Jv(g,d),B=Jv(d,d),y=Uv(x,Zv(S)),w=Uv(m,Zv(I));return[Uv(tg(Uv(Uv(B,_),Zv(y)),ng(Uv(T,M))),tg(Uv(Uv(N,p),Zv(w)),ng(Uv(E,b)))),Kv(3,Uv(Uv(tg(T,y),tg(Kv(3,M),_)),Uv(tg(E,w),tg(Kv(3,b),p)))),Uv(tg(y,Kv(3,tg(Zv(M),_))),tg(w,Kv(3,tg(Zv(b),p)))),Uv(tg(M,_),tg(b,p))]}(t,n),0,1,function(t,n){const e=t[0],r=t[1],o=t[2],i=gg(e[0]),u=gg(e[1]),s=gg(r[0]),c=gg(r[1]),f=gg(o[0]),l=gg(o[1]),a=gg(n[0]),h=gg(n[1]),v=i+a,g=s+a,d=f+a,p=u+h,b=c+h,m=l+h,I=v*v,E=v*g,N=g*d,_=p*p,M=p*b,x=b*m,S=p*m+b*b*2,T=v*d+g*g*2;return[m*m+_+2*S+4*(x+M)+(d*d+I+2*T+4*(N+E)),3*(x+S+(3*M+_)+(N+T+(3*E+I))),S+3*(2*M+_)+(T+3*(2*E+I)),M+_+(E+I)]}(t,n).map((t=>8*Eg*t)),(()=>function(t,n){const[[e,r],[o,i],[u,s]]=t,[c,f]=n,l=ug(e,c),a=ug(o,c),h=ug(u,c),v=ug(r,f),g=ug(i,f),d=ug(s,f),p=sg(l,l),b=sg(l,a),m=sg(l,h),I=sg(a,a),E=sg(a,h),N=sg(h,h),_=sg(v,v),M=sg(v,g),x=sg(v,d),S=sg(g,g),T=sg(g,d),B=sg(d,d),y=ag(x,fg(S)),w=ag(m,fg(I)),z=ag(hg(ag(N,fg(w)),vg(ag(E,b))),p),O=ag(hg(ag(B,fg(y)),vg(ag(T,M))),_),P=ag(z,O),D=ag(hg(E,w),hg(cg(3,b),p)),F=ag(hg(T,y),hg(cg(3,M),_)),C=cg(3,ag(D,F)),A=hg(y,cg(3,hg(fg(M),_))),L=hg(w,cg(3,hg(fg(b),p))),V=ag(A,L),q=hg(M,_),Y=hg(b,p);return[P,C,V,ag(q,Y)]}(t,n)));else if(1===e)r=ze(function(t,n){const[[e,r],[o,i]]=t,[u,s]=n,c=e-u,f=o-u,l=r-s,a=i-s,h=eg(c,c),v=eg(c,f),g=eg(f,f),d=eg(l,l),p=eg(l,a),b=eg(a,a),m=rg(v,p),I=rg(d,h);return[rg(rg(g,b),rg(I,og(m))),ig(m,I)]}(t,n),0,1,function(t,n){const e=t[0],r=t[1],o=gg(e[0]),i=gg(e[1]),u=gg(r[0]),s=gg(r[1]),c=gg(n[0]),f=gg(n[1]),l=o+c,a=u+c,h=i+f,v=s+f,g=l*a+h*v,d=h*h+l*l;return[a*a+v*v+2*g+d,g+d]}(t,n).map((t=>6*Eg*t)),(()=>function(t,n){const[[e,r],[o,i]]=t,[u,s]=n,c=ug(e,u),f=ug(o,u),l=ug(r,s),a=ug(i,s),h=sg(c,c),v=sg(c,f),g=sg(f,f),d=sg(l,l),p=sg(l,a),b=sg(a,a),m=ag(v,p),I=ag(d,h);return[ag(ag(g,b),ag(lg(m),I)),hg(m,I)]}(t,n)));else{if(0!==e)throw new Error("The given bezier curve is invalid.");r=[]}r.push({tS:0,tE:0,multiplicity:1}),r.push({tS:1,tE:1,multiplicity:1});const o=r.map((e=>{const r=Vf(t,[e.tS,e.tE]);return{di:_g(r,n),intervalBox:r,ri:e}}));let i=Number.POSITIVE_INFINITY;for(let t=0;t<o.length;t++){const n=o[t].di[1];n<i&&(i=n)}const u=[];for(let t=0;t<o.length;t++){const n=o[t];n.di[0]<=i&&u.push(n)}return u}function _g(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],u=r[0],s=r[1],c=n[0],f=n[1];let l=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;for(const[t,n]of[[o,i],[o,s],[u,i],[u,s]]){const e=pg(t,c),r=pg(n,f),o=mg(bg(e,e),bg(r,r)),i=dg(o),u=i*(1-Ig),s=i*(1+Ig);u<=l&&(l=u),s>=a&&(a=s)}return[l,a]}function Mg(t){let n=0;for(let e=0;e<t.length-1;e++)n+=or(t[e],t[e+1]);return n}function xg(t,n){const e=[0,1],r=[[0,1]],o=Pr(t);for(;r.length;){const t=r.pop();if(Mg(o(t[0],t[1]))>n){const n=(t[0]+t[1])/2;r.push([t[0],n]),r.push([n,t[1]]),e.push(n)}}return e.sort(((t,n)=>t-n)),e}function Sg(t,n,e){let r=xg(t,e),o=[];for(let e=0;e<r.length;e++){let i=Or(t,r[e]),u=va(n,i);o.push({p1:i,p2:u.p,d:or(i,u.p)})}return o}function Tg(t,n,e){let r=Sg(t,n,e),o=Number.NEGATIVE_INFINITY;for(let t of r)t.d>o&&(o=t.d);return o}function Bg(t){if(po(t))return{minima:[],maxima:[],inflections:[]};if(4===t.length&&vo(t)&&(t=Ei(t)),3===t.length){const n=function(t){const[[n,e],[r,o],[i,u]]=t,s=i-r,c=s-(r-n),f=u-o,l=f-(o-e);return[c*c+l*l,-(n*(c-r)-r*(s-r)+e*(l-o)-o*(f-o))]}(t);return{minima:[],maxima:$e(n,0,1),inflections:[]}}const n=function(t){const[[n,e,r],[o,i,u]]=Je(t),[[s,c],[f,l]]=rv(t),[a,h]=cv(t),v=a*i,g=h*e,d=c*u,p=c*i,b=f*f,m=s*u,I=l*r,E=l*e,N=f*r,_=r*e,M=r*n,x=r*o,S=e*e,T=e*n,B=e*i,y=n*u,w=n*o,z=n*n,O=u*i,P=u*o,D=i*i,F=i*o,C=o*o,A=a*u-h*r,L=c*r+l*u,V=d-I,q=r*r+u*u,Y=B+y,G=P+D,k=M+S,R=e*o+n*i,$=z-C,H=T-F,W=_-O,j=r*i+e*u,Q=P+G,X=M+k,U=x+Y,K=B+Y,J=X-Q,Z=Y+y,tt=x+B+y,nt=2*E+N;return{inflectionPoly:[s*o-f*n,c*o+s*i-l*n-f*e,p+m-E-N,d-I],otherExtremaPoly:[z*(v-3*g)+C*(3*v-g)+2*(w*(a*e-h*i+3*(l*f-c*s))+3*s*f*H)+3*(R*(b-s*s)+$*(c*f+l*s)),a*(o*(X+3*G)+n*K)-h*(r*(3*z+C)+e*(3*T+2*F)+n*Q)+3*(c*(l*$-c*w+2*(f*H-s*R))+s*(2*l*H+f*(2*(M-P)+(S-D))-s*tt)+l*(l*w+2*f*R)+b*U),a*(2*r*R+e*Z+i*(4*P+Q))-h*(2*r*(3*T+F)+e*(S+2*P)+i*Z)+3*(c*(2*(l*H-s*tt)+f*J-c*R)+s*(2*f*W-s*j)+l*(l*R+2*f*U+s*J)+b*j),a*(r*(x+2*Y)+u*(S+3*G))-h*(r*(3*k+Q)+u*K)+3*(c*(l*J-c*U+2*(f*W-s*j))+s*(r*(nt-s*u)-u*(2*l*i+f*u))+l*(l*Y+r*(2*f*i+l*o))+f*u*nt),q*(v-g)+2*(_+O)*A-3*(L*(p+m-E-N)+(c*e+s*r+l*i+f*u)*V),A*q-3*L*V]}}(t),e=n.inflectionPoly,r=n.otherExtremaPoly,o=$e(r,0,1),i=Ft(r),u=[],s=[];for(let t=0;t<o.length;t++){const n=o[t],r=wn(i,n);wn(e,n)*r>=0?u.push(n):s.push(n)}return{minima:u,maxima:s,inflections:$e(e,0,1)}}function yg(t,n=1.001,e=10){const r=[0,1],o=[[0,1]],i=Pr(t);for(;o.length;){const t=o.pop(),u=i(t[0],t[1]),s=Mg(u);if(1+s/e*(s/or(u[0],u[u.length-1])-1)>n){const n=(t[0]+t[1])/2;o.push([t[0],n]),o.push([n,t[1]]),r.push(n)}}return r.sort(((t,n)=>t-n)),r}function wg(t,n){const e=t.length;if(0===n)return[[t[0][0]],[t[0][1]]];if(1===n)return[[t[e-1][0]],[t[e-1][1]]];const[r,o]=function(t){return 4===t.length?yo(t):3===t.length?wo(t):zo(t)}(t);return r[e-1]=[r[e-1]],o[e-1]=[o[e-1]],[Hn(r,n),Hn(o,n)]}function zg(t,n){const e=(t.length-1)*(n.length-1)+1,r=Math.ceil(e/2);for(let o=1;o<e+1;o++)if(!zc(n,wg(t,2**(o-r))))return!1;return!0}function Og(t){if(!po(t))return!1;const n=t.map((t=>t[0])),e=t.map((t=>t[1]));return!(Pg(n)&&Pg(e))}function Pg(t){return function(t){for(let n=1;n<t.length;n++)if(t[n-1]>t[n])return!1;return!0}(t)||function(t){for(let n=1;n<t.length;n++)if(t[n-1]<t[n])return!1;return!0}(t)}const{sqrtWithErr:Dg,divWithErr:Fg}=In,Cg=Math.abs,Ag=Number.EPSILON/2,Lg=Zr(1);function Vg([t,n]){const e=-n/t,r=Ag*Cg(n/t);return e+r>0&&e-r<1?[{r:e,rE:r}]:[]}function qg([t,n,e]){if(0===t)return Vg([n,e]);const r=n*n,o=r-4*t*e,i=Ag*r+4*Ag*Cg(t*e)+Lg*Cg(o);if(o<=-i)return[];const{est:u,err:s}=Dg(o,i);let c;c=n>=0?-n-u:-n+u;const f=s+Lg*Cg(c),{est:l,err:a}=Fg(c,2*t,f,0),{est:h,err:v}=Fg(2*e,c,0,f),g=[];return l+a>0&&l-a<1&&g.push({r:l,rE:a}),h+v>0&&h-v<1&&g.push({r:h,rE:v}),g}function Yg(t){const n=Je(t),e=$e(n[0],0,1),r=$e(n[1],0,1);e.push(0,1),r.push(0,1);let o,i,u,s,c=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n],[u]=Or(t,r);u<c&&(c=u,o=r),u>f&&(f=u,i=r)}for(let n=0;n<r.length;n++){const e=r[n],[,o]=Or(t,e);o<l&&(l=o,u=e),o>a&&(a=o,s=e)}return{ts:[[o,u],[i,s]],box:[[c,l],[f,a]]}}function Gg(t){const n=function(t){const n=t[0],e=t[t.length-1];let r,o;if(n[0]<e[0]?(r={ts:[0,0],box:[n,n]},o={ts:[1,1],box:[e,e]}):(r={ts:[1,1],box:[e,e]},o={ts:[0,0],box:[n,n]}),2===t.length)return{minX:r,maxX:o};const[i]=Je(t);let u;u=4===t.length?qg(i):Vg(i);for(let n=0;n<u.length;n++){const e=u[n],i=[e.r-e.rE,e.r+e.rE],s=Vf(t,i);s[0][0]<r.box[0][0]&&(r={ts:i,box:s}),s[1][0]>o.box[0][0]&&(o={ts:i,box:s})}return{minX:r,maxX:o}}(t),e=function(t){const n=t[0],e=t[t.length-1];let r,o;if(n[1]<e[1]?(r={ts:[0,0],box:[n,n]},o={ts:[1,1],box:[e,e]}):(r={ts:[1,1],box:[e,e]},o={ts:[0,0],box:[n,n]}),2===t.length)return{minY:r,maxY:o};const[,i]=Je(t);let u;u=4===t.length?qg(i):Vg(i);for(let n=0;n<u.length;n++){const e=u[n],i=[e.r-e.rE,e.r+e.rE],s=Vf(t,i);s[0][1]<r.box[0][1]&&(r={ts:i,box:s}),s[1][1]>o.box[0][1]&&(o={ts:i,box:s})}return{minY:r,maxY:o}}(t);return[[n.minX.box[0][0],e.minY.box[0][1]],[n.maxX.box[1][0],e.maxY.box[1][1]]]}function kg(t){const[n,e]=t[0],[r,o]=t[t.length-1];let i,u;const s=Mg(t);if(256*ir(t[0],t[t.length-1])<s*s){const[r,o]=Or(t,.5),s=Math.sqrt((r-n)*(r-n)+(o-e)*(o-e));i=(o-e)/s,u=(r-n)/s}else{const t=Math.sqrt((r-n)*(r-n)+(o-e)*(o-e));i=(o-e)/t,u=(r-n)/t}const c=function(t,n,e){const r=nr(t[0].map((t=>-t)));return Gg(t.map((t=>er(-n,e,r(t)))))}(t,i,u),[[f,l],[a,h]]=c,v=[c[0],[a,l],c[1],[f,h]],g=er(i,u);return v.map((n=>nr(t[0],g(n))))}function Rg(t){if(4===t.length){const[[n,e],[r,o],[i,u],[s,c]]=t;return[[n,e],[[(3*r-n)/2,(3*o-e)/2],[(3*i-s)/2,(3*u-c)/2]],[s,c]]}throw new Error("The given bezier curve is invalid (it must be a cubic)")}const $g=pn,Hg=un,Wg=cn,jg=an,Qg=sn,Xg=hn,Ug=nn,Kg=st,Jg=gt,Zg=x;function td(t,n){const{radius:e,center:r}=t,[o,i]=r,[[u,s,c,f],[l,a,h,v]]=yo(n),g=[f],d=[v];return[Jg([[u,u],[l,l]]),Zg(Jg([[s,u],[a,l]]),2),Jg([[[2],c,u],[s,s],[[2],h,l],[a,a]]),Zg(Jg([[g,u],[c,s],[[-1],u,[o]],[d,l],[h,a],[[-1],l,[i]]]),2),Jg([[[2],g,s],[c,c],[[-2],s,[o]],[[2],d,a],[h,h],[[-2],a,[i]]]),Zg(Jg([[g,c],[[-1],c,[o]],[d,h],[[-1],h,[i]]]),2),Jg([[g,g],[[-2],g,[o]],[d,d],[[-2],d,[i]],[Kg(o,o)],[Kg(i,i)],[Kg(-e,e)]])]}function nd(t,n){const{radius:e,center:r}=t,[o,i]=r,[[u,s,c],[f,l,a]]=wo(n),h=[c],v=[a];return[Jg([[u,u],[f,f]]),Zg(Jg([[s,u],[l,f]]),2),Jg([[[2],h,u],[s,s],[[-2],u,[o]],[[2],v,f],[l,l],[[-2],f,[i]]]),Zg(Jg([[h,s],[[-1],s,[o]],[v,l],[[-1],l,[i]]]),2),Jg([[h,h],[[-2],h,[o]],[v,v],[[-2],v,[i]],[Kg(o,o)],[Kg(i,i)],[Kg(-e,e)]])]}function ed(t,n){const{radius:e,center:r}=t,[o,i]=r,[[u,s],[c,f]]=zo(n),l=[s],a=[f];return[Jg([[u,u],[c,c]]),Zg(Jg([[l,u],[[-1],u,[o]],[a,c],[[-1],c,[i]]]),2),Jg([[l,l],[[-2],l,[o]],[a,a],[[-2],a,[i]],[Kg(o,o)],[Kg(i,i)],[Kg(-e,e)]])]}const rd=Math.abs,od=to(6);function id(t,n){let e,r,o;if(4===n.length)e=function(t,n){const{radius:e,center:[r,o]}=t,[[i,u,s,c],[f,l,a,h]]=Sh(n);return[Hg(Xg(i,i),Xg(f,f)),Wg(Hg(Xg(u,i),Xg(l,f))),Hg(Wg(Hg(Xg(s,i),Xg(a,f))),Hg(Xg(u,u),Xg(l,l))),Hg(Hg(Hg(Ug(2*c,i),Xg(Wg(s),u)),Hg(Ug(2*h,f),Xg(Wg(a),l))),Hg(Ug(-2*r,i),Ug(-2*o,f))),Hg(Hg(Hg(Ug(2*c,u),Ug(2*h,l)),Hg(Xg(s,s),Xg(a,a))),Hg(Ug(-2*r,u),Ug(-2*o,l))),Qg(Hg(Ug(2*c,s),Ug(2*h,a)),Hg(Ug(2*r,s),Ug(2*o,a))),Hg(jg(Hg($g(c,r),$g(h,o))),Qg(Hg(Hg($g(c,c),$g(h,h)),Hg($g(r,r),$g(o,o))),$g(e,e)))]}(t,n),r=function(t,n){const{radius:e,center:[r,o]}=t,[[i,u,s],[c,f,l]]=ec(n),a=n[0],h=rd(a[0]),v=rd(a[1]),g=rd(r),d=rd(o);return[i*i+c*c,2*(u*i+f*c),2*(s*i+l*c)+(u*u+f*f),2*(h*i+s*u+(v*c+l*f)+(i*g+c*d)),2*(h*u+v*f)+(s*s+l*l)+2*(u*g+f*d),2*(h*s+v*l+(s*g+l*d)),2*(h*g+v*d)+(h*h+v*v+(g*g+d*d)+e*e)]}(t,n),o=td;else if(3===n.length)e=function(t,n){const{radius:e,center:[r,o]}=t,[[i,u,s],[c,f,l]]=Th(n);return[Hg(Xg(i,i),Xg(c,c)),Hg(Xg(Wg(u),i),Xg(Wg(f),c)),Hg(Hg(Hg(Ug(2*s,i),Ug(2*l,c)),Hg(Xg(u,u),Xg(f,f))),Hg(Ug(-2*r,i),Ug(-2*o,c))),Hg(Hg(Ug(2*s,u),Ug(2*l,f)),Hg(Ug(-2*r,u),Ug(-2*o,f))),Hg(Hg(Hg($g(s,s),$g(l,l)),Hg($g(-2*s,r),$g(-2*l,o))),Qg(Hg($g(r,r),$g(o,o)),$g(e,e)))]}(t,n),r=function(t,n){const{radius:e,center:[r,o]}=t,[[i,u],[s,c]]=nc(n),f=n[0],l=rd(f[0]),a=rd(f[1]),h=rd(r),v=rd(o);return[i*i+s*s,2*(u*i+c*s),2*(l*i+a*s)+(u*u+c*c)+2*(i*h+s*v),2*(l*u+a*c+(u*h+c*v)),l*l+a*a+2*(l*h+a*v)+(h*h+v*v+e*e)]}(t,n),o=nd;else{if(2!==n.length)throw new Error("The given bezier curve is invalid");e=function(t,n){const{radius:e,center:[r,o]}=t,[[i,u],[s,c]]=Bh(n);return[Hg(Xg(i,i),Xg(s,s)),Wg(Qg(Hg(Ug(u,i),Ug(c,s)),Hg(Ug(r,i),Ug(o,s)))),Hg(Hg(jg(Hg($g(u,r),$g(c,o))),Hg($g(u,u),$g(c,c))),Qg(Hg($g(r,r),$g(o,o)),$g(e,e)))]}(t,n),r=function(t,n){const{radius:e,center:[r,o]}=t,[[i],[u]]=tc(n),s=n[0],c=rd(s[0]),f=rd(s[1]),l=rd(r),a=rd(o);return[i*i+u*u,2*(c*i+f*u+(i*l+u*a)),2*(c*l+f*a)+(c*c+f*f)+(l*l+a*a+e*e)]}(t,n),o=ed}return ze(e,0,1,r.map((t=>od*t)),(()=>o(t,n)))}function ud(t,n){const e=t.length;if(0===n)return t[0];if(1===n)return t[e-1];const[r,o]=Qe(t);return[wn(r,n),wn(o,n)]}function sd(t,n){const[e,r]=rv(t),o=t=>[wn(e,t),wn(r,t)];return void 0===n?o:o(n)}function cd(t,n){const[e,r]=Je(t),o=t=>[wn(e,t),wn(r,t)];return void 0===n?o:o(n)}const fd=function(t,n=!1){if(!t.length)return;function e(t,e,r){let o=xt(t,e,r);return n?o<0:o<=0}let r=t.slice(),o=r.length,i=function(t){let n,e=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY];for(let r=0;r<t.length;r++){let o=t[r][1];(o<e[1]||o===e[1]&&t[r][0]<e[0])&&(n=r,e=t[r])}return n}(r),[u]=r.splice(i,1);r.sort(((t,n)=>{let e=-xt(u,t,n);return 0!==e?e:(e=t[1]-n[1],0!==e?e:t[0]-n[0])})),r.unshift(u);let s=1;for(let t=2;t<o;t++){for(;e(r[s-1],r[s],r[t]);)if(s>1)s-=1;else{if(t===o-1){s-=1;break}t+=1}s+=1,wt(r,s,t)}return r.slice(0,s+1)};function ld(t){if(4===t.length){const[[n,e],[r,o],[i,u],[s,c]]=t;return`[[${n},${e}],[${r},${o}],[${i},${u}],[${s},${c}]]`}if(3===t.length){const[[n,e],[r,o],[i,u]]=t;return`[[${n},${e}],[${r},${o}],[${i},${u}]]`}if(2===t.length){const[[n,e],[r,o]]=t;return`[[${n},${e}],[${r},${o}]]`}if(1===t.length){const[[n,e]]=t;return`[[${n},${e}]]`}}var ad=n.bz,hd=n.y2,vd=n.SO,gd=n.gZ,dd=n.Cn,pd=n.Vr,bd=n.bG,md=n.d9,Id=n.jd,Ed=n.Ay,Nd=n.Sx,_d=n.hI,Md=n.Ne,xd=n.Dg,Sd=n.su,Td=n.WQ,Bd=n.T_,yd=n.K5,wd=n.ku,zd=n.hA,Od=n.OA,Pd=n.Lb,Dd=n.Go,Fd=n.Xm,Cd=n.jX,Ad=n.JQ,Ld=n.i$,Vd=n.Gc,qd=n.W9,Yd=n.A5,Gd=n.FZ,kd=n.vT,Rd=n.zX,$d=n.P6,Hd=n.QH,Wd=n.qt,jd=n.rs,Qd=n.Fn,Xd=n.Ge,Ud=n.Xn,Kd=n._p,Jd=n._k,Zd=n.VI,tp=n.UD,np=n.v9,ep=n.Vs,rp=n.Cf,op=n.u1,ip=n.iQ,up=n.ep,sp=n.yC,cp=n._u,fp=n.Us,lp=n.Gb,ap=n.zs,hp=n.cQ,vp=n.LI,gp=n.$k,dp=n.GS,pp=n.Mf,bp=n.dP,mp=n.PV,Ip=n.ir,Ep=n.v2,Np=n._z,_p=n.xV,Mp=n.Kd,xp=n.vC,Sp=n.MA,Tp=n.pr,Bp=n.i2,yp=n.HL,wp=n.AI,zp=n.LX,Op=n.q3,Pp=n.wj,Dp=n.pt,Fp=n.Vh,Cp=n.gt,Ap=n.Qi,Lp=n.Nl,Vp=n.mk,qp=n.I3,Yp=n.n,Gp=n.W_,kp=n.fF,Rp=n.J_,$p=n.OT,Hp=n.ub,Wp=n.wN,jp=n.cp,Qp=n.gd,Xp=n.wE,Up=n.mb,Kp=n.p0,Jp=n.NI,Zp=n.CH,tb=n._2,nb=n.Ll,eb=n.kE,rb=n.w2,ob=n.mJ,ib=n.uQ,ub=n.d3,sb=n.GY,cb=n.lx,fb=n.z$,lb=n.xO,ab=n.q_,hb=n.YR,vb=n.K_,gb=n.s6,db=n.rA,pb=n.Uc,bb=n.VG,mb=n.He,Ib=n.Qc,Eb=n.BB,Nb=n._G,_b=n.Ce,Mb=n.Cv,xb=n.Ef;export{ad as areBeziersInSameKFamily,hd as areBoxesIntersecting,vd as area,gd as bezier3Intersection,dd as bezierBezierIntersection,pd as bezierSelfIntersection,bd as circleBezierIntersection,md as clone,Id as closestPointOnBezier,Ed as closestPointOnBezierCertified,Nd as controlPointLinesLength,_d as cubicThroughPointGiven013,Md as curvature,xd as equal,Sd as evalDeCasteljau,Td as evalDeCasteljauError,Bd as evalDeCasteljauWithErr,yd as evalDeCasteljauWithErrDd,wd as evaluate,zd as evaluateDdxy,Od as evaluateDxy,Pd as evaluateExact,Dd as fitQuadsToCubic,Fd as flatness,Cd as fromPowerBasis,Ad as fromTo,Ld as fromToPrecise,Vd as generateCuspAtHalf3,qd as generateSelfIntersecting,Yd as getBoundingBox,Gd as getBoundingBoxTight,kd as getBoundingHull,Rd as getBounds,$d as getCoeffsBez1Bez1Dd,Hd as getCoeffsBez1Bez1Exact,Wd as getCoeffsBez1Bez2Dd,jd as getCoeffsBez1Bez2Exact,Qd as getCoeffsBez1Bez3Dd,Xd as getCoeffsBez1Bez3Exact,Ud as getCoeffsBez2Bez1Dd,Kd as getCoeffsBez2Bez1Exact,Jd as getCoeffsBez2Bez2Dd,Zd as getCoeffsBez2Bez2Exact,tp as getCoeffsBez2Bez3Dd,np as getCoeffsBez2Bez3Exact,ep as getCoeffsBez3Bez1Dd,rp as getCoeffsBez3Bez1Exact,op as getCoeffsBez3Bez2Dd,ip as getCoeffsBez3Bez2Exact,up as getCoeffsBez3Bez3Dd,sp as getCoeffsBez3Bez3Exact,cp as getCoeffsBez3Exact,fp as getCoeffsBez3WithRunningError,lp as getCoeffsBezBez,ap as getControlPointBox,hp as getCurvatureExtrema,vp as getDddxy,gp as getDdxy,dp as getDdxyAt0,pp as getDdxyAt1,bp as getDxy,mp as getDxyAt0,Ip as getDxyAt1,Ep as getHodograph,Np as getImplicitForm1,_p as getImplicitForm1Dd,Mp as getImplicitForm1DdWithRunningError,xp as getImplicitForm1ErrorCounters,Sp as getImplicitForm1Exact,Tp as getImplicitForm2,Bp as getImplicitForm2Dd,yp as getImplicitForm2DdWithRunningError,wp as getImplicitForm2ErrorCounters,zp as getImplicitForm2Exact,Op as getImplicitForm3,Pp as getImplicitForm3Dd,Dp as getImplicitForm3DdWithRunningError,Fp as getImplicitForm3ErrorCounters,Cp as getImplicitForm3Exact,Ap as getInflections,Lp as getInterfaceRotation,Vp as getIntervalBox,qp as getIntervalBoxDd,Yp as getTAtLength,Gp as getV,kp as getXY,Rp as getXY3DdWithRunningError,$p as hausdorffDistance,Hp as hausdorffDistanceCandidates,Wp as intersectBoxes,jp as isCollinear,Qp as isCubicReallyQuad,Xp as isHorizontal,Up as isPointOnBezierExtension,Kp as isQuadObtuse,Jp as isQuadReallyLine,Zp as isReallyPoint,tb as isSelfOverlapping,nb as isVertical,eb as length,rb as lineToCubic,ob as normal,ib as quadToPolyline,ub as quadraticToCubic,sb as reverse,cb as splitAt,fb as splitAtPrecise,lb as splitByCurvatureAndLength,ab as splitByMaxCurvature,hb as splitByMaxCurveLength,vb as tFromXY3,gb as tangent,db as toCubic,pb as toEstimation,bb as toExpansion,mb as toHybridQuadratic,Ib as toQuadraticFromCubic,Eb as toString,Nb as totalAbsoluteCurvature,_b as totalCurvature,Mb as totalLength,xb as κ};